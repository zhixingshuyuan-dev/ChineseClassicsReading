<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>論語集釋卷一 學而（上）</title>
    <style>
        body {
            font-family: 'KaiTi', '楷体', serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #222;
            color: #eee;
        }
        .title {
            font-size: 32px;
            text-align: center;
            margin-bottom: 30px;
            font-weight: bold;
            font-family: 'SimHei', '黑体', sans-serif;
            color: #fff;
        }
        .main-text {
            font-size: 28px;
            text-align: center;
            margin: 40px 0;
            line-height: 2;
            font-family: 'SimHei', '黑体', sans-serif;
        }
        .pinyin-display {
            font-size: 24px;
            text-align: center;
            color: #aaa;
            height: 40px;
            margin-bottom: 20px;
            font-family: 'SimHei', '黑体', sans-serif;
        }
        .char {
            cursor: pointer;
            padding: 0 5px;
        }
        .char:hover {
            background-color: #444;
            border-radius: 5px;
        }
        .buttons {
            text-align: center;
            margin: 30px 0;
        }
        button {
            padding: 12px 24px;
            margin: 8px;
            background-color: #333;
            border: 1px solid #555;
            border-radius: 6px;
            cursor: pointer;
            font-size: 20px;
            font-family: 'KaiTi', '楷体', serif;
            color: #eee;
        }
        button:hover {
            background-color: #444;
        }
        .annotation {
            display: none;
            margin: 30px 0;
            padding: 25px;
            border: 1px solid #444;
            border-radius: 8px;
            background-color: #333;
            font-size: 24px;
            line-height: 1.8;
        }
        .annotation.active {
            display: block;
        }
        .annotation-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #fff;
            font-size: 28px;
            font-family: 'SimHei', '黑体', sans-serif;
        }
        .read-btn {
            margin-top: 20px;
            background-color: #0066cc;
            font-size: 22px;
            padding: 10px 20px;
        }
    </style>
</head>
<body>
    <div class="title">論語集釋卷一 學而（上）</div>
    
    <div class="pinyin-display" id="pinyin-display">点击汉字显示拼音</div>
    
    <div class="main-text" id="main-text">
        <span class="char" onclick="showPinyin('yǒu')">有</span>
        <span class="char" onclick="showPinyin('péng')">朋</span>
        <span class="char" onclick="showPinyin('zì')">自</span>
        <span class="char" onclick="showPinyin('yuǎn')">遠</span>
        <span class="char" onclick="showPinyin('fāng')">方</span>
        <span class="char" onclick="showPinyin('lái')">來</span>
        <span class="char" onclick="showPinyin('bù')">，</span>
        <span class="char" onclick="showPinyin('bù')">不</span>
        <span class="char" onclick="showPinyin('yì')">亦</span>
        <span class="char" onclick="showPinyin('lè')">樂</span>
        <span class="char" onclick="showPinyin('hū')">乎</span>
        <span class="char" onclick="showPinyin('yǒu')">？</span>
    </div>
    
    <div class="buttons">
        <button onclick="readText()">朗读正文</button>
    </div>
    
    <div class="buttons">
        <button onclick="showAnnotation('kaoyi')">考異</button>
        <button onclick="showAnnotation('kaozheng')">考證</button>
        <button onclick="showAnnotation('jijie')">集解</button>
        <button onclick="showAnnotation('tangqian')">唐以前古注</button>
        <button onclick="showAnnotation('jizhu')">集注</button>
        <button onclick="showAnnotation('biejie')">別解</button>
        <button onclick="showAnnotation('yulun')">餘論</button>
    </div>
    
    <div id="kaoyi" class="annotation">
        <div class="annotation-title">考異</div>
        <p>陸德明論語釋文：「有」，或作「友」，非。 白虎通•辟雍篇引論語曰：「朋友自遠方來。」 阮元論語校勘記：鄭氏康成注此云：「同門曰朋，同志曰友。」是舊本皆作友字。臧庸拜經日記：白虎通•辟雍篇：「師弟子之道有三：論語曰『朋友自遠方來』，朋友之道也。」又易•蹇正義、周禮•司諫疏並引鄭康成此注云：「同門曰朋，同志曰友。」考班孟堅引用多爲魯論，包鄭所注亦魯論，然則魯論舊本作「朋友自遠方來」，陸氏所見本「有」作「友」，正與班鄭等合。特「友」字當在「朋」下，何晏作「有朋」未知所據。所採包注原本當亦有「同志曰友」一句，因經作「有」，故節之。洪頤煊讀書叢錄據文選陸機挽歌「友朋自遠方」李善注引論語爲證，謂「有」當作「友」。武億群經義證：釋名：「友，有也，相保有也。」友、有同用，或作「友」，與古傳本合，未可云非。盧文弨釋文考證：吕氏春秋•貴直篇「有人自南方來」，句法極相似。陸氏謂「作『友』非」是也。</p>
        <p>按：馬國翰玉函山房輯佚書•論語類謂包爲魯論，作「有朋」；周易•蹇正義引鄭玄注並解「朋友」。陸德明釋文云：「鄭校周之本，以齊、古讀正凡五十事。」凡與魯異而不言從古者，齊、古同也。然則作「有朋」者，魯論也。作「朋友」者，齊、古論也。</p>
        <button class="read-btn" onclick="readAnnotation('kaoyi')">朗读注解</button>
    </div>
    
    <div id="kaozheng" class="annotation">
        <div class="annotation-title">考證</div>
        <p>宋翔鳳樸學齋札記：史記•孔子世家：「定公五年，魯自大夫以下皆僭離於正道，故孔子不仕，退而修詩、書、禮、樂。弟子彌眾，至自遠方，莫不受業焉。」弟子至自遠方，卽「有朋自遠方來」也。「朋」卽指弟子。故白虎通•辟雍篇云：「師弟子之道有三：論語曰『朋友自遠方來』，朋友之道也。」又孟子：「子濯孺子曰：『其取友必端矣。』」亦指友爲弟子。毛奇齡論語稽求篇：「同門曰朋。」此是古注，自說文及詩注、左傳注、公羊傳注皆然。周禮•大司徒鄭注「同師曰朋」，便不如同門之當。蓋朋是門户之名，凡曰朋黨，曰朋比，比是鄉比，黨是黨塾，皆里門閭户學僮居處名色。故朋爲同門，此是字義本爾，不可易也。大抵學中境次，從黨庠肄習之後，既已分開，又復來合，致足娛樂。與學記所云「敬業樂羣」，檀弓所云「離羣索居」，正可比觀。蓋以離爲苦，則必以合爲樂也。潘維城論語古注集箋（下簡稱潘氏集箋）：「朋」，說文以爲古文「鳳」，云：「鳳飛，羣鳥從以萬數，故以爲朋黨字。」 劉氏正義：「自遠方來」者，廣雅•釋詁：「自，從也。」爾雅•釋詁：「遠，遐也。」淮南•兵略訓：「方者，地也。」禮•表記注：「方，四方也。」爾雅•釋詁：「來，至也。」並常訓。學記言學至大成，「足以化民易俗，近者說服，而遠者懷之，此大學之道。」然則朋來正是學成之驗。「不亦樂乎」者，蒼頡篇：「樂，喜也。」與「說」義同。易•彖傳：「麗澤兌，君子以朋友講習。」兌者，說也。禮•中庸云：「誠者，非自成己而已也，所以成物也。」此文「時習」是成己，「朋來」是成物。但成物亦由成己，既以驗己之功修，又以得教學相長之益，人才造就之多，所以樂也。孟子以「得天下英才而教育之」爲樂，亦此意。</p>
        <button class="read-btn" onclick="readAnnotation('kaozheng')">朗读注解</button>
    </div>
    
    <div id="jijie" class="annotation">
        <div class="annotation-title">集解</div>
        <p>包咸曰：「同門曰朋。」</p>
        <p>按：咸字子良，會稽曲阿人。少爲諸生，倡魯詩、論語。舉孝廉，除郎中。建武中，入授皇太子論語，又爲其章句。拜諫議大夫，五年，遷大鴻臚。事蹟詳後漢書•儒林傳。皇疏作「苞咸」，「苞」、「包」二字古通，當依漢書傳作「包」。何晏論語集解云：「安昌侯張禹本受魯論，兼講齊說。善者從之，號曰『張侯論』，爲世所貴，包氏、周氏章句出焉。」然則包氏所爲章句，蓋用禹說。惜全書久佚，隋、唐志皆不及著目，今惟玉函山房輯佚書中有輯本二卷。（此注文選•古詩十九首李善注引作鄭注，未知孰是。）</p>
        <button class="read-btn" onclick="readAnnotation('jijie')">朗读注解</button>
    </div>
    
    <div id="tangqian" class="annotation">
        <div class="annotation-title">唐以前古注</div>
        <p>皇疏引江熙云：君子以朋友講習，出其言善，則千里之外應之。遠人且至，況其近者乎？道同齊味，歡然適願，所以樂也。</p>
        <p>按：隋書•經籍志有集解論語，江熙撰。唐書•藝文志作江熙集解，並云十卷。熙晉書無傳。據冊府元龜，知其字太和，爲兗州別駕。他無可考。皇疏•序稱熙所集論語凡十三家，取衆說以成書，故以集解爲名。邢昺疏引二節，知此書宋初尚存，今佚。玉函山房有輯本二卷。觀此則有晉一代之說論語，其同異得失略備於茲矣。</p>
        <button class="read-btn" onclick="readAnnotation('tangqian')">朗读注解</button>
    </div>
    
    <div id="jizhu" class="annotation">
        <div class="annotation-title">集注</div>
        <p>朋，同類也。自遠方來，則近者可知。程子曰：「以善及人而信從者衆，故可樂。」又曰：「說在心，樂主發散在外。」</p>
        <button class="read-btn" onclick="readAnnotation('jizhu')">朗读注解</button>
    </div>
    
    <div id="biejie" class="annotation">
        <div class="annotation-title">別解</div>
        <p>俞樾羣經平議：釋文曰：「『有』或作『友』。」阮氏校勘記據白虎通•辟雍篇引此文作「朋友自遠方來」，洪氏頤煊讀書叢錄又引文選陸機挽歌「友朋自遠來」證舊本是「友」字。今按說文•方部：「方，併船也。象兩舟省總頭形。」故方卽有並義。淮南•氾論篇曰「乃爲窬木方版」，高誘注曰：「方，並也。」尚書•微子篇曰：「小民方興。」史記•宋世家作「並興」，是「方」、「並」同義。友朋自遠方來，猶云友朋自遠並來。曰友曰朋，明非一人，故曰並來。然則「有」之當作「友」，尋繹本文卽可見矣。今學者誤以「遠方」二字連文，非是。凡經言「方來」者，如周易「不寧方來」，尚書作「兄弟方來」，義皆同。</p>
        <button class="read-btn" onclick="readAnnotation('biejie')">朗读注解</button>
    </div>
    
    <div id="yulun" class="annotation">
        <div class="annotation-title">餘論</div>
        <p>論語述何：易曰：「君子居其室，出其言善，則千里之外應之，況其邇者乎？」記曰：「獨學而無友，則孤陋而寡聞。友天下之善士故樂。」阮元揅經室集：此章乃孔子教人語，卽生平學行始末也。故學必兼誦行，其義乃全。注以習爲誦習，失之。朋自遠來者，孔子道兼師儒。周禮•司徒師以德行教民，儒以六藝教民。各國學者皆來從學也。蓋學而時習，未有不朋來。聖人之道不見用於世，所恃以傳於天下後世者，朋也。潘氏集箋：史記•孔子世家云：「定公五年，魯自大夫以下皆僭離於正道，故孔子不仕，退而修詩、書、禮、樂。弟子彌眾，至自遠方，莫不受業焉。」卽「有朋自遠方來」也。</p>
        <p>按：阮氏、潘氏此章貼孔子自身說，雖係創論，但非別解，故入之餘論中。</p>
        <button class="read-btn" onclick="readAnnotation('yulun')">朗读注解</button>
    </div>

    <script>
        // Text-to-Speech implementation
        const synth = window.speechSynthesis;
        let currentUtterance = null;
        
        function showPinyin(pinyin) {
            document.getElementById('pinyin-display').textContent = pinyin;
        }
        
        function readText() {
            if (synth.speaking) {
                synth.cancel();
                return;
            }
            
            const text = "有朋自远方来，不亦乐乎？";
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'zh-CN';
            utterance.rate = 0.9;
            
            currentUtterance = utterance;
            synth.speak(utterance);
        }
        
        function showAnnotation(id) {
            // Hide all annotations first
            document.querySelectorAll('.annotation').forEach(anno => {
                anno.classList.remove('active');
            });
            
            // Show the selected annotation
            document.getElementById(id).classList.add('active');
        }
        
        function readAnnotation(id) {
            if (synth.speaking) {
                synth.cancel();
                return;
            }
            
            const annotation = document.getElementById(id).querySelector('p').textContent;
            const utterance = new SpeechSynthesisUtterance(annotation);
            utterance.lang = 'zh-CN';
            utterance.rate = 0.8;
            
            currentUtterance = utterance;
            synth.speak(utterance);
        }
        
        // Stop speech when clicking elsewhere
        document.addEventListener('click', function(e) {
            if (!e.target.classList.contains('read-btn') && 
                !e.target.classList.contains('char') && 
                e.target.tagName !== 'BUTTON') {
                if (synth.speaking) {
                    synth.cancel();
                }
            }
        });
    </script>
</body>
</html>