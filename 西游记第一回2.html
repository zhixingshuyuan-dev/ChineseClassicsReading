<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>西游记阅读器</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
      font-family: "微软雅黑", sans-serif;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #textContainer {
      text-align: center;
      max-width: 90%;
      padding: 20px;
    }

    .sentence {
      font-size: 48px;
      line-height: 1.5;
      margin: 0 auto;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
    }

    .sentence.active {
      opacity: 1;
    }

    .hanzi {
      display: inline-block;
      min-width: 50px;
      opacity: 0;
      transform: scale(0.5);
      transition: all 0.5s ease-out;
      cursor: pointer;
      position: relative;
    }

    .hanzi.show {
      opacity: 1;
      transform: scale(1);
    }

    .hanzi.highlight {
      color: #00fff7;
      text-shadow: 0 0 10px #00fff7;
    }

    .hanzi .pinyin {
      position: absolute;
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 16px;
      background: rgba(0,0,0,0.7);
      padding: 2px 5px;
      border-radius: 3px;
      display: none;
    }

    .hanzi:hover .pinyin {
      display: block;
    }

    #controls {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
    }

    button {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 1px solid white;
      padding: 8px 15px;
      margin: 0 5px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background: rgba(255,255,255,0.3);
    }
  </style>
</head>
<body>
  <div id="textContainer"></div>
  <div id="controls">
    <button id="prevBtn">上一句</button>
    <button id="pauseBtn">暂停</button>
    <button id="nextBtn">下一句</button>
  </div>

  <script>
    const sentences = [
      "你看他瞑目蹲身，将身一纵，径跳入瀑布泉中，忽睁睛抬头观看，那里边却无水无波，明明朗朗的一架桥梁。",
      "他住了身，定了神，仔细再看，原来是座铁板桥。",
      "桥下之水，冲贯于石窍之间，倒挂流出去，遮闭了桥门。",
      "却又欠身上桥头，再走再看，却似有人家住处一般，真个好所在。",
      "看罢多时，跳过桥中间，左右观看，只见正当中有一石碣。",
      "碣上有一行楷书大字，镌着\"花果山福地，水帘洞洞天。\"",
      "石猴喜不自胜，急抽身往外便走，复瞑目蹲身，跳出水外，打了两个呵呵道：\"大造化！大造化！\"",
      "众猴把他围住，问道：\"里面怎么样？水有多深？\"",
      "石猴道：\"没水！没水！原来是一座铁板桥。桥那边是一座天造地设的家当。\"",
      "众猴道：\"怎见得是个家当？\"",
      "石猴笑道：\"这股水乃是桥下冲贯石桥，倒挂下来遮闭门户的。\"",
      "桥边有花有树，乃是一座石房。",
      "房内有石窝、石灶、石碗、石盆、石床、石凳。",
      "中间一块石碣上，镌着'花果山福地，水帘洞洞天。'",
      "真个是我们安身之处。里面且是宽阔，容得千百口老小。",
      "我们都进去住也，省得受老天之气。",
      "众猴听得，个个欢喜。都道：\"你还先走，带我们进去，进去！\"",
      "石猴却又瞑目蹲身，往里一跳，叫道：\"都随我进来！进来！\"",
      "那些猴有胆大的，都跳进去了；胆小的，一个个伸头缩颈，抓耳挠腮，大声叫喊，缠一会，也都进去了。",
      "跳过桥头，一个个抢盆夺碗，占灶争床，搬过来，移过去，正是猴性顽劣，再无一个宁时，只搬得力倦神疲方止。",
      "石猴端坐上面道：\"列位呵，'人而无信，不知其可'。\"",
      "你们才说有本事进得来，出得去，不伤身体者，就拜他为王。",
      "我如今进来又出去，出去又进来，寻了这一个洞天与列位安眠稳睡，各享成家之福，何不拜我为王？",
      "众猴听说，即拱伏无违。",
      "一个个序齿排班，朝上礼拜，都称\"千岁大王\"。",
      "自此，石猴高登王位，将\"石\"字儿隐了，遂称美猴王。",
      "美猴王领一群猿猴、猕猴、马猴等，分派了君臣佐使，朝游花果山，暮宿水帘洞，合契同情，不入飞鸟之丛，不从走兽之类，独自为王，不胜欢乐。",
      "美猴王享乐天真，何期有三五百载。",
      "一日，与群猴喜宴之间，忽然忧恼，堕下泪来。",
      "众猴慌忙罗拜道：\"大王何为烦恼？\"",
      "猴王道：\"我虽在欢喜之时，却有一点儿远虑，故此烦恼。\"",
      "众猴又笑道：\"大王好不知足！我等日日欢会，在仙山福地，古洞神州，不伏麒麟辖，不伏凤凰管，又不伏人间王位所拘束，自由自在，乃无量之福，为何远虑而忧也？\"",
      "猴王道：\"今日虽不归人王法律，不惧禽兽威服，将来年老血衰，暗中有阎王老子管着，一旦身亡，可不枉生世界之中，不得久住天人之内？\"",
      "众猴闻此言，一个个掩面悲啼，俱以无常为虑。",
      "只见那班部中，忽跳出一个通背猿猴，厉声高叫道：\"大王若是这般远虑，真所谓道心开发也！\"",
      "如今五虫之内，惟有三等名色，不伏阎王老子所管。",
      "猴王道：\"你知那三等人？\"",
      "猿猴道：\"乃是佛与仙与神圣三者，躲过轮回，不生不灭，与天地山川齐寿。\"",
      "猴王道：\"此三者居于何所？\"",
      "猿猴道：\"他只在阎浮世界之中，古洞仙山之内。\"",
      "猴王闻之，满心欢喜，道：\"我明日就辞汝等下山，云游海角，远涉天涯，务必访此三者，学一个不老长生，常躲过阎君之难。\"",
      "噫！这句话，顿教跳出轮回网，致使齐天大圣成。",
      "众猴鼓掌称扬，都道：\"善哉！善哉！我等明日越岭登山，广寻些果品，大设筵宴送大王也。\"",
      "次日，众猴果去采仙桃，摘异果，刨山药，劚黄精，芝兰香蕙，瑶草奇花，般般件件，整整齐齐，摆开石凳石桌，排列仙酒仙肴。",
      "群猴尊美猴王上坐，各依齿肩排于下边，一个个轮流上前，奉酒，奉花，奉果，痛饮了一日。"
    ];

    const pinyinMap = {
      "你": "nǐ", "看": "kàn", "他": "tā", "瞑": "míng", "目": "mù",
      "蹲": "dūn", "身": "shēn", "将": "jiāng", "一": "yī", "纵": "zòng",
      "径": "jìng", "跳": "tiào", "入": "rù", "瀑": "pù", "布": "bù",
      "泉": "quán", "忽": "hū", "睁": "zhēng", "睛": "jīng", "抬": "tái",
      "头": "tóu", "观": "guān", "那": "nà", "里": "lǐ", "边": "biān",
      "却": "què", "无": "wú", "水": "shuǐ", "波": "bō", "明": "míng",
      "朗": "lǎng", "架": "jià", "桥": "qiáo", "梁": "liáng", "住": "zhù",
      "定": "dìng", "神": "shén", "仔": "zǐ", "细": "xì", "原": "yuán",
      "来": "lái", "是": "shì", "座": "zuò", "铁": "tiě", "板": "bǎn",
      "冲": "chōng", "贯": "guàn", "于": "yú", "石": "shí", "窍": "qiào",
      "之": "zhī", "间": "jiān", "倒": "dào", "挂": "guà", "流": "liú",
      "出": "chū", "遮": "zhē", "闭": "bì", "门": "mén", "户": "hù",
      "又": "yòu", "欠": "qiàn", "上": "shàng", "走": "zǒu", "似": "sì",
      "人": "rén", "家": "jiā", "处": "chù", "般": "bān", "真": "zhēn",
      "好": "hǎo", "所": "suǒ", "在": "zài", "罢": "bà", "多": "duō",
      "时": "shí", "左": "zuǒ", "右": "yòu", "只": "zhǐ", "见": "jiàn",
      "正": "zhèng", "当": "dāng", "中": "zhōng", "碣": "jié", "行": "háng",
      "楷": "kǎi", "书": "shū", "大": "dà", "字": "zì", "镌": "juān",
      "花": "huā", "果": "guǒ", "山": "shān", "福": "fú", "地": "dì",
      "帘": "lián", "洞": "dòng", "天": "tiān", "喜": "xǐ", "自": "zì",
      "不": "bù", "胜": "shèng", "急": "jí", "抽": "chōu", "外": "wài",
      "便": "biàn", "复": "fù", "打": "dǎ", "了": "le", "两": "liǎng",
      "个": "gè", "呵": "hē", "呵": "hē", "造": "zào", "化": "huà",
      "众": "zhòng", "把": "bǎ", "围": "wéi", "问": "wèn", "里": "lǐ",
      "面": "miàn", "怎": "zěn", "样": "yàng", "深": "shēn", "没": "méi",
      "设": "shè", "股": "gǔ", "乃": "nǎi", "房": "fáng", "窝": "wō",
      "灶": "zào", "碗": "wǎn", "盆": "pén", "床": "chuáng", "凳": "dèng",
      "安": "ān", "且": "qiě", "宽": "kuān", "阔": "kuò", "容": "róng",
      "得": "dé", "百": "bǎi", "口": "kǒu", "老": "lǎo", "小": "xiǎo",
      "都": "dōu", "省": "shěng", "受": "shòu", "气": "qì", "听": "tīng",
      "欢": "huān", "还": "hái", "先": "xiān", "带": "dài", "进": "jìn",
      "那": "nà", "些": "xiē", "胆": "dǎn", "大": "dà", "的": "de",
      "伸": "shēn", "缩": "suō", "颈": "jǐng", "抓": "zhuā", "耳": "ěr",
      "挠": "náo", "腮": "sāi", "大": "dà", "声": "shēng", "叫": "jiào",
      "喊": "hǎn", "缠": "chán", "会": "huì", "抢": "qiǎng", "夺": "duó",
      "占": "zhàn", "争": "zhēng", "搬": "bān", "过": "guò", "移": "yí",
      "顽": "wán", "劣": "liè", "宁": "níng", "力": "lì", "倦": "juàn",
      "疲": "pí", "方": "fāng", "止": "zhǐ", "端": "duān", "坐": "zuò",
      "列": "liè", "位": "wèi", "呵": "a", "而": "ér", "信": "xìn",
      "知": "zhī", "其": "qí", "可": "kě", "才": "cái", "拜": "bài",
      "为": "wéi", "寻": "xún", "稳": "wěn", "睡": "shuì", "享": "xiǎng",
      "成": "chéng", "何": "hé", "说": "shuō", "即": "jí", "拱": "gǒng",
      "伏": "fú", "违": "wéi", "序": "xù", "齿": "chǐ", "排": "pái",
      "班": "bān", "朝": "cháo", "礼": "lǐ", "称": "chēng", "千": "qiān",
      "岁": "suì", "王": "wáng", "此": "cǐ", "高": "gāo", "登": "dēng",
      "隐": "yǐn", "遂": "suì", "美": "měi", "领": "lǐng", "猿": "yuán",
      "猕": "mí", "马": "mǎ", "等": "děng", "分": "fēn", "派": "pài",
      "君": "jūn", "臣": "chén", "佐": "zuǒ", "使": "shǐ", "暮": "mù",
      "合": "hé", "契": "qì", "同": "tóng", "情": "qíng", "独": "dú",
      "乐": "lè", "期": "qī", "三": "sān", "五": "wǔ", "载": "zǎi",
      "日": "rì", "宴": "yàn", "忧": "yōu", "恼": "nǎo", "堕": "duò",
      "泪": "lèi", "慌": "huāng", "忙": "máng", "罗": "luó", "何": "hé",
      "烦": "fán", "虑": "lǜ", "故": "gù", "知": "zhī", "足": "zú",
      "仙": "xiān", "古": "gǔ", "神": "shén", "州": "zhōu", "伏": "fú",
      "麒": "qí", "麟": "lín", "辖": "xiá", "凤": "fèng", "凰": "huáng",
      "管": "guǎn", "间": "jiān", "律": "lǜ", "惧": "jù", "威": "wēi",
      "服": "fú", "将": "jiāng", "年": "nián", "老": "lǎo", "血": "xuè",
      "衰": "shuāi", "暗": "àn", "阎": "yán", "老": "lǎo", "子": "zǐ",
      "旦": "dàn", "亡": "wáng", "枉": "wǎng", "生": "shēng", "世": "shì",
      "界": "jiè", "久": "jiǔ", "住": "zhù", "闻": "wén", "言": "yán",
      "掩": "yǎn", "面": "miàn", "悲": "bēi", "啼": "tí", "俱": "jù",
      "常": "cháng", "班": "bān", "部": "bù", "通": "tōng", "背": "bèi",
      "厉": "lì", "发": "fā", "五": "wǔ", "虫": "chóng", "惟": "wéi",
      "色": "sè", "佛": "fó", "圣": "shèng", "躲": "duǒ", "轮": "lún",
      "回": "huí", "灭": "miè", "川": "chuān", "寿": "shòu", "居": "jū",
      "浮": "fú", "满": "mǎn", "心": "xīn", "明": "míng", "辞": "cí",
      "汝": "rǔ", "云": "yún", "游": "yóu", "海": "hǎi", "角": "jiǎo",
      "远": "yuǎn", "涉": "shè", "涯": "yá", "务": "wù", "访": "fǎng",
      "学": "xué", "长": "cháng", "难": "nán", "噫": "yī", "顿": "dùn",
      "教": "jiào", "网": "wǎng", "致": "zhì", "齐": "qí", "鼓": "gǔ",
      "掌": "zhǎng", "扬": "yáng", "善": "shàn", "哉": "zāi", "越": "yuè",
      "岭": "lǐng", "登": "dēng", "广": "guǎng", "设": "shè", "筵": "yán",
      "送": "sòng", "次": "cì", "采": "cǎi", "桃": "táo", "摘": "zhāi",
      "异": "yì", "刨": "páo", "药": "yào", "劚": "zhǔ", "黄": "huáng",
      "精": "jīng", "芝": "zhī", "兰": "lán", "香": "xiāng", "蕙": "huì",
      "瑶": "yáo", "草": "cǎo", "奇": "qí", "般": "bān", "件": "jiàn",
      "整": "zhěng", "齐": "qí", "摆": "bǎi", "桌": "zhuō", "排": "pái",
      "酒": "jiǔ", "肴": "yáo", "尊": "zūn", "依": "yī", "肩": "jiān",
      "轮": "lún", "流": "liú", "前": "qián", "奉": "fèng", "痛": "tòng",
      "饮": "yǐn"
    };

    let currentSentenceIndex = 0;
    let isPlaying = true;
    let timeoutId = null;
    const textContainer = document.getElementById('textContainer');
    const prevBtn = document.getElementById('prevBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const nextBtn = document.getElementById('nextBtn');

    // 页面加载后自动开始
    window.addEventListener('load', () => {
      showCurrentSentence();
      setupControls();
    });

    function setupControls() {
      prevBtn.addEventListener('click', () => {
        if (currentSentenceIndex > 0) {
          currentSentenceIndex--;
          showCurrentSentence();
        }
      });

      pauseBtn.addEventListener('click', () => {
        isPlaying = !isPlaying;
        pauseBtn.textContent = isPlaying ? '暂停' : '继续';
        if (isPlaying) {
          showCurrentSentence();
        } else {
          clearTimeout(timeoutId);
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentSentenceIndex < sentences.length - 1) {
          currentSentenceIndex++;
          showCurrentSentence();
        }
      });
    }

    function showCurrentSentence() {
      clearTimeout(timeoutId);
      
      const sentence = sentences[currentSentenceIndex];
      textContainer.innerHTML = '';
      
      const sentenceEl = document.createElement('div');
      sentenceEl.className = 'sentence';
      textContainer.appendChild(sentenceEl);
      
      // 逐个添加汉字
      const chars = sentence.split('');
      chars.forEach((char, index) => {
        const hanzi = document.createElement('span');
        hanzi.className = 'hanzi';
        hanzi.textContent = char;
        
        // 添加拼音元素
        const pinyin = document.createElement('span');
        pinyin.className = 'pinyin';
        pinyin.textContent = pinyinMap[char] || '';
        hanzi.appendChild(pinyin);
        
        sentenceEl.appendChild(hanzi);
        
        // 逐个显示汉字
        setTimeout(() => {
          hanzi.classList.add('show');
        }, index * 300);
      });
      
      // 显示整句
      setTimeout(() => {
        sentenceEl.classList.add('active');
      }, 500);
      
      // 自动播放下一句
      if (isPlaying) {
        const sentenceDuration = chars.length * 300 + 6000;
        timeoutId = setTimeout(() => {
          if (currentSentenceIndex < sentences.length - 1) {
            currentSentenceIndex++;
            showCurrentSentence();
          } else {
            // 循环播放
            currentSentenceIndex = 0;
            showCurrentSentence();
          }
        }, sentenceDuration);
      }
    }
  </script>
</body>
</html>
