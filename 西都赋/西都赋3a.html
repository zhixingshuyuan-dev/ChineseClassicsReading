<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„ÄäË•øÈÉΩËµã„ÄãÁ¨¨‰∏âËäÇ </title>
    <style>
        body {
            font-family: "SimSun", "ÂÆãÈ´î", serif;
            line-height: 2.5;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #3a3226;
            color: #e0d5c8;
        }
        
        h1 {
            color: #d4b483;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #5d4b36;
            padding-bottom: 10px;
        }
        
        .main-text {
            font-size: 24px;
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .char {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .char:hover {
            color: #d4a373;
            text-shadow: 0 0 3px rgba(212, 163, 115, 0.5);
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4a4235;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 300px;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
        }
        
        .popup-content {
            font-size: 16px;
        }
        
        .popup-char {
            font-size: 28px;
            text-align: center;
            margin-bottom: 10px;
            color: #d4b483;
        }
        
        .popup-pinyin, .popup-meaning {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #5d4b36;
        }
        
        .popup-close {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #a89984;
        }
        
        .paragraph {
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            margin: 10px 0;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            border: none;
            border-radius: 50%;
            background: #5d4b36;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: #e0d5c8;
            font-size: 14px;
        }
        
        .control-btn:hover {
            background: #7c6a53;
            transform: scale(1.1);
        }
        
        .annotation {
            font-size: 18px;
            background: #4a4235;
            padding: 12px 15px;
            border-left: 3px solid #a89984;
            margin: 12px 0;
            display: none;
            color: #d4b483;
            border-radius: 0 5px 5px 0;
        }
        
        .toggle-annotation {
            background: #5d4b36;
            border: none;
            color: #e0d5c8;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .toggle-annotation:hover {
            background: #7c6a53;
        }
        
        .translation-panel {
            display: none;
            background: #4a4235;
            border: 1px solid #5d4b36;
            padding: 12px;
            margin-top: 8px;
            border-radius: 5px;
        }
        
        .lang-btn {
            background: #3a3226;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
            padding: 3px 8px;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .lang-btn:hover {
            background: #5d4b36;
        }
        
        .lang-btn.active {
            background: #a89984;
            color: #3a3226;
            font-weight: bold;
        }
        
        .translation-content {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #5d4b36;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .translation-content div {
            display: none;
            padding: 6px 0;
        }
        
        .translation-content div.show {
            display: block;
        }
        
        .punctuation {
            color: #a89984;
        }
        
        .sentence {
            display: inline;
            position: relative;
        }
        
        .sentence.active {
            background-color: rgba(212, 180, 131, 0.3);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>Ë•øÈÉΩË≥¶</h1>
    
    <div class="main-text">
        <!-- Á¨¨‰∏ÄÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="j√≠" data-meaning="until">Âèä</span>
                <span class="char" data-pinyin="zh√¨" data-meaning="arrive">Ëá≥</span>
                <span class="char" data-pinyin="d√†" data-meaning="great">Â§ß</span>
                <span class="char" data-pinyin="h√†n" data-meaning="Han">Êº¢</span>
                <span class="char" data-pinyin="sh√≤u" data-meaning="receive">Âèó</span>
                <span class="char" data-pinyin="m√¨ng" data-meaning="mandate">ÂëΩ</span>
                <span class="char" data-pinyin="√©r" data-meaning="and">ËÄå</span>
                <span class="char" data-pinyin="d≈´" data-meaning="capital">ÈÉΩ</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="it">‰πã</span>
                <span class="char" data-pinyin="yƒõ" data-meaning="particle">‰πü</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="y«éng" data-meaning="look up">‰ª∞</span>
                <span class="char" data-pinyin="w√π" data-meaning="realize">ÊÇü</span>
                <span class="char" data-pinyin="d≈çng" data-meaning="east">Êù±</span>
                <span class="char" data-pinyin="j«êng" data-meaning="well">‰∫ï</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="'s">‰πã</span>
                <span class="char" data-pinyin="jƒ´ng" data-meaning="essence">Á≤æ</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="f«î" data-meaning="look down">‰øØ</span>
                <span class="char" data-pinyin="xi√©" data-meaning="harmonize">Âçî</span>
                <span class="char" data-pinyin="h√©" data-meaning="river">„Ää</span>
                <span class="char" data-pinyin="t√∫" data-meaning="chart">Ê≤≥</span>
                <span class="char" data-pinyin="t√∫" data-meaning="chart">Âúñ</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="'s">„Äã</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="'s">‰πã</span>
                <span class="char" data-pinyin="l√≠ng" data-meaning="spirit">Èùà</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>Áõ¥Âà∞Â§ßÊ±âÊé•ÂèóÂ§©ÂëΩÂÆöÈÉΩ‰∫éÊ≠§Ôºå‰∏äÊÇü‰∏ú‰∫ïÊòüÂÆø‰πãÁ≤æÔºå‰∏ãÂêà„ÄäÊ≤≥Âõæ„Äã‰πãÁÅµ„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Until the great Han received the mandate and made it the capital, looking up to realize the essence of the Eastern Well constellation, and looking down to harmonize with the spirit of the River Chart.</p>
                    </div>
                    <div lang="de">
                        <p>Bis die gro√üe Han-Dynastie das Mandat erhielt und es zur Hauptstadt machte, blickte sie auf, um das Wesen der √∂stlichen Brunnen-Konstellation zu erkennen, und blickte hinab, um sich mit dem Geist des Flussdiagramms zu harmonisieren.</p>
                    </div>
                    <div lang="fr">
                        <p>Jusqu'√† ce que la grande dynastie Han re√ßoive le mandat et en fasse sa capitale, levant les yeux pour r√©aliser l'essence de la constellation du Puits oriental, et baissant les yeux pour s'harmoniser avec l'esprit du Diagramme de la Rivi√®re.</p>
                    </div>
                    <div lang="ru">
                        <p>–ü–æ–∫–∞ –≤–µ–ª–∏–∫–∞—è –¥–∏–Ω–∞—Å—Ç–∏—è –•–∞–Ω—å –Ω–µ –ø–æ–ª—É—á–∏–ª–∞ –º–∞–Ω–¥–∞—Ç –∏ –Ω–µ —Å–¥–µ–ª–∞–ª–∞ –µ–µ —Å—Ç–æ–ª–∏—Ü–µ–π, –≥–ª—è–¥—è –≤–≤–µ—Ä—Ö, —á—Ç–æ–±—ã –æ—Å–æ–∑–Ω–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å —Å–æ–∑–≤–µ–∑–¥–∏—è –í–æ—Å—Ç–æ—á–Ω–æ–≥–æ –ö–æ–ª–æ–¥—Ü–∞, –∏ –≥–ª—è–¥—è –≤–Ω–∏–∑, —á—Ç–æ–±—ã –≥–∞—Ä–º–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –¥—É—Ö–æ–º –†–µ—á–Ω–æ–π –ö–∞—Ä—Ç—ã.</p>
                    </div>
                    <div lang="es">
                        <p>Hasta que la gran dinast√≠a Han recibi√≥ el mandato y la convirti√≥ en capital, mirando hacia arriba para darse cuenta de la esencia de la constelaci√≥n del Pozo Oriental, y mirando hacia abajo para armonizarse con el esp√≠ritu del Diagrama del R√≠o.</p>
                    </div>
                    <div lang="it">
                        <p>Fino a quando la grande dinastia Han ricevette il mandato e ne fece la capitale, guardando in alto per realizzare l'essenza della costellazione del Pozzo Orientale, e guardando in basso per armonizzarsi con lo spirito del Diagramma del Fiume.</p>
                    </div>
                    <div lang="ja">
                        <p>Â§ßÊº¢„ÅåÂ§©ÂëΩ„ÇíÂèó„Åë„Å¶„Åì„Åì„Å´ÈÉΩ„ÇíÂÆö„ÇÅ„Çã„Å´Ëá≥„Çä„ÄÅ‰∏ä„ÅØÊù±‰∫ï„ÅÆÊòüÂÆø„ÅÆÁ≤æ„ÇíÊÇü„Çä„ÄÅ‰∏ã„ÅØ„ÄéÊ≤≥Âõ≥„Äè„ÅÆÈúä„Å´ÂêàËá¥„Åó„Åü„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                „ÄäÊº¢Êõ∏„ÄãÊõ∞ÔºöÊº¢ÂÖÉÂπ¥ÂçÅÊúàÔºå‰∫îÊòüËÅö‰∫éÊù±‰∫ïÔºåÊ≤õÂÖ¨Ëá≥ÁÅû‰∏ä„ÄÇÂèàÊõ∞Ôºö‰ª•Ê≠∑Êé®‰πãÔºåÂæûÊ≠≤Êòü‰πü„ÄÇÊ≠§È´òÁ•ñÂèóÂëΩ‰πãÁ¨¶„ÄÇ„ÄäÂ∞ôÊõ∏ÈõíÊõ∏„ÄãÊõ∞Ôºö„ÄäÊ≤≥Âúñ„ÄãÔºåÂëΩÁ¥Ä‰πü„ÄÇÁÑ∂„Ää‰∫îÁ∂ì„ÄãÁ∑ØÔºåÁöÜ„ÄäÊ≤≥Âúñ„Äã‰πü„ÄÇ„ÄäÊò•ÁßãÊº¢Âê´Â≠≥„ÄãÊõ∞ÔºöÂäâÂ≠£Êè°ÂçØÈáëÂàÄÔºåÂú®Ëª´ÂåóÔºåÂ≠óÂ≠£ÔºåÂ§©‰∏ãÊúç„ÄÇÂçØÂú®Êù±ÊñπÔºåÈôΩÊâÄÁ´ãÔºå‰ªÅ‰∏îÊòé„ÄÇÈáëÂú®Ë•øÊñπÔºåÈô∞ÊâÄÁ´ãÔºåÁæ©ÊàêÂäü„ÄÇÂàÄÂ±ÖÂè≥ÔºåÂ≠óÊàêÁ´†„ÄÇÂàÄÊìäÁß¶ÔºåÊûâÁü¢Êù±ÊµÅÔºåÊ∞¥Á•ûÂì≠Á•ñÈæç„ÄÇÁÑ∂ÂâáÊàêÂäüÂú®Ë•ø[4]ÔºåÊïÖÈÉΩÈï∑ÂÆâ„ÄÇ
            </div>
        </div>

        <!-- Á¨¨‰∫åÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="f√®ng" data-meaning="Fengchun">Â•â</span>
                <span class="char" data-pinyin="ch≈´n" data-meaning="spring">Êò•</span>
                <span class="char" data-pinyin="ji√†n" data-meaning="propose">Âª∫</span>
                <span class="char" data-pinyin="c√®" data-meaning="strategy">Á≠ñ</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="li√∫" data-meaning="Liu">Áïô</span>
                <span class="char" data-pinyin="h√≥u" data-meaning="marquis">‰æØ</span>
                <span class="char" data-pinyin="y«én" data-meaning="develop">Êºî</span>
                <span class="char" data-pinyin="ch√©ng" data-meaning="complete">Êàê</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>Â•âÊò•ÂêõÁåÆÁ≠ñÔºåÁïô‰æØÂÆåÂñÑ‰øÉÊàê„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Fengchun proposed the strategy, and the Marquis of Liu developed and completed it.</p>
                    </div>
                    <div lang="de">
                        <p>Fengchun schlug die Strategie vor, und der Marquis von Liu entwickelte und vollendete sie.</p>
                    </div>
                    <div lang="fr">
                        <p>Fengchun a propos√© la strat√©gie, et le Marquis de Liu l'a d√©velopp√©e et achev√©e.</p>
                    </div>
                    <div lang="ru">
                        <p>–§—ç–Ω—á—É–Ω—å –ø—Ä–µ–¥–ª–æ–∂–∏–ª —Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –∞ –º–∞—Ä–∫–∏–∑ –õ—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª –∏ –∑–∞–≤–µ—Ä—à–∏–ª –µ–µ.</p>
                    </div>
                    <div lang="es">
                        <p>Fengchun propuso la estrategia, y el Marqu√©s de Liu la desarroll√≥ y complet√≥.</p>
                    </div>
                    <div lang="it">
                        <p>Fengchun propose la strategia, e il Marchese di Liu la sviluppa e la completa.</p>
                    </div>
                    <div lang="ja">
                        <p>Â•âÊò•Âêõ„ÅåÁ≠ñ„ÇíÁåÆÁ≠ñ„Åó„ÄÅÁïô‰æØ„ÅåÂÆåÊàê„Åï„Åõ„Åü„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                „ÄäÊº¢Êõ∏„ÄãÊõ∞ÔºöÈ´òÁ•ñË•øÈÉΩÊ¥õÈôΩÔºåÊàçÂçíÂ©ÅÊï¨Ê±ÇË¶ãÔºåË™™‰∏äÊõ∞ÔºöÈôõ‰∏ãÈÉΩÊ¥õ‰∏ç‰æøÔºå‰∏çÂ¶ÇÂÖ•ÈóúÔºåÊìöÁß¶‰πãÂõ∫„ÄÇ‰∏äÂïèÂºµËâØÔºåËâØÂõ†Âã∏‰∏ä„ÄÇÊòØÊó•ËªäÈßïË•øÈÉΩÈï∑ÂÆâÔºåÊãúÂ©ÅÊï¨Áà≤Â•âÊò•ÂêõÔºåË≥úÂßìÂäâÊ∞è„ÄÇÂèàÊõ∞ÔºöÂ∞ÅÂºµËâØÁà≤Áïô‰æØ‰πü„ÄÇ„ÄäËíºÈ†°ÁØá„ÄãÊõ∞ÔºöÊºîÔºåÂºï‰πü„ÄÇ
            </div>
        </div>

        <!-- Á¨¨‰∏âÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="tiƒÅn" data-meaning="heaven">Â§©</span>
                <span class="char" data-pinyin="r√©n" data-meaning="man">‰∫∫</span>
                <span class="char" data-pinyin="h√©" data-meaning="together">Âêà</span>
                <span class="char" data-pinyin="y√¨ng" data-meaning="respond">Êáâ</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="y«ê" data-meaning="to">‰ª•</span>
                <span class="char" data-pinyin="fƒÅ" data-meaning="manifest">Áôº</span>
                <span class="char" data-pinyin="hu√°ng" data-meaning="imperial">Áöá</span>
                <span class="char" data-pinyin="m√≠ng" data-meaning="brilliance">Êòé</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="n«éi" data-meaning="then">‰πÉ</span>
                <span class="char" data-pinyin="ju√†n" data-meaning="turn">Áú∑</span>
                <span class="char" data-pinyin="xƒ´" data-meaning="west">Ë•ø</span>
                <span class="char" data-pinyin="g√π" data-meaning="gaze">È°ß</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="sh√≠" data-meaning="indeed">ÂØî</span>
                <span class="char" data-pinyin="w√©i" data-meaning="is">ÊÉü</span>
                <span class="char" data-pinyin="zu√≤" data-meaning="make">‰Ωú</span>
                <span class="char" data-pinyin="jƒ´ng" data-meaning="capital">‰∫¨</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>Â§©Ë±°‰∫∫‰∫ãÁõ∏Â∫îÔºå‰ª•ÂΩ∞ÊòæÁöáÂ∏ùËã±Êòé„ÄÇ‰∫éÊòØÁú∑È°æË•øÊñπÔºåÁ°ÆÂÆûÂú®Ê≠§Âª∫ÈÉΩ„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Heaven and man responded together to manifest the imperial brilliance. Then he turned his gaze westward and indeed made it the capital.</p>
                    </div>
                    <div lang="de">
                        <p>Himmel und Mensch antworteten gemeinsam, um den kaiserlichen Glanz zu manifestieren. Dann wandte er seinen Blick nach Westen und machte es tats√§chlich zur Hauptstadt.</p>
                    </div>
                    <div lang="fr">
                        <p>Le ciel et l'homme ont r√©pondu ensemble pour manifester la brillance imp√©riale. Puis il a tourn√© son regard vers l'ouest et en a fait la capitale.</p>
                    </div>
                    <div lang="ru">
                        <p>–ù–µ–±–æ –∏ —á–µ–ª–æ–≤–µ–∫ –æ—Ç–≤–µ—Ç–∏–ª–∏ –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–æ—è–≤–∏—Ç—å –∏–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–π –±–ª–µ—Å–∫. –ó–∞—Ç–µ–º –æ–Ω –ø–æ–≤–µ—Ä–Ω—É–ª –≤–∑–≥–ª—è–¥ –Ω–∞ –∑–∞–ø–∞–¥ –∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞–ª –µ–≥–æ —Å—Ç–æ–ª–∏—Ü–µ–π.</p>
                    </div>
                    <div lang="es">
                        <p>El cielo y el hombre respondieron juntos para manifestar el brillo imperial. Luego volvi√≥ su mirada hacia el oeste y de hecho lo convirti√≥ en la capital.</p>
                    </div>
                    <div lang="it">
                        <p>Cielo e uomo hanno risposto insieme per manifestare lo splendore imperiale. Poi ha rivolto lo sguardo a ovest e ne ha fatto la capitale.</p>
                    </div>
                    <div lang="ja">
                        <p>Â§©Ë±°„Å®‰∫∫‰∫ã„ÅåÁõ∏Âøú„Åò„ÄÅÁöáÂ∏ù„ÅÆËã±Êòé„ÇíÈ°ïÂΩ∞„Åó„Åü„ÄÇ„Åù„Åì„ÅßË•øÊñπ„ÇíÈ°ß„Åø„ÄÅÁ¢∫„Åã„Å´„Åì„Åì„Å´ÈÉΩ„ÇíÂª∫„Å¶„Åü„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                Â§©ÔºåË¨Ç‰∫îÊòü‰πü„ÄÇ‰∫∫ÔºåË¨ÇÂ©ÅÊï¨‰πü„ÄÇÁöáÔºåË¨ÇÈ´òÁ•ñ‰πü„ÄÇ„ÄäÂõõÂ≠êË¨õÂæ∑Ë´ñ„ÄãÊõ∞ÔºöÂ§©‰∫∫‰∏¶Êáâ„ÄÇ„ÄäÊØõË©©„ÄãÊõ∞Ôºö‰πÉÁú∑Ë•øÈ°ßÔºåÊ≠§ÊÉüËàáÂÆÖ„ÄÇ
            </div>
        </div>

        <!-- Á¨¨ÂõõÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="y√∫" data-meaning="then">Êñº</span>
                <span class="char" data-pinyin="sh√¨" data-meaning="this">ÊòØ</span>
                <span class="char" data-pinyin="xƒ´" data-meaning="gaze">Áùé</span>
                <span class="char" data-pinyin="q√≠n" data-meaning="Qin">Áß¶</span>
                <span class="char" data-pinyin="l«êng" data-meaning="ridge">Â∂∫</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="√©" data-meaning="look">Áùã</span>
                <span class="char" data-pinyin="bƒõi" data-meaning="north">Âåó</span>
                <span class="char" data-pinyin="f√π" data-meaning="hill">Èòú</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiƒÅ" data-meaning="embrace">Êåæ</span>
                <span class="char" data-pinyin="fƒìng" data-meaning="Feng">ÁÅÉ</span>
                <span class="char" data-pinyin="b√†" data-meaning="Ba">ÁÅû</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="j√π" data-meaning="occupy">Êìö</span>
                <span class="char" data-pinyin="l√≥ng" data-meaning="dragon">Èæç</span>
                <span class="char" data-pinyin="sh«íu" data-meaning="head">È¶ñ</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>‰∫éÊòØÁú∫ÊúõÁß¶Â≤≠ÔºåËßÇÊúõÂåóÂ±±„ÄÇÊÄÄÊä±Ê≤£ÁÅû‰∫åÊ∞¥ÔºåÊçÆÂÆàÈæôÈ¶ñÂéü„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Then he gazed at the Qin Mountains and looked at the northern hills. Embracing the Feng and Ba rivers, he occupied the Dragon Head plain.</p>
                    </div>
                    <div lang="de">
                        <p>Dann blickte er auf die Qin-Berge und schaute auf die n√∂rdlichen H√ºgel. Die Fl√ºsse Feng und Ba umarmend, besetzte er die Drachenkopf-Ebene.</p>
                    </div>
                    <div lang="fr">
                        <p>Puis il contempla les montagnes Qin et regarda les collines du nord. Embrassant les rivi√®res Feng et Ba, il occupa la plaine de la T√™te du Dragon.</p>
                    </div>
                    <div lang="ru">
                        <p>–ó–∞—Ç–µ–º –æ–Ω –≤–∑–≥–ª—è–Ω—É–ª –Ω–∞ –≥–æ—Ä—ã –¶–∏–Ω—å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ–ª –Ω–∞ —Å–µ–≤–µ—Ä–Ω—ã–µ —Ö–æ–ª–º—ã. –û–±–Ω–∏–º–∞—è —Ä–µ–∫–∏ –§—ç–Ω –∏ –ë–∞, –æ–Ω –∑–∞–Ω—è–ª —Ä–∞–≤–Ω–∏–Ω—É –ì–æ–ª–æ–≤—ã –î—Ä–∞–∫–æ–Ω–∞.</p>
                    </div>
                    <div lang="es">
                        <p>Luego mir√≥ las monta√±as Qin y mir√≥ las colinas del norte. Abrazando los r√≠os Feng y Ba, ocup√≥ la llanura de la Cabeza del Drag√≥n.</p>
                    </div>
                    <div lang="it">
                        <p>Poi guard√≤ le montagne Qin e osserv√≤ le colline settentrionali. Abbracciando i fiumi Feng e Ba, occup√≤ la pianura della Testa del Drago.</p>
                    </div>
                    <div lang="ja">
                        <p>„Åù„Åì„ÅßÁß¶Â∂∫„ÇíÁú∫„ÇÅ„ÄÅÂåóÂ±±„ÇíÊúõ„Çì„Å†„ÄÇÊ≤£ÁÅû„ÅÆ‰∫åÊ∞¥„ÇíÊä±„Åç„ÄÅÈæçÈ¶ñÂéü„ÇíÊã†ÁÇπ„Å®„Åó„Åü„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                „ÄäË™™Êñá„ÄãÊõ∞ÔºöÁùéÔºåÊúõ‰πüÔºåÂëºË°£Âàá„ÄÇÁß¶Â∂∫ÔºåÂçóÂ±±‰πü„ÄÇ„ÄäÊº¢Êõ∏„ÄãÊõ∞ÔºöÁß¶Âú∞ÊúâÂçóÂ±±„ÄÇÁùãÔºåË¶ñ‰πüÔºå‰∫îÂì•Âàá„ÄÇÂåóÈòúÔºåÂ±±‰πü„ÄÇ„ÄäÊº¢Êõ∏„ÄãÔºåÊñáÂ∏ùÊõ∞Ôºö‰ª•ÂåóÂ±±Áü≥Áà≤Êß®„ÄÇÂºµÊèñ„Ää‰∏äÊûóË≥¶Ê≥®„ÄãÊõ∞ÔºöË±êÊ∞¥Âá∫ÈÑ†ÂçóÂ±±Ë±êË∞∑„ÄÇ„ÄäÊº¢Êõ∏„ÄãÊõ∞ÔºöÁÅûÊ∞¥Âá∫ËóçÁî∞Ë∞∑„ÄÇ„ÄäÂ±±Êµ∑Á∂ì„ÄãÊõ∞ÔºöËèØÂ±±‰πãË•øÔºåÈæçÈ¶ñ‰πãÂ±±‰πü„ÄÇ
            </div>
        </div>
    </div>
    
    <!-- ÂºπÂá∫Á™óÂè£ -->
    <div class="popup" id="charPopup">
        <span class="popup-close" onclick="closePopup()">√ó</span>
        <div class="popup-content">
            <div class="popup-char"></div>
            <div class="popup-pinyin"></div>
            <div class="popup-meaning"></div>
        </div>
    </div>
    
    <script>
        // ÂçïÂ≠óÁÇπÂáª‰∫ã‰ª∂
        document.querySelectorAll('.char').forEach(char => {
            char.addEventListener('click', function() {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `ÊãºÈü≥: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `Èáä‰πâ: ${this.dataset.meaning}`;
                popup.style.display = 'block';
            });
        });
        
        // ÂÖ≥Èó≠ÂºπÂá∫Á™óÂè£
        function closePopup() {
            document.getElementById('charPopup').style.display = 'none';
        }
        
        // ÊÆµËêΩÊúóËØªÂäüËÉΩ
        let currentParagraphUtterances = [];
        let currentReadingParagraph = null;
        
        function speakParagraph(btn) {
            const paragraph = btn.closest('.paragraph');
            
            // Â¶ÇÊûúÊ≠£Âú®ÊúóËØªÂΩìÂâçÊÆµËêΩÔºåÂÅúÊ≠¢
            if (currentReadingParagraph === paragraph && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                btn.textContent = 'üîä';
                currentReadingParagraph = null;
                return;
            }
            
            // Â¶ÇÊûúÊ≠£Âú®ÊúóËØªÂÖ∂‰ªñÊÆµËêΩÔºåÂÖàÂÅúÊ≠¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                document.querySelectorAll('.control-btn').forEach(b => {
                    if (b.textContent === '‚èπ') b.textContent = 'üîä';
                });
            }
            
            // ÂºÄÂßãÊúóËØªÊñ∞ÊÆµËêΩ
            currentReadingParagraph = paragraph;
            btn.textContent = '‚èπ';
            
            const sentences = paragraph.querySelectorAll('.sentence');
            currentParagraphUtterances = [];
            
            // ÂáÜÂ§áÊâÄÊúâÂè•Â≠êËØ≠Èü≥
            sentences.forEach((sentence, index) => {
                let sentenceText = '';
                sentence.querySelectorAll('.char').forEach(char => {
                    if (!char.classList.contains('punctuation') || 
                        ['Ôºå', '„ÄÇ', 'ÔºÅ', 'Ôºü', 'Ôºö', 'Ôºõ'].includes(char.textContent)) {
                        sentenceText += char.textContent;
                    }
                });
                
                const utterance = new SpeechSynthesisUtterance(sentenceText);
                utterance.lang = 'zh-CN';
                utterance.rate = 0.8;
                
                utterance.onstart = function() {
                    resetAllSentenceHighlights();
                    sentence.classList.add('active');
                    
                    // ÊªöÂä®Âà∞ÂΩìÂâçÂè•Â≠ê
                    sentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                };
                
                utterance.onend = function() {
                    if (index === sentences.length - 1) {
                        btn.textContent = 'üîä';
                        currentReadingParagraph = null;
                    }
                };
                
                currentParagraphUtterances.push(utterance);
            });
            
            // ÊåâÈ°∫Â∫èÊúóËØªÊâÄÊúâÂè•Â≠ê
            currentParagraphUtterances.forEach((utterance, index) => {
                // ËÆæÁΩÆÂª∂ËøüÔºå‰ΩøÂè•Â≠ê‰πãÈó¥ÊúâËá™ÁÑ∂ÂÅúÈ°ø
                if (index > 0) {
                    const prevDuration = currentParagraphUtterances[index-1].text.length * 100; // ‰º∞ÁÆóÂâç‰∏ÄÂè•ÊåÅÁª≠Êó∂Èó¥
                    utterance.startTime = Date.now() + prevDuration + 300; // 300msÈ¢ùÂ§ñÂÅúÈ°ø
                }
                window.speechSynthesis.speak(utterance);
            });
        }
        
        function resetAllSentenceHighlights() {
            document.querySelectorAll('.sentence').forEach(s => {
                s.classList.remove('active');
            });
        }
        
        // ÊòæÁ§∫/ÈöêËóèÊ≥®ÈáäÈù¢Êùø
        function toggleAnnotationPanel(btn) {
            const annotation = btn.nextElementSibling;
            if (annotation.style.display === 'block') {
                annotation.style.display = 'none';
                btn.textContent = 'È°ØÁ§∫Ë®ªÈáã';
            } else {
                annotation.style.display = 'block';
                btn.textContent = 'Èö±ËóèË®ªÈáã';
            }
        }
        
        // ÊòæÁ§∫/ÈöêËóèÁøªËØëÈù¢Êùø
        function toggleTranslationPanel(btn) {
            const panel = btn.closest('.paragraph').querySelector('.translation-panel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
            }
        }
        
        // ÂàáÊç¢ÁøªËØëËØ≠Ë®Ä
        function showTranslation(btn, lang) {
            const panel = btn.closest('.translation-panel').querySelector('.translation-content');
            panel.querySelectorAll('div').forEach(div => {
                div.classList.remove('show');
            });
            panel.querySelector(`div[lang="${lang}"]`).classList.add('show');
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            btn.closest('.translation-panel').querySelectorAll('.lang-btn').forEach(b => {
                b.classList.remove('active');
            });
            btn.classList.add('active');
        }
        
        // ÁÇπÂáªÁ©∫ÁôΩÂ§ÑÂÖ≥Èó≠ÂºπÂá∫Á™óÂè£
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('charPopup')) {
                closePopup();
            }
        });
    </script>
</body>
</html>
