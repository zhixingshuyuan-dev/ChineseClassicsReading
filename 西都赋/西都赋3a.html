<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Šè¥¿éƒ½èµ‹ã€‹ç¬¬ä¸‰èŠ‚ </title>
    <style>
        body {
            font-family: "SimSun", "å®‹é«”", serif;
            line-height: 2.5;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #3a3226;
            color: #e0d5c8;
        }
        
        h1 {
            color: #d4b483;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #5d4b36;
            padding-bottom: 10px;
        }
        
        .main-text {
            font-size: 24px;
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .char {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .char:hover {
            color: #d4a373;
            text-shadow: 0 0 3px rgba(212, 163, 115, 0.5);
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4a4235;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 300px;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
        }
        
        .popup-content {
            font-size: 16px;
        }
        
        .popup-char {
            font-size: 28px;
            text-align: center;
            margin-bottom: 10px;
            color: #d4b483;
        }
        
        .popup-pinyin, .popup-meaning {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #5d4b36;
        }
        
        .popup-close {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #a89984;
        }
        
        .paragraph {
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            margin: 10px 0;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            border: none;
            border-radius: 50%;
            background: #5d4b36;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: #e0d5c8;
            font-size: 14px;
        }
        
        .control-btn:hover {
            background: #7c6a53;
            transform: scale(1.1);
        }
        
        .annotation {
            font-size: 18px;
            background: #4a4235;
            padding: 12px 15px;
            border-left: 3px solid #a89984;
            margin: 12px 0;
            display: none;
            color: #d4b483;
            border-radius: 0 5px 5px 0;
        }
        
        .toggle-annotation {
            background: #5d4b36;
            border: none;
            color: #e0d5c8;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .toggle-annotation:hover {
            background: #7c6a53;
        }
        
        .translation-panel {
            display: none;
            background: #4a4235;
            border: 1px solid #5d4b36;
            padding: 12px;
            margin-top: 8px;
            border-radius: 5px;
        }
        
        .lang-btn {
            background: #3a3226;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
            padding: 3px 8px;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .lang-btn:hover {
            background: #5d4b36;
        }
        
        .lang-btn.active {
            background: #a89984;
            color: #3a3226;
            font-weight: bold;
        }
        
        .translation-content {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #5d4b36;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .translation-content div {
            display: none;
            padding: 6px 0;
        }
        
        .translation-content div.show {
            display: block;
        }
        
        .punctuation {
            color: #a89984;
        }
        
        .sentence {
            display: inline;
            position: relative;
        }
        
        .sentence.active {
            background-color: rgba(212, 180, 131, 0.3);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>è¥¿éƒ½è³¦</h1>
    
    <div class="main-text">
        <!-- ç¬¬ä¸€æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="jÃ­" data-meaning="until">åŠ</span>
                <span class="char" data-pinyin="zhÃ¬" data-meaning="arrive">è‡³</span>
                <span class="char" data-pinyin="dÃ " data-meaning="great">å¤§</span>
                <span class="char" data-pinyin="hÃ n" data-meaning="Han">æ¼¢</span>
                <span class="char" data-pinyin="shÃ²u" data-meaning="receive">å—</span>
                <span class="char" data-pinyin="mÃ¬ng" data-meaning="mandate">å‘½</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="dÅ«" data-meaning="capital">éƒ½</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="it">ä¹‹</span>
                <span class="char" data-pinyin="yÄ›" data-meaning="particle">ä¹Ÿ</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÇng" data-meaning="look up">ä»°</span>
                <span class="char" data-pinyin="wÃ¹" data-meaning="realize">æ‚Ÿ</span>
                <span class="char" data-pinyin="dÅng" data-meaning="east">æ±</span>
                <span class="char" data-pinyin="jÇng" data-meaning="well">äº•</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="jÄ«ng" data-meaning="essence">ç²¾</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="fÇ”" data-meaning="look down">ä¿¯</span>
                <span class="char" data-pinyin="xiÃ©" data-meaning="harmonize">å”</span>
                <span class="char" data-pinyin="hÃ©" data-meaning="river">ã€Š</span>
                <span class="char" data-pinyin="tÃº" data-meaning="chart">æ²³</span>
                <span class="char" data-pinyin="tÃº" data-meaning="chart">åœ–</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ã€‹</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="lÃ­ng" data-meaning="spirit">éˆ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>ç›´åˆ°å¤§æ±‰æ¥å—å¤©å‘½å®šéƒ½äºæ­¤ï¼Œä¸Šæ‚Ÿä¸œäº•æ˜Ÿå®¿ä¹‹ç²¾ï¼Œä¸‹åˆã€Šæ²³å›¾ã€‹ä¹‹çµã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Until the great Han received the mandate and made it the capital, looking up to realize the essence of the Eastern Well constellation, and looking down to harmonize with the spirit of the River Chart.</p>
                    </div>
                    <div lang="de">
                        <p>Bis die groÃŸe Han-Dynastie das Mandat erhielt und es zur Hauptstadt machte, blickte sie auf, um das Wesen der Ã¶stlichen Brunnen-Konstellation zu erkennen, und blickte hinab, um sich mit dem Geist des Flussdiagramms zu harmonisieren.</p>
                    </div>
                    <div lang="fr">
                        <p>Jusqu'Ã  ce que la grande dynastie Han reÃ§oive le mandat et en fasse sa capitale, levant les yeux pour rÃ©aliser l'essence de la constellation du Puits oriental, et baissant les yeux pour s'harmoniser avec l'esprit du Diagramme de la RiviÃ¨re.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞŸĞ¾ĞºĞ° Ğ²ĞµĞ»Ğ¸ĞºĞ°Ñ Ğ´Ğ¸Ğ½Ğ°ÑÑ‚Ğ¸Ñ Ğ¥Ğ°Ğ½ÑŒ Ğ½Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ»Ğ° Ğ¼Ğ°Ğ½Ğ´Ğ°Ñ‚ Ğ¸ Ğ½Ğµ ÑĞ´ĞµĞ»Ğ°Ğ»Ğ° ĞµĞµ ÑÑ‚Ğ¾Ğ»Ğ¸Ñ†ĞµĞ¹, Ğ³Ğ»ÑĞ´Ñ Ğ²Ğ²ĞµÑ€Ñ…, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾ÑĞ¾Ğ·Ğ½Ğ°Ñ‚ÑŒ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ¾Ğ·Ğ²ĞµĞ·Ğ´Ğ¸Ñ Ğ’Ğ¾ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ ĞšĞ¾Ğ»Ğ¾Ğ´Ñ†Ğ°, Ğ¸ Ğ³Ğ»ÑĞ´Ñ Ğ²Ğ½Ğ¸Ğ·, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ³Ğ°Ñ€Ğ¼Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ñ Ğ´ÑƒÑ…Ğ¾Ğ¼ Ğ ĞµÑ‡Ğ½Ğ¾Ğ¹ ĞšĞ°Ñ€Ñ‚Ñ‹.</p>
                    </div>
                    <div lang="es">
                        <p>Hasta que la gran dinastÃ­a Han recibiÃ³ el mandato y la convirtiÃ³ en capital, mirando hacia arriba para darse cuenta de la esencia de la constelaciÃ³n del Pozo Oriental, y mirando hacia abajo para armonizarse con el espÃ­ritu del Diagrama del RÃ­o.</p>
                    </div>
                    <div lang="it">
                        <p>Fino a quando la grande dinastia Han ricevette il mandato e ne fece la capitale, guardando in alto per realizzare l'essenza della costellazione del Pozzo Orientale, e guardando in basso per armonizzarsi con lo spirito del Diagramma del Fiume.</p>
                    </div>
                    <div lang="ja">
                        <p>å¤§æ¼¢ãŒå¤©å‘½ã‚’å—ã‘ã¦ã“ã“ã«éƒ½ã‚’å®šã‚ã‚‹ã«è‡³ã‚Šã€ä¸Šã¯æ±äº•ã®æ˜Ÿå®¿ã®ç²¾ã‚’æ‚Ÿã‚Šã€ä¸‹ã¯ã€æ²³å›³ã€ã®éœŠã«åˆè‡´ã—ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šæ¼¢å…ƒå¹´åæœˆï¼Œäº”æ˜Ÿèšäºæ±äº•ï¼Œæ²›å…¬è‡³çä¸Šã€‚åˆæ›°ï¼šä»¥æ­·æ¨ä¹‹ï¼Œå¾æ­²æ˜Ÿä¹Ÿã€‚æ­¤é«˜ç¥–å—å‘½ä¹‹ç¬¦ã€‚ã€Šå°™æ›¸é›’æ›¸ã€‹æ›°ï¼šã€Šæ²³åœ–ã€‹ï¼Œå‘½ç´€ä¹Ÿã€‚ç„¶ã€Šäº”ç¶“ã€‹ç·¯ï¼Œçš†ã€Šæ²³åœ–ã€‹ä¹Ÿã€‚ã€Šæ˜¥ç§‹æ¼¢å«å­³ã€‹æ›°ï¼šåŠ‰å­£æ¡å¯é‡‘åˆ€ï¼Œåœ¨è»«åŒ—ï¼Œå­—å­£ï¼Œå¤©ä¸‹æœã€‚å¯åœ¨æ±æ–¹ï¼Œé™½æ‰€ç«‹ï¼Œä»ä¸”æ˜ã€‚é‡‘åœ¨è¥¿æ–¹ï¼Œé™°æ‰€ç«‹ï¼Œç¾©æˆåŠŸã€‚åˆ€å±…å³ï¼Œå­—æˆç« ã€‚åˆ€æ“Šç§¦ï¼Œæ‰çŸ¢æ±æµï¼Œæ°´ç¥å“­ç¥–é¾ã€‚ç„¶å‰‡æˆåŠŸåœ¨è¥¿[4]ï¼Œæ•…éƒ½é•·å®‰ã€‚
            </div>
        </div>

        <!-- ç¬¬äºŒæ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="fÃ¨ng" data-meaning="Fengchun">å¥‰</span>
                <span class="char" data-pinyin="chÅ«n" data-meaning="spring">æ˜¥</span>
                <span class="char" data-pinyin="jiÃ n" data-meaning="propose">å»º</span>
                <span class="char" data-pinyin="cÃ¨" data-meaning="strategy">ç­–</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="liÃº" data-meaning="Liu">ç•™</span>
                <span class="char" data-pinyin="hÃ³u" data-meaning="marquis">ä¾¯</span>
                <span class="char" data-pinyin="yÇn" data-meaning="develop">æ¼”</span>
                <span class="char" data-pinyin="chÃ©ng" data-meaning="complete">æˆ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å¥‰æ˜¥å›çŒ®ç­–ï¼Œç•™ä¾¯å®Œå–„ä¿ƒæˆã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Fengchun proposed the strategy, and the Marquis of Liu developed and completed it.</p>
                    </div>
                    <div lang="de">
                        <p>Fengchun schlug die Strategie vor, und der Marquis von Liu entwickelte und vollendete sie.</p>
                    </div>
                    <div lang="fr">
                        <p>Fengchun a proposÃ© la stratÃ©gie, et le Marquis de Liu l'a dÃ©veloppÃ©e et achevÃ©e.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ¤ÑĞ½Ñ‡ÑƒĞ½ÑŒ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶Ğ¸Ğ» ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ, Ğ° Ğ¼Ğ°Ñ€ĞºĞ¸Ğ· Ğ›Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ» Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ» ĞµĞµ.</p>
                    </div>
                    <div lang="es">
                        <p>Fengchun propuso la estrategia, y el MarquÃ©s de Liu la desarrollÃ³ y completÃ³.</p>
                    </div>
                    <div lang="it">
                        <p>Fengchun propose la strategia, e il Marchese di Liu la sviluppa e la completa.</p>
                    </div>
                    <div lang="ja">
                        <p>å¥‰æ˜¥å›ãŒç­–ã‚’çŒ®ç­–ã—ã€ç•™ä¾¯ãŒå®Œæˆã•ã›ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šé«˜ç¥–è¥¿éƒ½æ´›é™½ï¼Œæˆå’å©æ•¬æ±‚è¦‹ï¼Œèªªä¸Šæ›°ï¼šé™›ä¸‹éƒ½æ´›ä¸ä¾¿ï¼Œä¸å¦‚å…¥é—œï¼Œæ“šç§¦ä¹‹å›ºã€‚ä¸Šå•å¼µè‰¯ï¼Œè‰¯å› å‹¸ä¸Šã€‚æ˜¯æ—¥è»Šé§•è¥¿éƒ½é•·å®‰ï¼Œæ‹œå©æ•¬çˆ²å¥‰æ˜¥å›ï¼Œè³œå§“åŠ‰æ°ã€‚åˆæ›°ï¼šå°å¼µè‰¯çˆ²ç•™ä¾¯ä¹Ÿã€‚ã€Šè’¼é ¡ç¯‡ã€‹æ›°ï¼šæ¼”ï¼Œå¼•ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬ä¸‰æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="tiÄn" data-meaning="heaven">å¤©</span>
                <span class="char" data-pinyin="rÃ©n" data-meaning="man">äºº</span>
                <span class="char" data-pinyin="hÃ©" data-meaning="together">åˆ</span>
                <span class="char" data-pinyin="yÃ¬ng" data-meaning="respond">æ‡‰</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÇ" data-meaning="to">ä»¥</span>
                <span class="char" data-pinyin="fÄ" data-meaning="manifest">ç™¼</span>
                <span class="char" data-pinyin="huÃ¡ng" data-meaning="imperial">çš‡</span>
                <span class="char" data-pinyin="mÃ­ng" data-meaning="brilliance">æ˜</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="nÇi" data-meaning="then">ä¹ƒ</span>
                <span class="char" data-pinyin="juÃ n" data-meaning="turn">çœ·</span>
                <span class="char" data-pinyin="xÄ«" data-meaning="west">è¥¿</span>
                <span class="char" data-pinyin="gÃ¹" data-meaning="gaze">é¡§</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="shÃ­" data-meaning="indeed">å¯”</span>
                <span class="char" data-pinyin="wÃ©i" data-meaning="is">æƒŸ</span>
                <span class="char" data-pinyin="zuÃ²" data-meaning="make">ä½œ</span>
                <span class="char" data-pinyin="jÄ«ng" data-meaning="capital">äº¬</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å¤©è±¡äººäº‹ç›¸åº”ï¼Œä»¥å½°æ˜¾çš‡å¸è‹±æ˜ã€‚äºæ˜¯çœ·é¡¾è¥¿æ–¹ï¼Œç¡®å®åœ¨æ­¤å»ºéƒ½ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Heaven and man responded together to manifest the imperial brilliance. Then he turned his gaze westward and indeed made it the capital.</p>
                    </div>
                    <div lang="de">
                        <p>Himmel und Mensch antworteten gemeinsam, um den kaiserlichen Glanz zu manifestieren. Dann wandte er seinen Blick nach Westen und machte es tatsÃ¤chlich zur Hauptstadt.</p>
                    </div>
                    <div lang="fr">
                        <p>Le ciel et l'homme ont rÃ©pondu ensemble pour manifester la brillance impÃ©riale. Puis il a tournÃ© son regard vers l'ouest et en a fait la capitale.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞĞµĞ±Ğ¾ Ğ¸ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ğ»Ğ¸ Ğ²Ğ¼ĞµÑÑ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ñ€Ğ¾ÑĞ²Ğ¸Ñ‚ÑŒ Ğ¸Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ÑĞºĞ¸Ğ¹ Ğ±Ğ»ĞµÑĞº. Ğ—Ğ°Ñ‚ĞµĞ¼ Ğ¾Ğ½ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ÑƒĞ» Ğ²Ğ·Ğ³Ğ»ÑĞ´ Ğ½Ğ° Ğ·Ğ°Ğ¿Ğ°Ğ´ Ğ¸ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ» ĞµĞ³Ğ¾ ÑÑ‚Ğ¾Ğ»Ğ¸Ñ†ĞµĞ¹.</p>
                    </div>
                    <div lang="es">
                        <p>El cielo y el hombre respondieron juntos para manifestar el brillo imperial. Luego volviÃ³ su mirada hacia el oeste y de hecho lo convirtiÃ³ en la capital.</p>
                    </div>
                    <div lang="it">
                        <p>Cielo e uomo hanno risposto insieme per manifestare lo splendore imperiale. Poi ha rivolto lo sguardo a ovest e ne ha fatto la capitale.</p>
                    </div>
                    <div lang="ja">
                        <p>å¤©è±¡ã¨äººäº‹ãŒç›¸å¿œã˜ã€çš‡å¸ã®è‹±æ˜ã‚’é¡•å½°ã—ãŸã€‚ãã“ã§è¥¿æ–¹ã‚’é¡§ã¿ã€ç¢ºã‹ã«ã“ã“ã«éƒ½ã‚’å»ºã¦ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                å¤©ï¼Œè¬‚äº”æ˜Ÿä¹Ÿã€‚äººï¼Œè¬‚å©æ•¬ä¹Ÿã€‚çš‡ï¼Œè¬‚é«˜ç¥–ä¹Ÿã€‚ã€Šå››å­è¬›å¾·è«–ã€‹æ›°ï¼šå¤©äººä¸¦æ‡‰ã€‚ã€Šæ¯›è©©ã€‹æ›°ï¼šä¹ƒçœ·è¥¿é¡§ï¼Œæ­¤æƒŸèˆ‡å®…ã€‚
            </div>
        </div>

        <!-- ç¬¬å››æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="yÃº" data-meaning="then">æ–¼</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="this">æ˜¯</span>
                <span class="char" data-pinyin="xÄ«" data-meaning="gaze">ç</span>
                <span class="char" data-pinyin="qÃ­n" data-meaning="Qin">ç§¦</span>
                <span class="char" data-pinyin="lÇng" data-meaning="ridge">å¶º</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="Ã©" data-meaning="look">ç‹</span>
                <span class="char" data-pinyin="bÄ›i" data-meaning="north">åŒ—</span>
                <span class="char" data-pinyin="fÃ¹" data-meaning="hill">é˜œ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiÄ" data-meaning="embrace">æŒ¾</span>
                <span class="char" data-pinyin="fÄ“ng" data-meaning="Feng">çƒ</span>
                <span class="char" data-pinyin="bÃ " data-meaning="Ba">ç</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jÃ¹" data-meaning="occupy">æ“š</span>
                <span class="char" data-pinyin="lÃ³ng" data-meaning="dragon">é¾</span>
                <span class="char" data-pinyin="shÇ’u" data-meaning="head">é¦–</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>äºæ˜¯çœºæœ›ç§¦å²­ï¼Œè§‚æœ›åŒ—å±±ã€‚æ€€æŠ±æ²£çäºŒæ°´ï¼Œæ®å®ˆé¾™é¦–åŸã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Then he gazed at the Qin Mountains and looked at the northern hills. Embracing the Feng and Ba rivers, he occupied the Dragon Head plain.</p>
                    </div>
                    <div lang="de">
                        <p>Dann blickte er auf die Qin-Berge und schaute auf die nÃ¶rdlichen HÃ¼gel. Die FlÃ¼sse Feng und Ba umarmend, besetzte er die Drachenkopf-Ebene.</p>
                    </div>
                    <div lang="fr">
                        <p>Puis il contempla les montagnes Qin et regarda les collines du nord. Embrassant les riviÃ¨res Feng et Ba, il occupa la plaine de la TÃªte du Dragon.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ—Ğ°Ñ‚ĞµĞ¼ Ğ¾Ğ½ Ğ²Ğ·Ğ³Ğ»ÑĞ½ÑƒĞ» Ğ½Ğ° Ğ³Ğ¾Ñ€Ñ‹ Ğ¦Ğ¸Ğ½ÑŒ Ğ¸ Ğ¿Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ» Ğ½Ğ° ÑĞµĞ²ĞµÑ€Ğ½Ñ‹Ğµ Ñ…Ğ¾Ğ»Ğ¼Ñ‹. ĞĞ±Ğ½Ğ¸Ğ¼Ğ°Ñ Ñ€ĞµĞºĞ¸ Ğ¤ÑĞ½ Ğ¸ Ğ‘Ğ°, Ğ¾Ğ½ Ğ·Ğ°Ğ½ÑĞ» Ñ€Ğ°Ğ²Ğ½Ğ¸Ğ½Ñƒ Ğ“Ğ¾Ğ»Ğ¾Ğ²Ñ‹ Ğ”Ñ€Ğ°ĞºĞ¾Ğ½Ğ°.</p>
                    </div>
                    <div lang="es">
                        <p>Luego mirÃ³ las montaÃ±as Qin y mirÃ³ las colinas del norte. Abrazando los rÃ­os Feng y Ba, ocupÃ³ la llanura de la Cabeza del DragÃ³n.</p>
                    </div>
                    <div lang="it">
                        <p>Poi guardÃ² le montagne Qin e osservÃ² le colline settentrionali. Abbracciando i fiumi Feng e Ba, occupÃ² la pianura della Testa del Drago.</p>
                    </div>
                    <div lang="ja">
                        <p>ãã“ã§ç§¦å¶ºã‚’çœºã‚ã€åŒ—å±±ã‚’æœ›ã‚“ã ã€‚æ²£çã®äºŒæ°´ã‚’æŠ±ãã€é¾é¦–åŸã‚’æ‹ ç‚¹ã¨ã—ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šèªªæ–‡ã€‹æ›°ï¼šçï¼Œæœ›ä¹Ÿï¼Œå‘¼è¡£åˆ‡ã€‚ç§¦å¶ºï¼Œå—å±±ä¹Ÿã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šç§¦åœ°æœ‰å—å±±ã€‚ç‹ï¼Œè¦–ä¹Ÿï¼Œäº”å“¥åˆ‡ã€‚åŒ—é˜œï¼Œå±±ä¹Ÿã€‚ã€Šæ¼¢æ›¸ã€‹ï¼Œæ–‡å¸æ›°ï¼šä»¥åŒ—å±±çŸ³çˆ²æ§¨ã€‚å¼µæ–ã€Šä¸Šæ—è³¦æ³¨ã€‹æ›°ï¼šè±æ°´å‡ºé„ å—å±±è±è°·ã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šçæ°´å‡ºè—ç”°è°·ã€‚ã€Šå±±æµ·ç¶“ã€‹æ›°ï¼šè¯å±±ä¹‹è¥¿ï¼Œé¾é¦–ä¹‹å±±ä¹Ÿã€‚
            </div>
        </div>
    </div>
    
    <!-- å¼¹å‡ºçª—å£ -->
    <div class="popup" id="charPopup">
        <span class="popup-close" onclick="closePopup()">Ã—</span>
        <div class="popup-content">
            <div class="popup-char"></div>
            <div class="popup-pinyin"></div>
            <div class="popup-meaning"></div>
        </div>
    </div>
    
    <script>
        // å•å­—ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.char').forEach(char => {
            char.addEventListener('click', function() {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `æ‹¼éŸ³: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `é‡Šä¹‰: ${this.dataset.meaning}`;
                popup.style.display = 'block';
            });
        });
        
        // å…³é—­å¼¹å‡ºçª—å£
        function closePopup() {
            document.getElementById('charPopup').style.display = 'none';
        }
        
        // æ®µè½æœ—è¯»åŠŸèƒ½
        let currentParagraphUtterances = [];
        let currentReadingParagraph = null;
        
        function speakParagraph(btn) {
            const paragraph = btn.closest('.paragraph');
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å½“å‰æ®µè½ï¼Œåœæ­¢
            if (currentReadingParagraph === paragraph && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                btn.textContent = 'ğŸ”Š';
                currentReadingParagraph = null;
                return;
            }
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å…¶ä»–æ®µè½ï¼Œå…ˆåœæ­¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                document.querySelectorAll('.control-btn').forEach(b => {
                    if (b.textContent === 'â¹') b.textContent = 'ğŸ”Š';
                });
            }
            
            // å¼€å§‹æœ—è¯»æ–°æ®µè½
            currentReadingParagraph = paragraph;
            btn.textContent = 'â¹';
            
            const sentences = paragraph.querySelectorAll('.sentence');
            currentParagraphUtterances = [];
            
            // å‡†å¤‡æ‰€æœ‰å¥å­è¯­éŸ³
            sentences.forEach((sentence, index) => {
                let sentenceText = '';
                sentence.querySelectorAll('.char').forEach(char => {
                    if (!char.classList.contains('punctuation') || 
                        ['ï¼Œ', 'ã€‚', 'ï¼', 'ï¼Ÿ', 'ï¼š', 'ï¼›'].includes(char.textContent)) {
                        sentenceText += char.textContent;
                    }
                });
                
                const utterance = new SpeechSynthesisUtterance(sentenceText);
                utterance.lang = 'zh-CN';
                utterance.rate = 0.8;
                
                utterance.onstart = function() {
                    resetAllSentenceHighlights();
                    sentence.classList.add('active');
                    
                    // æ»šåŠ¨åˆ°å½“å‰å¥å­
                    sentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                };
                
                utterance.onend = function() {
                    if (index === sentences.length - 1) {
                        btn.textContent = 'ğŸ”Š';
                        currentReadingParagraph = null;
                    }
                };
                
                currentParagraphUtterances.push(utterance);
            });
            
            // æŒ‰é¡ºåºæœ—è¯»æ‰€æœ‰å¥å­
            currentParagraphUtterances.forEach((utterance, index) => {
                // è®¾ç½®å»¶è¿Ÿï¼Œä½¿å¥å­ä¹‹é—´æœ‰è‡ªç„¶åœé¡¿
                if (index > 0) {
                    const prevDuration = currentParagraphUtterances[index-1].text.length * 100; // ä¼°ç®—å‰ä¸€å¥æŒç»­æ—¶é—´
                    utterance.startTime = Date.now() + prevDuration + 300; // 300msé¢å¤–åœé¡¿
                }
                window.speechSynthesis.speak(utterance);
            });
        }
        
        function resetAllSentenceHighlights() {
            document.querySelectorAll('.sentence').forEach(s => {
                s.classList.remove('active');
            });
        }
        
        // æ˜¾ç¤º/éšè—æ³¨é‡Šé¢æ¿
        function toggleAnnotationPanel(btn) {
            const annotation = btn.nextElementSibling;
            if (annotation.style.display === 'block') {
                annotation.style.display = 'none';
                btn.textContent = 'é¡¯ç¤ºè¨»é‡‹';
            } else {
                annotation.style.display = 'block';
                btn.textContent = 'éš±è—è¨»é‡‹';
            }
        }
        
        // æ˜¾ç¤º/éšè—ç¿»è¯‘é¢æ¿
        function toggleTranslationPanel(btn) {
            const panel = btn.closest('.paragraph').querySelector('.translation-panel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
            }
        }
        
        // åˆ‡æ¢ç¿»è¯‘è¯­è¨€
        function showTranslation(btn, lang) {
            const panel = btn.closest('.translation-panel').querySelector('.translation-content');
            panel.querySelectorAll('div').forEach(div => {
                div.classList.remove('show');
            });
            panel.querySelector(`div[lang="${lang}"]`).classList.add('show');
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            btn.closest('.translation-panel').querySelectorAll('.lang-btn').forEach(b => {
                b.classList.remove('active');
            });
            btn.classList.add('active');
        }
        
        // ç‚¹å‡»ç©ºç™½å¤„å…³é—­å¼¹å‡ºçª—å£
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('charPopup')) {
                closePopup();
            }
        });
    </script>
</body>
</html>
