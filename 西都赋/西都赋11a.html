<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Šå…©éƒ½è³¦ã€‹ç¬¬åä¸€èŠ‚</title>
    <style>
        body {
            font-family: "SimSun", "å®‹é«”", serif;
            line-height: 2.5;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #3a3226;
            color: #e0d5c8;
        }
        
        h1 {
            color: #d4b483;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #5d4b36;
            padding-bottom: 10px;
        }
        
        .main-text {
            font-size: 24px;
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .char {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .char:hover {
            color: #d4a373;
            text-shadow: 0 0 3px rgba(212, 163, 115, 0.5);
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4a4235;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 300px;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
        }
        
        .popup-content {
            font-size: 16px;
        }
        
        .popup-char {
            font-size: 28px;
            text-align: center;
            margin-bottom: 10px;
            color: #d4b483;
        }
        
        .popup-pinyin, .popup-meaning {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #5d4b36;
        }
        
        .popup-close {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #a89984;
        }
        
        .paragraph {
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            margin: 10px 0;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            border: none;
            border-radius: 50%;
            background: #5d4b36;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: #e0d5c8;
            font-size: 14px;
        }
        
        .control-btn:hover {
            background: #7c6a53;
            transform: scale(1.1);
        }
        
        .annotation {
            font-size: 18px;
            background: #4a4235;
            padding: 12px 15px;
            border-left: 3px solid #a89984;
            margin: 12px 0;
            display: none;
            color: #d4b483;
            border-radius: 0 5px 5px 0;
        }
        
        .toggle-annotation {
            background: #5d4b36;
            border: none;
            color: #e0d5c8;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .toggle-annotation:hover {
            background: #7c6a53;
        }
        
        .translation-panel {
            display: none;
            background: #4a4235;
            border: 1px solid #5d4b36;
            padding: 12px;
            margin-top: 8px;
            border-radius: 5px;
        }
        
        .lang-btn {
            background: #3a3226;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
            padding: 3px 8px;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .lang-btn:hover {
            background: #5d4b36;
        }
        
        .lang-btn.active {
            background: #a89984;
            color: #3a3226;
            font-weight: bold;
        }
        
        .translation-content {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #5d4b36;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .translation-content div {
            display: none;
            padding: 6px 0;
        }
        
        .translation-content div.show {
            display: block;
        }
        
        .punctuation {
            color: #a89984;
        }
        
        .sentence {
            display: inline;
            position: relative;
        }
        
        .sentence.active {
            background-color: rgba(212, 180, 131, 0.3);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>è¥¿éƒ½è³¦</h1>
    
    <div class="main-text">
        <!-- ç¬¬ä¸€æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="yÃ²u" data-meaning="also">åˆ</span>
                <span class="char" data-pinyin="yÇ’u" data-meaning="have">æœ‰</span>
                <span class="char" data-pinyin="tiÄn" data-meaning="heaven">å¤©</span>
                <span class="char" data-pinyin="lÃ¹" data-meaning="blessing">ç¥¿</span>
                <span class="char" data-pinyin="shÃ­" data-meaning="stone">çŸ³</span>
                <span class="char" data-pinyin="qÃº" data-meaning="conduit">æ¸ </span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="diÇn" data-meaning="classics">å…¸</span>
                <span class="char" data-pinyin="jÃ­" data-meaning="records">ç±</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="fÇ”" data-meaning="repository">åºœ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="mÃ¬ng" data-meaning="order">å‘½</span>
                <span class="char" data-pinyin="fÅ«" data-meaning="officials">å¤«</span>
                <span class="char" data-pinyin="dÅ«n" data-meaning="diligently">æƒ‡</span>
                <span class="char" data-pinyin="huÃ¬" data-meaning="instruct">èª¨</span>
                <span class="char" data-pinyin="gÃ¹" data-meaning="old">æ•…</span>
                <span class="char" data-pinyin="lÇo" data-meaning="elder">è€</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="mÃ­ng" data-meaning="famous">å</span>
                <span class="char" data-pinyin="rÃº" data-meaning="confucian">å„’</span>
                <span class="char" data-pinyin="shÄ«" data-meaning="teacher">å¸«</span>
                <span class="char" data-pinyin="fÃ¹" data-meaning="master">å‚…</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiÇng" data-meaning="discuss">è¬›</span>
                <span class="char" data-pinyin="lÃ¹n" data-meaning="debate">è«–</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="on">ä¹</span>
                <span class="char" data-pinyin="liÃ¹" data-meaning="six">ã€Š</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="arts">å…­</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="arts">è“º</span>
                <span class="char" data-pinyin="ã€‹" data-meaning="closing quote">ã€‹</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jÄ«" data-meaning="examine">ç¨½</span>
                <span class="char" data-pinyin="hÃ©" data-meaning="compare">åˆ</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="on">ä¹</span>
                <span class="char" data-pinyin="tÃ³ng" data-meaning="similarities">åŒ</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="differences">ç•°</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>åˆæœ‰å¤©ç¦„é˜ã€çŸ³æ¸ é˜ï¼Œå…¸ç±ä¹‹åºœã€‚å‘½å®˜å‘˜å‹¤æ•™æ•…è€ï¼Œåå„’å¸ˆå‚…ã€‚è®²è®ºã€Šå…­è‰ºã€‹ï¼Œç¨½è€ƒåŒå¼‚ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>There are also the Tianlu Pavilion and the Stone Conduit Pavilion, repositories of classics. Officials are ordered to diligently instruct the elders and famous Confucian teachers. They discuss and debate the Six Arts, examining and comparing similarities and differences.</p>
                    </div>
                    <div lang="de">
                        <p>Es gibt auch den Tianlu-Pavillon und den Stone Conduit-Pavillon, Aufbewahrungsorte der Klassiker. Beamte werden angewiesen, die Ã„ltesten und berÃ¼hmten konfuzianischen Lehrer fleiÃŸig zu unterrichten. Sie diskutieren und debattieren die Sechs KÃ¼nste, untersuchen und vergleichen Ã„hnlichkeiten und Unterschiede.</p>
                    </div>
                    <div lang="fr">
                        <p>Il y a aussi le pavillon Tianlu et le pavillon Stone Conduit, des dÃ©pÃ´ts de classiques. Les fonctionnaires sont chargÃ©s d'instruire diligemment les anciens et les cÃ©lÃ¨bres maÃ®tres confucÃ©ens. Ils discutent et dÃ©battent des Six Arts, examinant et comparant les similitudes et les diffÃ©rences.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ•ÑÑ‚ÑŒ Ñ‚Ğ°ĞºĞ¶Ğµ Ğ¿Ğ°Ğ²Ğ¸Ğ»ÑŒĞ¾Ğ½ Ğ¢ÑĞ½ÑŒĞ»Ñƒ Ğ¸ Ğ¿Ğ°Ğ²Ğ¸Ğ»ÑŒĞ¾Ğ½ ĞšĞ°Ğ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞšĞ°Ğ½Ğ°Ğ»Ğ°, Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ° ĞºĞ»Ğ°ÑÑĞ¸ĞºĞ¸. Ğ§Ğ¸Ğ½Ğ¾Ğ²Ğ½Ğ¸ĞºĞ°Ğ¼ Ğ¿Ñ€Ğ¸ĞºĞ°Ğ·Ğ°Ğ½Ğ¾ ÑƒÑĞµÑ€Ğ´Ğ½Ğ¾ Ğ¾Ğ±ÑƒÑ‡Ğ°Ñ‚ÑŒ ÑÑ‚Ğ°Ñ€ĞµĞ¹ÑˆĞ¸Ğ½ Ğ¸ Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ñ… ÑƒÑ‡Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ ĞºĞ¾Ğ½Ñ„ÑƒÑ†Ğ¸Ğ°Ğ½ÑÑ‚Ğ²Ğ°. ĞĞ½Ğ¸ Ğ¾Ğ±ÑÑƒĞ¶Ğ´Ğ°ÑÑ‚ Ğ¸ ÑĞ¿Ğ¾Ñ€ÑÑ‚ Ğ¾ Ğ¨ĞµÑÑ‚Ğ¸ Ğ˜ÑĞºÑƒÑÑÑ‚Ğ²Ğ°Ñ…, Ğ¸Ğ·ÑƒÑ‡Ğ°Ñ Ğ¸ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ñ ÑÑ…Ğ¾Ğ´ÑÑ‚Ğ²Ğ° Ğ¸ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ.</p>
                    </div>
                    <div lang="es">
                        <p>TambiÃ©n estÃ¡n el PabellÃ³n Tianlu y el PabellÃ³n Stone Conduit, repositorios de clÃ¡sicos. Los funcionarios reciben la orden de instruir diligentemente a los ancianos y a los famosos maestros confucianos. Discuten y debaten las Seis Artes, examinando y comparando similitudes y diferencias.</p>
                    </div>
                    <div lang="it">
                        <p>Ci sono anche il Padiglione Tianlu e il Padiglione Stone Conduit, depositi di classici. Ai funzionari viene ordinato di istruire diligentemente gli anziani e i famosi insegnanti confuciani. Discutono e dibattono le Sei Arti, esaminando e confrontando somiglianze e differenze.</p>
                    </div>
                    <div lang="ja">
                        <p>åˆå¤©ç¥¿çŸ³æ¸ æœ‰ã‚Šã€å…¸ç±ã®åºœã€‚å¤«ã‚Œæƒ‡èª¨æ•…è€ã‚’å‘½ã˜ã€åå„’å¸«å‚…ã€‚è¬›è«–ã™ã‚‹ã“ã¨ã€Šå…­è“ºã€‹ã«æ–¼ã¦ã€ç¨½åˆã™ã‚‹ã“ã¨åŒç•°ã«ä¹ã‚‹ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šä¸‰è¼”æ•…äº‹ã€‹æ›°ï¼šå¤©ç¥¿é–£åœ¨å¤§æ®¿åŒ—ï¼Œä»¥é–£ç§˜æ›¸ã€‚çŸ³æ¸ ï¼Œå·²è¦‹ä¸Šæ–‡ã€‚ç„¶åŒå·å†è¦‹è€…ï¼Œä¸¦äº‘å·²è¦‹ä¸Šæ–‡ï¼Œå‹™å¾çœä¹Ÿã€‚ä»–çš†é¡æ­¤ã€‚ã€Šçˆ¾é›…ã€‹æ›°ï¼šæƒ‡ï¼Œå‹‰ä¹Ÿã€‚å­”å®‰åœ‹ã€Šå°™æ›¸å‚³ã€‹æ›°ï¼šèª¨ï¼Œæ•™ä¹Ÿã€‚ã€Šå‘¨ç¦®ã€‹æ›°ï¼šã€Šå…­è“ºã€‹ï¼šç¦®ã€æ¨‚ã€å°„ã€å¾¡ã€æ›¸ã€æ•¸ã€‚å­”å®‰åœ‹ã€Šå°™æ›¸å‚³ã€‹æ›°ï¼šç¨½ï¼Œè€ƒä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬äºŒæ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="yÃ²u" data-meaning="also">åˆ</span>
                <span class="char" data-pinyin="yÇ’u" data-meaning="have">æœ‰</span>
                <span class="char" data-pinyin="chÃ©ng" data-meaning="inherit">æ‰¿</span>
                <span class="char" data-pinyin="mÃ­ng" data-meaning="bright">æ˜</span>
                <span class="char" data-pinyin="jÄ«n" data-meaning="gold">é‡‘</span>
                <span class="char" data-pinyin="mÇ" data-meaning="horse">é¦¬</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="zhÃ¹" data-meaning="write">è‘—</span>
                <span class="char" data-pinyin="zuÃ²" data-meaning="composition">ä½œ</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="tÃ­ng" data-meaning="court">åº­</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="dÃ " data-meaning="great">å¤§</span>
                <span class="char" data-pinyin="yÇ" data-meaning="elegance">é›…</span>
                <span class="char" data-pinyin="hÃ³ng" data-meaning="broad">å®</span>
                <span class="char" data-pinyin="dÃ¡" data-meaning="profound">é”</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÃº" data-meaning="here">æ–¼</span>
                <span class="char" data-pinyin="zÄ«" data-meaning="this">èŒ²</span>
                <span class="char" data-pinyin="wÃ©i" data-meaning="form">çˆ²</span>
                <span class="char" data-pinyin="qÃºn" data-meaning="groups">ç¾£</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yuÃ¡n" data-meaning="original">å…ƒ</span>
                <span class="char" data-pinyin="yuÃ¡n" data-meaning="sources">å…ƒ</span>
                <span class="char" data-pinyin="bÄ›n" data-meaning="roots">æœ¬</span>
                <span class="char" data-pinyin="bÄ›n" data-meaning="roots">æœ¬</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="dÄn" data-meaning="exhaustively">æ®«</span>
                <span class="char" data-pinyin="jiÃ n" data-meaning="seen">è¦‹</span>
                <span class="char" data-pinyin="qiÃ " data-meaning="widely">æ´½</span>
                <span class="char" data-pinyin="wÃ©n" data-meaning="heard">è</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="qÇ" data-meaning="elucidate">å•“</span>
                <span class="char" data-pinyin="fÄ" data-meaning="develop">ç™¼</span>
                <span class="char" data-pinyin="piÄn" data-meaning="chapters">ç¯‡</span>
                <span class="char" data-pinyin="zhÄng" data-meaning="sections">ç« </span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiÃ o" data-meaning="collate">æ ¡</span>
                <span class="char" data-pinyin="lÇ" data-meaning="organize">ç†</span>
                <span class="char" data-pinyin="mÃ¬" data-meaning="secret">ç§˜</span>
                <span class="char" data-pinyin="wÃ©n" data-meaning="texts">æ–‡</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>åˆæœ‰æ‰¿æ˜æ®¿ã€é‡‘é©¬é—¨ï¼Œè‘—ä½œä¹‹åº­ã€‚å¤§é›…å®è¾¾ä¹‹å£«ï¼Œäºæ­¤æˆç¾¤ã€‚æ¢ç©¶æœ¬æºï¼Œå¹¿è§åšé—»ã€‚å¯å‘ç¯‡ç« ï¼Œæ ¡ç†ç§˜æ–‡ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>There are also the Chengming Hall and the Golden Horse Gate, courts of writing and composition. Men of great elegance, broad and profound, form groups here. They investigate original sources and roots, seeing exhaustively and hearing widely. They elucidate and develop chapters and sections, collating and organizing secret texts.</p>
                    </div>
                    <div lang="de">
                        <p>Es gibt auch die Chengming-Halle und das Golden Horse Gate, HÃ¶fe des Schreibens und der Komposition. MÃ¤nner von groÃŸer Eleganz, breit und tief, bilden hier Gruppen. Sie untersuchen ursprÃ¼ngliche Quellen und Wurzeln, sehen erschÃ¶pfend und hÃ¶ren weit. Sie erlÃ¤utern und entwickeln Kapitel und Abschnitte, kollationieren und organisieren geheime Texte.</p>
                    </div>
                    <div lang="fr">
                        <p>Il y a aussi la salle Chengming et la porte Golden Horse, des cours d'Ã©criture et de composition. Des hommes d'une grande Ã©lÃ©gance, larges et profonds, forment des groupes ici. Ils enquÃªtent sur les sources et les racines originales, voyant de maniÃ¨re exhaustive et entendant largement. Ils Ã©lucident et dÃ©veloppent des chapitres et des sections, collationnent et organisent des textes secrets.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ•ÑÑ‚ÑŒ Ñ‚Ğ°ĞºĞ¶Ğµ Ğ·Ğ°Ğ» Ğ§ÑĞ½Ğ¼Ğ¸Ğ½ Ğ¸ Ğ²Ğ¾Ñ€Ğ¾Ñ‚Ğ° Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ¾Ğ¹ Ğ›Ğ¾ÑˆĞ°Ğ´Ğ¸, Ğ´Ğ²Ğ¾Ñ€Ñ‹ Ğ¿Ğ¸ÑÑŒĞ¼Ğ° Ğ¸ ÑĞ¾Ñ‡Ğ¸Ğ½ĞµĞ½Ğ¸Ñ. Ğ›ÑĞ´Ğ¸ Ğ²ĞµĞ»Ğ¸ĞºĞ¾Ğ¹ ÑĞ»ĞµĞ³Ğ°Ğ½Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸, ÑˆĞ¸Ñ€Ğ¾ĞºĞ¸Ğµ Ğ¸ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¸Ğµ, Ğ¾Ğ±Ñ€Ğ°Ğ·ÑƒÑÑ‚ Ğ·Ğ´ĞµÑÑŒ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹. ĞĞ½Ğ¸ Ğ¸ÑÑĞ»ĞµĞ´ÑƒÑÑ‚ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ğ¸ ĞºĞ¾Ñ€Ğ½Ğ¸, Ğ²Ğ¸Ğ´Ñ Ğ¸ÑÑ‡ĞµÑ€Ğ¿Ñ‹Ğ²Ğ°ÑÑ‰Ğµ Ğ¸ ÑĞ»Ñ‹ÑˆĞ° ÑˆĞ¸Ñ€Ğ¾ĞºĞ¾. ĞĞ½Ğ¸ Ñ€Ğ°Ğ·ÑŠÑÑĞ½ÑÑÑ‚ Ğ¸ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ Ğ³Ğ»Ğ°Ğ²Ñ‹ Ğ¸ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ñ‹, ÑĞ²ĞµÑ€ÑÑÑ‚ Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€ÑƒÑÑ‚ ÑĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ‚ĞµĞºÑÑ‚Ñ‹.</p>
                    </div>
                    <div lang="es">
                        <p>TambiÃ©n estÃ¡n el SalÃ³n Chengming y la Puerta del Caballo Dorado, cortes de escritura y composiciÃ³n. Hombres de gran elegancia, amplios y profundos, forman grupos aquÃ­. Investigan fuentes y raÃ­ces originales, viendo exhaustivamente y escuchando ampliamente. Elucidan y desarrollan capÃ­tulos y secciones, cotejando y organizando textos secretos.</p>
                    </div>
                    <div lang="it">
                        <p>Ci sono anche la Sala Chengming e la Porta del Cavallo d'Oro, corti di scrittura e composizione. Uomini di grande elegancia, ampi e profondi, formano gruppi qui. Indagano su fonti e radici originali, vedendo esaustivamente e ascoltando ampiamente. Chiariscono e sviluppano capitoli e sezioni, collazionando e organizzando testi segreti.</p>
                    </div>
                    <div lang="ja">
                        <p>åˆæ‰¿æ˜é‡‘é¦¬æœ‰ã‚Šã€è‘—ä½œã®åº­ã€‚å¤§é›…å®é”ã€èŒ²ã«æ–¼ã¦ç¾£ã‚’çˆ²ã™ã€‚å…ƒå…ƒæœ¬æœ¬ã€è¦‹ã‚‹ã“ã¨æ®«ãèãã“ã¨æ´½ã—ã€‚ç¯‡ç« ã‚’å•“ç™¼ã—ã€ç§˜æ–‡ã‚’æ ¡ç†ã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šåš´åŠ©çˆ²æœƒç¨½å¤ªå®ˆï¼Œå¸è³œæ›¸æ›°ï¼šå›çŒ’æ‰¿æ˜ä¹‹å»¬ã€‚å¼µæ™æ›°ï¼šæ‰¿æ˜å»¬åœ¨çŸ³æ¸ é–€å¤–ã€‚é‡‘é¦¬ï¼Œå·²è¦‹ä¸Šæ–‡ã€‚å¤§é›…ï¼Œè¬‚æœ‰å¤§é›…ä¹‹æ‰è€…ã€‚è©©æœ‰å¤§é›…ï¼Œæ•…ä»¥ç«‹ç¨±ç„‰ã€‚ã€Šæ¼¢æ›¸ã€‹ï¼Œæ­¦å¸æ›°ï¼šå¸é¦¬ç›¸å¦‚ä¹‹å€«ï¼Œçš†è¾¨æ™ºé–é”ã€‚å…ƒå…ƒæœ¬æœ¬ï¼Œè¬‚å¾—å…¶å…ƒæœ¬ä¹Ÿã€‚ã€Šå­”å¢å­ã€‹æ›°ï¼šè‡å¼˜æ›°ï¼šä»²å°¼æ´½èå¼·è¨˜ã€‚ã€Šå­ç¶“éˆå‘½æ±ºã€‹æ›°ï¼šä¸˜æ‡ç§˜æ–‡ã€‚
            </div>
        </div>

        <!-- ç¬¬ä¸‰æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="zhÅu" data-meaning="surround">å‘¨</span>
                <span class="char" data-pinyin="yÇ" data-meaning="with">ä»¥</span>
                <span class="char" data-pinyin="gÅu" data-meaning="hook">é‰¤</span>
                <span class="char" data-pinyin="chÃ©n" data-meaning="array">é™³</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="wÃ¨i" data-meaning="positions">ä½</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="wÃ¨i" data-meaning="guard">è¡</span>
                <span class="char" data-pinyin="yÇ" data-meaning="with">ä»¥</span>
                <span class="char" data-pinyin="yÃ¡n" data-meaning="strict">åš´</span>
                <span class="char" data-pinyin="gÄ“ng" data-meaning="watches">æ›´</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="shÇ”" data-meaning="offices">ç½²</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="zÇ’ng" data-meaning="gather">ç¸½</span>
                <span class="char" data-pinyin="lÇ" data-meaning="ritual">ç¦®</span>
                <span class="char" data-pinyin="guÄn" data-meaning="officials">å®˜</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="jiÇ" data-meaning="top">ç”²</span>
                <span class="char" data-pinyin="kÄ“" data-meaning="graduates">ç§‘</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="qÃºn" data-meaning="assemble">ç¾£</span>
                <span class="char" data-pinyin="bÇi" data-meaning="hundred">ç™¾</span>
                <span class="char" data-pinyin="jÃ¹n" data-meaning="commanderies">éƒ¡</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="liÃ¡n" data-meaning="honest">å»‰</span>
                <span class="char" data-pinyin="xiÃ o" data-meaning="filial">å­</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å››å‘¨ä»¥é’©é™ˆä¹‹ä½ç¯ç»•ï¼Œä»¥ä¸¥æ›´ä¹‹ç½²æŠ¤å«ã€‚æ€»é›†ç¤¼å®˜ä¹‹ç”²ç§‘ï¼Œèšé›†ç™¾éƒ¡ä¹‹å»‰å­ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Surrounded by the positions of Gouchen, guarded by the offices of strict watches. Gathering the top graduates of ritual officials, assembling the honest and filial from a hundred commanderies.</p>
                    </div>
                    <div lang="de">
                        <p>Umgeben von den Positionen von Gouchen, bewacht von den BÃ¼ros strenger Wachen. Versammeln der besten Absolventen der Ritualbeamten, Zusammenstellung der Ehrlichen und Frommen aus hundert Kommandanturen.</p>
                    </div>
                    <div lang="fr">
                        <p>EntourÃ© par les positions de Gouchen, gardÃ© par les bureaux des veilles strictes. Rassembler les meilleurs diplÃ´mÃ©s des officiels rituels, assembler les honnÃªtes et filiaux d'une centaine de commanderies.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞĞºÑ€ÑƒĞ¶ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸ÑĞ¼Ğ¸ Ğ“Ğ¾ÑƒÑ‡ÑĞ½ÑŒ, Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼Ñ‹Ğµ Ğ¾Ñ„Ğ¸ÑĞ°Ğ¼Ğ¸ ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ñ… Ğ´Ğ¾Ğ·Ğ¾Ñ€Ğ¾Ğ². Ğ¡Ğ¾Ğ±Ğ¸Ñ€Ğ°Ñ Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ğ²Ñ‹Ğ¿ÑƒÑĞºĞ½Ğ¸ĞºĞ¾Ğ² Ñ€Ğ¸Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ñ‡Ğ¸Ğ½Ğ¾Ğ²Ğ½Ğ¸ĞºĞ¾Ğ², ÑĞ¾Ğ±Ğ¸Ñ€Ğ°Ñ Ñ‡ĞµÑÑ‚Ğ½Ñ‹Ñ… Ğ¸ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¸Ğ· ÑĞ¾Ñ‚Ğ½Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹.</p>
                    </div>
                    <div lang="es">
                        <p>Rodeado por las posiciones de Gouchen, custodiado por las oficinas de estrictas vigilias. Reuniendo a los mejores graduados de los funcionarios rituales, reuniendo a los honestos y filiales de cien comandancias.</p>
                    </div>
                    <div lang="it">
                        <p>Circondato dalle posizioni di Gouchen, sorvegliato dagli uffici di rigide ronde. Riunendo i migliori laureati dei funzionari rituali, assemblando gli onesti e filiali da un centinaio di comanderie.</p>
                    </div>
                    <div lang="ja">
                        <p>å‘¨ã‚Šã«é‰¤é™³ã®ä½ã‚’ä»¥ã¦ã—ã€è¡ã«åš´æ›´ã®ç½²ã‚’ä»¥ã¦ã™ã€‚ç¦®å®˜ã®ç”²ç§‘ã‚’ç¸½ã¹ã€ç™¾éƒ¡ã®å»‰å­ã‚’ç¾£ã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šæ¨‚æ±åœ–ã€‹æ›°ï¼šé‰¤é™³ï¼Œå¾Œå®®ä¹Ÿã€‚æœè™”ã€Šç”˜æ³‰è³¦æ³¨ã€‹æ›°ï¼šç´«å®®å¤–ç‡Ÿï¼Œå‹¾é™³æ˜Ÿä¹Ÿã€‚ç„¶ç‹è€…äº¦æ³•ä¹‹ã€‚è–›ç¶œã€Šè¥¿äº¬è³¦æ³¨ã€‹æ›°ï¼šåš´æ›´ï¼Œç£è¡Œå¤œé¼“ä¹Ÿã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šå¥‰å¸¸æŒç¦®å„€ï¼Œå±¬å®˜æœ‰äº”ç¶“åšå£«ã€‚å¤©æ›°ï¼šåŒ¡è¡¡å°„ç­–ç”²ç§‘ï¼Œé™¤å¤ªå¸¸æŒæ•…ã€‚åˆæ›°ï¼šç§¦åˆ†å¤©ä¸‹çˆ²éƒ¡ç¸£ã€‚åˆæ›°ï¼šèˆˆå»‰èˆ‰å­ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬å››æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="hÇ”" data-meaning="tiger">è™</span>
                <span class="char" data-pinyin="bÄ“n" data-meaning="warriors">è³</span>
                <span class="char" data-pinyin="zhuÃ¬" data-meaning="embroidered">è´…</span>
                <span class="char" data-pinyin="yÄ«" data-meaning="robes">è¡£</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÄn" data-meaning="eunuch">é–¹</span>
                <span class="char" data-pinyin="yÇn" data-meaning="officials">å°¹</span>
                <span class="char" data-pinyin="hÅ«n" data-meaning="gate">é–½</span>
                <span class="char" data-pinyin="sÃ¬" data-meaning="keepers">å¯º</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="bÃ¬" data-meaning="steps">é™›</span>
                <span class="char" data-pinyin="jÇ" data-meaning="halberds">æˆŸ</span>
                <span class="char" data-pinyin="bÇi" data-meaning="hundred">ç™¾</span>
                <span class="char" data-pinyin="chÃ³ng" data-meaning="layers">é‡</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="gÃ¨" data-meaning="each">å„</span>
                <span class="char" data-pinyin="yÇ’u" data-meaning="have">æœ‰</span>
                <span class="char" data-pinyin="diÇn" data-meaning="specific">å…¸</span>
                <span class="char" data-pinyin="sÄ«" data-meaning="duties">å¸</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>è™è´²å‹‡å£«ä¸ç¼€è¡£å®˜å‘˜ï¼Œé˜‰å°¹ä¸é˜å¯ºã€‚é™›æˆŸç™¾é‡ï¼Œå„æœ‰ä¸“èŒã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Tiger warriors and officials with embroidered robes, eunuch officials and gate keepers. Halberds on the steps in a hundred layers, each with specific duties.</p>
                    </div>
                    <div lang="de">
                        <p>Tigerkrieger und Beamte mit bestickten Roben, Eunuchenbeamte und TorwÃ¤chter. Hellebarden auf den Stufen in hundert Schichten, jeder mit spezifischen Aufgaben.</p>
                    </div>
                    <div lang="fr">
                        <p>Guerriers tigres et officiels avec des robes brodÃ©es, officiels eunuques et gardiens de porte. Hallebardes sur les marches en cent couches, chacune avec des tÃ¢ches spÃ©cifiques.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ¢Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ğ¸Ğ½Ñ‹ Ğ¸ Ñ‡Ğ¸Ğ½Ğ¾Ğ²Ğ½Ğ¸ĞºĞ¸ Ñ Ğ²Ñ‹ÑˆĞ¸Ñ‚Ñ‹Ğ¼Ğ¸ Ğ¾Ğ´ĞµĞ¶Ğ´Ğ°Ğ¼Ğ¸, Ñ‡Ğ¸Ğ½Ğ¾Ğ²Ğ½Ğ¸ĞºĞ¸-ĞµĞ²Ğ½ÑƒÑ…Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¸Ğ²Ñ€Ğ°Ñ‚Ğ½Ğ¸ĞºĞ¸. ĞĞ»ĞµĞ±Ğ°Ñ€Ğ´Ñ‹ Ğ½Ğ° ÑÑ‚ÑƒĞ¿ĞµĞ½ÑÑ… Ğ² ÑĞ¾Ñ‚Ğ½ÑÑ… ÑĞ»Ğ¾ĞµĞ², Ñƒ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞ²Ğ¾Ğ¸ Ğ¾Ğ±ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚Ğ¸.</p>
                    </div>
                    <div lang="es">
                        <p>Guerreros tigres y funcionarios con tÃºnicas bordadas, funcionarios eunucos y guardianes de puertas. Alabardas en los escalones en cien capas, cada una con deberes especÃ­ficos.</p>
                    </div>
                    <div lang="it">
                        <p>Guerrieri tigre e funzionari con abiti ricamati, funzionari eunuchi e custodi delle porte. Alabarde sui gradini in cento strati, ognuno con compiti specifici.</p>
                    </div>
                    <div lang="ja">
                        <p>è™è³è´…è¡£ã€é–¹å°¹é–½å¯ºã€‚é™›æˆŸç™¾é‡ã€å„å…¸å¸æœ‰ã‚Šã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šå°™æ›¸ã€‹ï¼Œå‘¨å…¬æ›°ï¼šç¶´è¡£è™è³ã€‚ã€Šå…¬ç¾Šå‚³ã€‹æ›°ï¼šè´…ï¼ŒçŒ¶ç¶´ä¹Ÿã€‚è´…ï¼Œä¹‹éŠ³åˆ‡ã€‚ã€Šå‘¨ç¦®ã€‹æ›°ï¼šå…§å°è‡£å¥„ï¼Œä¸Šå£«ï¼Œåˆæœ‰é–½äººã€å¯ºäººã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šå¤ªåç››æœï¼Œåæ­¦å¸³ï¼Œæ­¦å£«é™›æˆŸï¼Œé™³åˆ—æ®¿ä¸‹ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬äº”æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="zhÅu" data-meaning="surrounding">å‘¨</span>
                <span class="char" data-pinyin="lÃº" data-meaning="barracks">å»¬</span>
                <span class="char" data-pinyin="qiÄn" data-meaning="thousand">åƒ</span>
                <span class="char" data-pinyin="liÃ¨" data-meaning="rows">åˆ—</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiÇo" data-meaning="patrol">å¾¼</span>
                <span class="char" data-pinyin="dÃ o" data-meaning="paths">é“</span>
                <span class="char" data-pinyin="qÇ" data-meaning="intricately">ç¶º</span>
                <span class="char" data-pinyin="cuÃ²" data-meaning="interwoven">éŒ¯</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å‘¨å›´åºèˆåƒåˆ—ï¼Œå·¡é€»é“è·¯äº¤é”™ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Surrounding barracks in a thousand rows, patrol paths intricately interwoven.</p>
                    </div>
                    <div lang="de">
                        <p>Umgebende Baracken in tausend Reihen, Patrouillenwege kunstvoll verwoben.</p>
                    </div>
                    <div lang="fr">
                        <p>Caserne environnante en mille rangÃ©es, sentiers de patrouille entrelacÃ©s de maniÃ¨re complexe.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞĞºÑ€ÑƒĞ¶Ğ°ÑÑ‰Ğ¸Ğµ ĞºĞ°Ğ·Ğ°Ñ€Ğ¼Ñ‹ Ğ² Ñ‚Ñ‹ÑÑÑ‡Ğ°Ñ… Ñ€ÑĞ´Ğ¾Ğ², Ğ¿Ğ°Ñ‚Ñ€ÑƒĞ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ¾Ñ€Ğ¾Ğ¶ĞºĞ¸ Ğ·Ğ°Ğ¼Ñ‹ÑĞ»Ğ¾Ğ²Ğ°Ñ‚Ğ¾ Ğ¿ĞµÑ€ĞµĞ¿Ğ»ĞµÑ‚ĞµĞ½Ñ‹.</p>
                    </div>
                    <div lang="es">
                        <p>Barracas circundantes en mil filas, senderos de patrulla intrincadamente entrelazados.</p>
                    </div>
                    <div lang="it">
                        <p>Baracche circostanti in mille file, sentieri di pattuglia intricatamente intrecciati.</p>
                    </div>
                    <div lang="ja">
                        <p>å‘¨å»¬åƒåˆ—ã€å¾¼é“ç¶ºéŒ¯ã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šå²è¨˜ã€‹ï¼Œè¡ä»¤æ›°ï¼šå‘¨å»¬è¨­å’ç”šè¬¹ã€‚ã€Šæ¼¢æ›¸éŸ³ç¾©ã€‹ï¼Œå¼µæ™æ›°ï¼šç›´å®¿æ›°å»¬ã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šä¸­å°‰æŒå¾¼å¾ªäº¬å¸«ã€‚å¦‚æ·³æ›°ï¼šæ‰€è¬‚éŠå¾¼å¾ªç¦ï¼Œå‚™ç›œè³Šä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬å…­æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="niÇn" data-meaning="imperial">è¼¦</span>
                <span class="char" data-pinyin="lÃ¹" data-meaning="path">è·¯</span>
                <span class="char" data-pinyin="jÄ«ng" data-meaning="plan">ç¶“</span>
                <span class="char" data-pinyin="yÃ­ng" data-meaning="construct">ç‡Ÿ</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="xiÅ«" data-meaning="repair">è„©</span>
                <span class="char" data-pinyin="chÃº" data-meaning="clear">é™¤</span>
                <span class="char" data-pinyin="fÄ“i" data-meaning="flying">é£›</span>
                <span class="char" data-pinyin="gÃ©" data-meaning="pavilions">é–£</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>è§„åˆ’å»ºé€ è¾‡è·¯ï¼Œä¿®æ²»é£é˜ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Plan and construct the imperial path, repair and clear the flying pavilions.</p>
                    </div>
                    <div lang="de">
                        <p>Planen und bauen Sie den kaiserlichen Pfad, reparieren und rÃ¤umen Sie die fliegenden Pavillons.</p>
                    </div>
                    <div lang="fr">
                        <p>Planifiez et construisez le sentier impÃ©rial, rÃ©parez et dÃ©gagez les pavillons volants.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¸ ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¸Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ÑĞºÑƒÑ Ğ´Ğ¾Ñ€Ğ¾Ğ³Ñƒ, Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¸ Ğ¾Ñ‡Ğ¸Ñ‰Ğ°Ğ¹Ñ‚Ğµ Ğ»ĞµÑ‚Ğ°ÑÑ‰Ğ¸Ğµ Ğ¿Ğ°Ğ²Ğ¸Ğ»ÑŒĞ¾Ğ½Ñ‹.</p>
                    </div>
                    <div lang="es">
                        <p>Planifique y construya el camino imperial, repare y despeje los pabellones voladores.</p>
                    </div>
                    <div lang="it">
                        <p>Pianifica e costruisci il sentiero imperiale, ripara e libera i padiglioni volanti.</p>
                    </div>
                    <div lang="ja">
                        <p>è¼¦è·¯ã‚’ç¶“ç‡Ÿã—ã€è„©é™¤é£›é–£ã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                è¼¦è·¯ï¼Œè¼¦é“ä¹Ÿã€‚ã€Šä¸Šæ—è³¦ã€‹æ›°ï¼šè¼¦é“çºšå±¬ã€‚å¦‚æ·³æ›°ï¼šè¼¦é“ï¼Œé–£é“ä¹Ÿã€‚å¸é¦¬å½ªã€Šä¸Šæ—è³¦æ³¨ã€‹æ›°ï¼šé™¤ï¼Œæ¨“é™›ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬ä¸ƒæ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="zÃ¬" data-meaning="from">è‡ª</span>
                <span class="char" data-pinyin="wÃ¨i" data-meaning="wei">æœª</span>
                <span class="char" data-pinyin="yÄng" data-meaning="yang">å¤®</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="liÃ¡n" data-meaning="connecting">é€£</span>
                <span class="char" data-pinyin="guÃ¬" data-meaning="gui">æ¡‚</span>
                <span class="char" data-pinyin="gÅng" data-meaning="palace">å®®</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="bÄ›i" data-meaning="north">åŒ—</span>
                <span class="char" data-pinyin="mÃ­" data-meaning="extending">å½Œ</span>
                <span class="char" data-pinyin="mÃ­ng" data-meaning="bright">æ˜</span>
                <span class="char" data-pinyin="guÄng" data-meaning="light">å…‰</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="gÃ¨n" data-meaning="reaching">äº˜</span>
                <span class="char" data-pinyin="chÃ¡ng" data-meaning="long">é•·</span>
                <span class="char" data-pinyin="lÃ¨" data-meaning="happiness">æ¨‚</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="lÃ­ng" data-meaning="crossing">å‡Œ</span>
                <span class="char" data-pinyin="dÃ¨ng" data-meaning="elevated">éš¥</span>
                <span class="char" data-pinyin="dÃ o" data-meaning="paths">é“</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="chÄo" data-meaning="surpassing">è¶…</span>
                <span class="char" data-pinyin="xÄ«" data-meaning="western">è¥¿</span>
                <span class="char" data-pinyin="yÅng" data-meaning="walls">å¢‰</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="hÃ¹n" data-meaning="combining">æ</span>
                <span class="char" data-pinyin="jiÃ n" data-meaning="jian">å»º</span>
                <span class="char" data-pinyin="zhÄng" data-meaning="zhang">ç« </span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="liÃ¡n" data-meaning="connecting">é€£</span>
                <span class="char" data-pinyin="wÃ i" data-meaning="outer">å¤–</span>
                <span class="char" data-pinyin="shÇ”" data-meaning="buildings">å±¬</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="shÃ¨" data-meaning="setting up">è¨­</span>
                <span class="char" data-pinyin="bÃ¬" data-meaning="jade">ç’§</span>
                <span class="char" data-pinyin="mÃ©n" data-meaning="gates">é–€</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="fÃ¨ng" data-meaning="phoenix">é³³</span>
                <span class="char" data-pinyin="quÃ¨" data-meaning="towers">é—•</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="shÃ ng" data-meaning="ascending">ä¸Š</span>
                <span class="char" data-pinyin="gÅ«" data-meaning="octagonal">è§š</span>
                <span class="char" data-pinyin="lÃ©ng" data-meaning="corners">ç¨œ</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="qÄ«" data-meaning="perching">æ£²</span>
                <span class="char" data-pinyin="jÄ«n" data-meaning="golden">é‡‘</span>
                <span class="char" data-pinyin="juÃ©" data-meaning="sparrows">çˆµ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>ä»æœªå¤®å®«è¿æ¥æ¡‚å®«ï¼ŒåŒ—è‡³æ˜å…‰å®«ç›´è¾¾é•¿ä¹å®«ã€‚è·¨è¶Šé˜é“è¶…è¶Šè¥¿å¢™ï¼Œåˆå¹¶å»ºç« å®«è¿æ¥å¤–å±ã€‚è®¾ç«‹ç’§é—¨ä¹‹å‡¤é˜™ï¼Œä¸Šæœ‰è§šæ£±æ –é‡‘é›€ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>From Weiyang Palace connecting to Gui Palace, north extending to Mingguang Palace and reaching Changle Palace. Crossing elevated paths and surpassing western walls, combining Jianzhang Palace and connecting outer buildings. Setting up the phoenix towers of jade gates, ascending octagonal corners and perching golden sparrows.</p>
                    </div>
                    <div lang="de">
                        <p>Vom Weiyang-Palast, der sich mit dem Gui-Palast verbindet, erstreckt sich der Norden bis zum Mingguang-Palast und erreicht den Changle-Palast. Ãœberqueren Sie erhÃ¶hte Pfade und Ã¼berwinden Sie westliche Mauern, kombinieren Sie den Jianzhang-Palast und verbinden Sie Ã¤uÃŸere GebÃ¤ude. Errichten Sie die PhÃ¶nix-TÃ¼rme der Jade-Tore, steigen Sie auf achteckige Ecken und setzen Sie sich mit goldenen Spatzen hin.</p>
                    </div>
                    <div lang="fr">
                        <p>Du palais Weiyang se connectant au palais Gui, au nord s'Ã©tendant jusqu'au palais Mingguang et atteignant le palais Changle. Traversant des chemins surÃ©levÃ©s et dÃ©passant les murs occidentaux, combinant le palais Jianzhang et connectant des bÃ¢timents extÃ©rieurs. Installer les tours phÃ©nix des portes de jade, monter les coins octogonaux et se percher avec des moineaux dorÃ©s.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞÑ‚ Ğ´Ğ²Ğ¾Ñ€Ñ†Ğ° Ğ’ÑĞ¹ÑĞ½, ÑĞ¾ĞµĞ´Ğ¸Ğ½ÑÑÑ‰ĞµĞ³Ğ¾ÑÑ Ñ Ğ´Ğ²Ğ¾Ñ€Ñ†Ğ¾Ğ¼ Ğ“ÑƒĞ¹, Ğ½Ğ° ÑĞµĞ²ĞµÑ€Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ñ€Ğ°ĞµÑ‚ÑÑ Ğ´Ğ¾ Ğ´Ğ²Ğ¾Ñ€Ñ†Ğ° ĞœĞ¸Ğ½Ğ³ÑƒĞ°Ğ½ Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ³Ğ°ĞµÑ‚ Ğ´Ğ²Ğ¾Ñ€Ñ†Ğ° Ğ§Ğ°Ğ½Ğ»Ñ. ĞŸĞµÑ€ĞµÑĞµĞºĞ°Ñ Ğ²Ğ¾Ğ·Ğ²Ñ‹ÑˆĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ¾Ñ€Ğ¾Ğ¶ĞºĞ¸ Ğ¸ Ğ¿Ñ€ĞµĞ¾Ğ´Ğ¾Ğ»ĞµĞ²Ğ°Ñ Ğ·Ğ°Ğ¿Ğ°Ğ´Ğ½Ñ‹Ğµ ÑÑ‚ĞµĞ½Ñ‹, Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑÑ Ğ´Ğ²Ğ¾Ñ€ĞµÑ† Ğ¦Ğ·ÑĞ½ÑŒÑ‡Ğ¶Ğ°Ğ½ Ğ¸ ÑĞ¾ĞµĞ´Ğ¸Ğ½ÑÑ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ñ„ĞµĞ½Ğ¸ĞºÑĞ¾Ğ²Ñ‹Ñ… Ğ±Ğ°ÑˆĞµĞ½ Ğ½ĞµÑ„Ñ€Ğ¸Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ²Ğ¾Ñ€Ğ¾Ñ‚, Ğ²Ğ¾ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ²Ğ¾ÑÑŒĞ¼Ğ¸ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ³Ğ»Ñ‹ Ğ¸ Ğ½Ğ°ÑĞµÑÑ‚ Ñ Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ñ‹Ğ¼Ğ¸ Ğ²Ğ¾Ñ€Ğ¾Ğ±ÑŒÑĞ¼Ğ¸.</p>
                    </div>
                    <div lang="es">
                        <p>Desde el Palacio Weiyang conectÃ¡ndose con el Palacio Gui, al norte extendiÃ©ndose hasta el Palacio Mingguang y llegando al Palacio Changle. Cruzando caminos elevados y superando muros occidentales, combinando el Palacio Jianzhang y conectando edificios exteriores. Instalando las torres fÃ©nix de las puertas de jade, ascendiendo esquinas octogonales y posÃ¡ndose con gorriones dorados.</p>
                    </div>
                    <div lang="it">
                        <p>Dal Palazzo Weiyang che si collega al Palazzo Gui, a nord si estende fino al Palazzo Mingguang e raggiunge il Palazzo Changle. Attraversando sentieri rialzati e superando i muri occidentali, combinando il Palazzo Jianzhang e collegando gli edifici esterni. Installare le torri fenice delle porte di giada, salire angoli ottagonali e posarsi con passeri dorati.</p>
                    </div>
                    <div lang="ja">
                        <p>æœªå¤®ã‚ˆã‚Šæ¡‚å®®ã«é€£ãªã‚Šã€åŒ—ã¯æ˜å…‰ã«å½Œã‚Šã¦é•·æ¨‚ã«äº˜ã‚‹ã€‚éš¥é“ã‚’å‡Œãã¦è¥¿å¢‰ã‚’è¶…ãˆã€å»ºç« ã‚’æã—ã¦å¤–å±¬ã«é€£ãªã‚‹ã€‚ç’§é–€ã®é³³é—•ã‚’è¨­ã‘ã€è§šç¨œã«ä¸Šã‚Šã¦é‡‘çˆµã‚’æ£²ã¾ã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šé«˜ç¥–è‡³é•·å®‰ï¼Œè•­ä½•ä½œæœªå¤®å®®ã€‚ã€Šä¸‰è¼”èˆŠäº‹ã€‹æ›°ï¼šæ¡‚å®®å…§æœ‰æ˜å…‰æ®¿ã€‚æ¯›è‡ã€Šè©©å‚³ã€‹æ›°ï¼šå½Œï¼Œçµ‚ä¹Ÿã€‚ã€Šæ–¹è¨€ã€‹æ›°ï¼šäº˜ï¼Œç«Ÿä¹Ÿã€‚äº˜èˆ‡çµ™å¤å­—é€šã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šé«˜ç¥–ä¿®é•·æ¨‚å®®ã€‚è–›ç¶œã€Šè¥¿äº¬è³¦æ³¨ã€‹æ›°ï¼šéš¥ï¼Œé–£é“ä¹Ÿï¼Œä¸é„§åˆ‡ã€‚æ¯›è‡ã€Šè©©å‚³ã€‹æ›°ï¼šå¢‰ï¼ŒåŸä¹Ÿã€‚ã€Šæ–¹è¨€ã€‹æ›°ï¼šæï¼ŒåŒä¹Ÿï¼ŒéŸ³ç¾©èˆ‡æ··åŒï¼Œèƒ¡æœ¬åˆ‡ã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šå»ºç« å®®ï¼Œå…¶æ±å‰‡é³³é—•ï¼Œé«˜äºŒåé¤˜ä¸ˆï¼Œå…¶å—æœ‰ç’§é–€ä¹‹å±¬ã€‚ã€Šæ¼¢æ›¸éŸ³ç¾©ã€‹ï¼Œæ‡‰åŠ­æ›°ï¼šè§šï¼Œå…«è§šæœ‰éš…è€…ä¹Ÿï¼ŒéŸ³å­¤ã€‚ã€Šèªªæ–‡ã€‹æ›°ï¼šç¨œï¼ŒæŸ§ä¹Ÿï¼ŒæŸ§èˆ‡è§šåŒã€‚ç¨œï¼Œè½ç™»åˆ‡ã€‚ã€Šä¸‰è¼”æ•…äº‹ã€‹æ›°ï¼šå»ºç« å®®é—•ä¸Šæœ‰éŠ…é³³çš‡ã€‚ç„¶é‡‘çˆµå‰‡éŠ…é³³ä¹Ÿã€‚
            </div>
        </div>
    </div>
    
    <!-- å¼¹å‡ºçª—å£ -->
    <div class="popup" id="charPopup">
        <span class="popup-close" onclick="closePopup()">Ã—</span>
        <div class="popup-content">
            <div class="popup-char"></div>
            <div class="popup-pinyin"></div>
            <div class="popup-meaning"></div>
        </div>
    </div>
    
    <script>
        // å•å­—ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.char').forEach(char => {
            char.addEventListener('click', function() {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `æ‹¼éŸ³: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `é‡Šä¹‰: ${this.dataset.meaning}`;
                popup.style.display = 'block';
            });
        });
        
        // å…³é—­å¼¹å‡ºçª—å£
        function closePopup() {
            document.getElementById('charPopup').style.display = 'none';
        }
        
        // æ®µè½æœ—è¯»åŠŸèƒ½
        let currentParagraphUtterances = [];
        let currentReadingParagraph = null;
        
        function speakParagraph(btn) {
            const paragraph = btn.closest('.paragraph');
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å½“å‰æ®µè½ï¼Œåœæ­¢
            if (currentReadingParagraph === paragraph && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                btn.textContent = 'ğŸ”Š';
                currentReadingParagraph = null;
                return;
            }
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å…¶ä»–æ®µè½ï¼Œå…ˆåœæ­¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                document.querySelectorAll('.control-btn').forEach(b => {
                    if (b.textContent === 'â¹') b.textContent = 'ğŸ”Š';
                });
            }
            
            // å¼€å§‹æœ—è¯»æ–°æ®µè½
            currentReadingParagraph = paragraph;
            btn.textContent = 'â¹';
            
            const sentences = paragraph.querySelectorAll('.sentence');
            currentParagraphUtterances = [];
            
            // å‡†å¤‡æ‰€æœ‰å¥å­è¯­éŸ³
            sentences.forEach((sentence, index) => {
                let sentenceText = '';
                sentence.querySelectorAll('.char').forEach(char => {
                    if (!char.classList.contains('punctuation') || 
                        ['ï¼Œ', 'ã€‚', 'ï¼', 'ï¼Ÿ', 'ï¼š', 'ï¼›'].includes(char.textContent)) {
                        sentenceText += char.textContent;
                    }
                });
                
                const utterance = new SpeechSynthesisUtterance(sentenceText);
                utterance.lang = 'zh-TW';
                utterance.rate = 0.8;
                
                utterance.onstart = function() {
                    resetAllSentenceHighlights();
                    sentence.classList.add('active');
                    
                    // æ»šåŠ¨åˆ°å½“å‰å¥å­
                    sentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                };
                
                utterance.onend = function() {
                    if (index === sentences.length - 1) {
                        btn.textContent = 'ğŸ”Š';
                        currentReadingParagraph = null;
                    }
                };
                
                currentParagraphUtterances.push(utterance);
            });
            
            // æŒ‰é¡ºåºæœ—è¯»æ‰€æœ‰å¥å­
            currentParagraphUtterances.forEach((utterance, index) => {
                // è®¾ç½®å»¶è¿Ÿï¼Œä½¿å¥å­ä¹‹é—´æœ‰è‡ªç„¶åœé¡¿
                if (index > 0) {
                    const prevDuration = currentParagraphUtterances[index-1].text.length * 100; // ä¼°ç®—å‰ä¸€å¥æŒç»­æ—¶é—´
                    utterance.startTime = Date.now() + prevDuration + 300; // 300msé¢å¤–åœé¡¿
                }
                window.speechSynthesis.speak(utterance);
            });
        }
        
        function resetAllSentenceHighlights() {
            document.querySelectorAll('.sentence').forEach(s => {
                s.classList.remove('active');
            });
        }
        
        // æ˜¾ç¤º/éšè—æ³¨é‡Šé¢æ¿
        function toggleAnnotationPanel(btn) {
            const annotation = btn.nextElementSibling;
            if (annotation.style.display === 'block') {
                annotation.style.display = 'none';
                btn.textContent = 'é¡¯ç¤ºè¨»é‡‹';
            } else {
                annotation.style.display = 'block';
                btn.textContent = 'éš±è—è¨»é‡‹';
            }
        }
        
        // æ˜¾ç¤º/éšè—ç¿»è¯‘é¢æ¿
        function toggleTranslationPanel(btn) {
            const panel = btn.closest('.paragraph').querySelector('.translation-panel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
            }
        }
        
        // åˆ‡æ¢ç¿»è¯‘è¯­è¨€
        function showTranslation(btn, lang) {
            const panel = btn.closest('.translation-panel').querySelector('.translation-content');
            panel.querySelectorAll('div').forEach(div => {
                div.classList.remove('show');
            });
            panel.querySelector(`div[lang="${lang}"]`).classList.add('show');
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            btn.closest('.translation-panel').querySelectorAll('.lang-btn').forEach(b => {
                b.classList.remove('active');
            });
            btn.classList.add('active');
        }
        
        // ç‚¹å‡»ç©ºç™½å¤„å…³é—­å¼¹å‡ºçª—å£
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('charPopup')) {
                closePopup();
            }
        });
    </script>
</body>
</html>
