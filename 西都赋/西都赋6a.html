<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„ÄäÂÖ©ÈÉΩË≥¶„ÄãÁ¨¨ÂÖ≠ËäÇ</title>
    <style>
        body {
            font-family: "SimSun", "ÂÆãÈ´î", serif;
            line-height: 2.5;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #3a3226;
            color: #e0d5c8;
        }
        
        h1 {
            color: #d4b483;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #5d4b36;
            padding-bottom: 10px;
        }
        
        .main-text {
            font-size: 24px;
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .char {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .char:hover {
            color: #d4a373;
            text-shadow: 0 0 3px rgba(212, 163, 115, 0.5);
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4a4235;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 300px;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
        }
        
        .popup-content {
            font-size: 16px;
        }
        
        .popup-char {
            font-size: 28px;
            text-align: center;
            margin-bottom: 10px;
            color: #d4b483;
        }
        
        .popup-pinyin, .popup-meaning {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #5d4b36;
        }
        
        .popup-close {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #a89984;
        }
        
        .paragraph {
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            margin: 10px 0;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            border: none;
            border-radius: 50%;
            background: #5d4b36;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: #e0d5c8;
            font-size: 14px;
        }
        
        .control-btn:hover {
            background: #7c6a53;
            transform: scale(1.1);
        }
        
        .annotation {
            font-size: 18px;
            background: #4a4235;
            padding: 12px 15px;
            border-left: 3px solid #a89984;
            margin: 12px 0;
            display: none;
            color: #d4b483;
            border-radius: 0 5px 5px 0;
        }
        
        .toggle-annotation {
            background: #5d4b36;
            border: none;
            color: #e0d5c8;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .toggle-annotation:hover {
            background: #7c6a53;
        }
        
        .translation-panel {
            display: none;
            background: #4a4235;
            border: 1px solid #5d4b36;
            padding: 12px;
            margin-top: 8px;
            border-radius: 5px;
        }
        
        .lang-btn {
            background: #3a3226;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
            padding: 3px 8px;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .lang-btn:hover {
            background: #5d4b36;
        }
        
        .lang-btn.active {
            background: #a89984;
            color: #3a3226;
            font-weight: bold;
        }
        
        .translation-content {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #5d4b36;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .translation-content div {
            display: none;
            padding: 6px 0;
        }
        
        .translation-content div.show {
            display: block;
        }
        
        .punctuation {
            color: #a89984;
        }
        
        .sentence {
            display: inline;
            position: relative;
        }
        
        .sentence.active {
            background-color: rgba(212, 180, 131, 0.3);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>Ë•øÈÉΩË≥¶</h1>
    
    <div class="main-text">
        <!-- Á¨¨‰∏ÄÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="fƒìng" data-meaning="imperial">Â∞Å</span>
                <span class="char" data-pinyin="jƒ´" data-meaning="domain">Áïø</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="'s">‰πã</span>
                <span class="char" data-pinyin="n√®i" data-meaning="inside">ÂÖß</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="ju√©" data-meaning="its">Âé•</span>
                <span class="char" data-pinyin="t«î" data-meaning="land">Âúü</span>
                <span class="char" data-pinyin="qiƒÅn" data-meaning="thousand">ÂçÉ</span>
                <span class="char" data-pinyin="l«ê" data-meaning="li">Èáå</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="chu≈ç" data-meaning="surpassing">ÈÄ¥</span>
                <span class="char" data-pinyin="lu√≤" data-meaning="surpassing">Ë∫í</span>
                <span class="char" data-pinyin="zh≈´" data-meaning="all">Ë´∏</span>
                <span class="char" data-pinyin="xi√†" data-meaning="Xia">Â§è</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiƒÅn" data-meaning="combining">ÂÖº</span>
                <span class="char" data-pinyin="q√≠" data-meaning="their">ÂÖ∂</span>
                <span class="char" data-pinyin="su«í" data-meaning="all">ÊâÄ</span>
                <span class="char" data-pinyin="y«íu" data-meaning="have">Êúâ</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>ÁéãÁïø‰πãÂÜÖÔºåÂÖ∂ÂúüÂçÉÈáå„ÄÇË∂ÖÁªùÂçéÂ§èËØ∏ÂõΩÔºåÂÖºÊúâÂÖ∂ÊâÄÊúâ„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Within the imperial domain, its land extends a thousand li, surpassing all the states of Xia, combining all their riches.</p>
                    </div>
                    <div lang="de">
                        <p>Innerhalb der kaiserlichen Dom√§ne erstreckt sich das Land tausend Li, √ºbertrifft alle Staaten von Xia und vereint all ihren Reichtum.</p>
                    </div>
                    <div lang="fr">
                        <p>Dans le domaine imp√©rial, sa terre s'√©tend sur mille li, surpassant tous les √©tats de Xia, combinant toutes leurs richesses.</p>
                    </div>
                    <div lang="ru">
                        <p>–í –ø—Ä–µ–¥–µ–ª–∞—Ö –∏–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–æ–≥–æ –¥–æ–º–µ–Ω–∞ –µ–≥–æ –∑–µ–º–ª—è –ø—Ä–æ—Å—Ç–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ —Ç—ã—Å—è—á—É –ª–∏, –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—è –≤—Å–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –°—è, –æ–±—ä–µ–¥–∏–Ω—è—è –≤—Å–µ –∏—Ö –±–æ–≥–∞—Ç—Å—Ç–≤–∞.</p>
                    </div>
                    <div lang="es">
                        <p>Dentro del dominio imperial, su tierra se extiende mil li, superando a todos los estados de Xia, combinando todas sus riquezas.</p>
                    </div>
                    <div lang="it">
                        <p>All'interno del dominio imperiale, la sua terra si estende per mille li, superando tutti gli stati di Xia, combinando tutte le loro ricchezze.</p>
                    </div>
                    <div lang="ja">
                        <p>Â∞ÅÁïø„ÅÆÂÜÖ„ÄÅ„Åù„ÅÆÂúüÂçÉÈáå„ÄÇË´∏Â§è„ÇíÈÄ¥Ë∫í„Åó„ÄÅ„Åù„ÅÆÊâÄÊúâ„ÇíÂÖº„Å¨„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                „ÄäÊº¢Êõ∏„ÄãÊõ∞ÔºöÈõíÈÇëËàáÂÆóÂë®ÈÄöÂ∞ÅÁïøÔºåÁà≤ÂçÉÈáå„ÄÇÂèàÊõ∞ÔºöÁß¶Âú∞Ê≤ÉÈáéÂçÉÈáåÔºå‰∫∫‰ª•ÂØåÈ•í„ÄÇÈÄ¥Ë∫íÔºåÁå∂Ë∂ÖÁµï‰πü„ÄÇÈÄ¥ÔºåÈü≥Âçì„ÄÇË∫íÔºåÂëÇËßíÂàá„ÄÇ„ÄäË´ñË™û„ÄãÔºåÂ≠êÊõ∞ÔºöÂ§∑ÁãÑ‰πãÊúâÂêõÔºå‰∏çÂ¶ÇË´∏Â§è‰πã‰∫°‰πü„ÄÇ
            </div>
        </div>

        <!-- Á¨¨‰∫åÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="q√≠" data-meaning="its">ÂÖ∂</span>
                <span class="char" data-pinyin="y√°ng" data-meaning="southern">ÈôΩ</span>
                <span class="char" data-pinyin="z√©" data-meaning="then">Ââá</span>
                <span class="char" data-pinyin="ch√≥ng" data-meaning="lofty">Â¥á</span>
                <span class="char" data-pinyin="shƒÅn" data-meaning="mountains">Â±±</span>
                <span class="char" data-pinyin="y«ên" data-meaning="hiding">Èö±</span>
                <span class="char" data-pinyin="tiƒÅn" data-meaning="sky">Â§©</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="y≈çu" data-meaning="deep">ÂπΩ</span>
                <span class="char" data-pinyin="l√≠n" data-meaning="forests">Êûó</span>
                <span class="char" data-pinyin="qi√≥ng" data-meaning="profound">Á©π</span>
                <span class="char" data-pinyin="g«î" data-meaning="valleys">Ë∞∑</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="l√π" data-meaning="land">Èô∏</span>
                <span class="char" data-pinyin="h«éi" data-meaning="sea">Êµ∑</span>
                <span class="char" data-pinyin="zhƒìn" data-meaning="hidden">Áèç</span>
                <span class="char" data-pinyin="c√°ng" data-meaning="treasures">Ëóè</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="l√°n" data-meaning="Lantian">Ëóç</span>
                <span class="char" data-pinyin="ti√°n" data-meaning="field">Áî∞</span>
                <span class="char" data-pinyin="mƒõi" data-meaning="fine">Áæé</span>
                <span class="char" data-pinyin="y√π" data-meaning="jade">Áéâ</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>ÂÖ∂Èò≥ÂàôÊúâÈ´òÂ±±ÈöêÂ§©ÔºåÂπΩÊûóÊ∑±Ë∞∑„ÄÇÈôÜÊµ∑ÁèçËóèÔºåËìùÁî∞ÁæéÁéâ„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Its southern side has lofty mountains hiding the sky, deep forests and profound valleys, land as rich as the sea with hidden treasures and fine jade from Lantian.</p>
                    </div>
                    <div lang="de">
                        <p>Seine s√ºdliche Seite hat hohe Berge, die den Himmel verbergen, tiefe W√§lder und tiefe T√§ler, Land so reich wie das Meer mit verborgenen Sch√§tzen und feinem Jade aus Lantian.</p>
                    </div>
                    <div lang="fr">
                        <p>Son c√¥t√© sud a de hautes montagnes cachant le ciel, des for√™ts profondes et des vall√©es profondes, une terre aussi riche que la mer avec des tr√©sors cach√©s et du jade fin de Lantian.</p>
                    </div>
                    <div lang="ru">
                        <p>–ï–≥–æ —é–∂–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –∏–º–µ–µ—Ç –≤—ã—Å–æ–∫–∏–µ –≥–æ—Ä—ã, —Å–∫—Ä—ã–≤–∞—é—â–∏–µ –Ω–µ–±–æ, –≥–ª—É–±–æ–∫–∏–µ –ª–µ—Å–∞ –∏ –≥–ª—É–±–æ–∫–∏–µ –¥–æ–ª–∏–Ω—ã, –∑–µ–º–ª—é, —Å—Ç–æ–ª—å –∂–µ –±–æ–≥–∞—Ç—É—é, –∫–∞–∫ –º–æ—Ä–µ, —Å–æ —Å–∫—Ä—ã—Ç—ã–º–∏ —Å–æ–∫—Ä–æ–≤–∏—â–∞–º–∏ –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º –Ω–µ—Ñ—Ä–∏—Ç–æ–º –∏–∑ –õ–∞–Ω—å—Ç—è–Ω—å.</p>
                    </div>
                    <div lang="es">
                        <p>Su lado sur tiene altas monta√±as que ocultan el cielo, bosques profundos y valles profundos, tierra tan rica como el mar con tesoros escondidos y jade fino de Lantian.</p>
                    </div>
                    <div lang="it">
                        <p>Il suo lato sud ha alte montagne che nascondono il cielo, foreste profonde e valli profonde, terra ricca come il mare con tesori nascosti e giada fine di Lantian.</p>
                    </div>
                    <div lang="ja">
                        <p>„Åù„ÅÆÈôΩ„ÅØÂâá„Å°Â¥áÂ±±Â§©„ÇíÈö†„Åó„ÄÅÂπΩÊûóÁ©πË∞∑„ÄÇÈô∏Êµ∑„ÅÆÁèçËóè„ÄÅËóçÁî∞„ÅÆÁæéÁéâ„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                „Ää‰∏äÊûóË≥¶„ÄãÊõ∞ÔºöÂ¥áÂ±±Âµ∏Â∑ÉÂ¥îÂµ¨„ÄÇÊ•äÈõÑ„ÄäËúÄÈÉΩË≥¶„ÄãÊõ∞ÔºöËíºÂ±±Èö±Â§©„ÄÇ„ÄäÈüìË©©„ÄãÊõ∞ÔºöÁöéÁöéÁôΩÈßíÔºåÂú®ÂΩºÁ©∫Ë∞∑„ÄÇËñõÂêõÊõ∞ÔºöÁ©πË∞∑ÔºåÊ∑±Ë∞∑‰πü„ÄÇ„ÄäÊº¢Êõ∏„ÄãÔºåÊù±ÊñπÊúîÊõ∞ÔºöÊº¢ËààÔºåÂéª‰∏âÊ≤≥‰πãÂú∞ÔºåÊ≠¢ÁÅû„ÄÅÊªª‰ª•Ë•øÔºåÈÉΩÊ∂á„ÄÅÊ∏≠‰πãÂçóÔºåÂåóË¨ÇÂ§©‰∏ãÈô∏Êµ∑‰πãÂú∞„ÄÇ„ÄäËåÉÂ≠êË®àÁÑ∂„ÄãÊõ∞ÔºöÁéâËã±Âá∫ËóçÁî∞„ÄÇ
            </div>
        </div>

        <!-- Á¨¨‰∏âÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="shƒÅng" data-meaning="Shang">ÂïÜ</span>
                <span class="char" data-pinyin="lu√≤" data-meaning="Luo">Ê¥õ</span>
                <span class="char" data-pinyin="yu√°n" data-meaning="border">Á∑£</span>
                <span class="char" data-pinyin="q√≠" data-meaning="its">ÂÖ∂</span>
                <span class="char" data-pinyin="wƒìi" data-meaning="curves">Èöà</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="h√π" data-meaning="Hu">ÈÑ†</span>
                <span class="char" data-pinyin="d√π" data-meaning="Du">Êùú</span>
                <span class="char" data-pinyin="bƒ´n" data-meaning="lie">Êø±</span>
                <span class="char" data-pinyin="q√≠" data-meaning="its">ÂÖ∂</span>
                <span class="char" data-pinyin="z√∫" data-meaning="foot">Ë∂≥</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yu√°n" data-meaning="springs">Ê∫ê</span>
                <span class="char" data-pinyin="qu√°n" data-meaning="streams">Ê≥â</span>
                <span class="char" data-pinyin="gu√†n" data-meaning="pour">ÁÅå</span>
                <span class="char" data-pinyin="zh√π" data-meaning="forth">Ê≥®</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="bƒìi" data-meaning="ponds">ÈôÇ</span>
                <span class="char" data-pinyin="ch√≠" data-meaning="pools">Ê±†</span>
                <span class="char" data-pinyin="jiƒÅo" data-meaning="interconnect">‰∫§</span>
                <span class="char" data-pinyin="sh«î" data-meaning="connect">Â±¨</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>ÂïÜÊ¥õÁºòÂÖ∂ÈöàÔºåÈÑ†ÊùúÊª®ÂÖ∂Ë∂≥„ÄÇÊ∫êÊ≥âÁÅåÊ≥®ÔºåÈôÇÊ±†‰∫§Â±û„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Shang and Luo border its curves, Hu and Du lie along its foot. Springs and streams pour forth, and ponds and pools interconnect.</p>
                    </div>
                    <div lang="de">
                        <p>Shang und Luo grenzen an seine Kurven, Hu und Du liegen an seinem Fu√ü. Quellen und B√§che str√∂men hervor, und Teiche und Pools sind miteinander verbunden.</p>
                    </div>
                    <div lang="fr">
                        <p>Shang et Luo bordent ses courbes, Hu et Du se trouvent le long de son pied. Les sources et les ruisseaux jaillissent, et les √©tangs et les bassins sont interconnect√©s.</p>
                    </div>
                    <div lang="ru">
                        <p>–®–∞–Ω –∏ –õ–æ –≥—Ä–∞–Ω–∏—á–∞—Ç —Å –µ–≥–æ –∏–∑–≥–∏–±–∞–º–∏, –•—É –∏ –î—É –ª–µ–∂–∞—Ç —É –µ–≥–æ –ø–æ–¥–Ω–æ–∂–∏—è. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ —Ä—É—á—å–∏ –∏–∑–ª–∏–≤–∞—é—Ç—Å—è, –∞ –ø—Ä—É–¥—ã –∏ –±–∞—Å—Å–µ–π–Ω—ã –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω—ã.</p>
                    </div>
                    <div lang="es">
                        <p>Shang y Luo bordean sus curvas, Hu y Du yacen a lo largo de su pie. Los manantiales y arroyos brotan, y los estanques y piscinas est√°n interconectados.</p>
                    </div>
                    <div lang="it">
                        <p>Shang e Luo delimitano le sue curve, Hu e Du giacciono lungo il suo piede. Sorgenti e ruscelli sgorgano, e stagni e piscine sono interconnessi.</p>
                    </div>
                    <div lang="ja">
                        <p>ÂïÜÊ¥õÂÖ∂„ÅÆÈöà„Å´Á∏Å„Çä„ÄÅÈÑ†ÊùúÂÖ∂„ÅÆË∂≥„Å´Êø±„Çã„ÄÇÊ∫êÊ≥âÁÅåÊ≥®„Åó„ÄÅÈôÇÊ±†‰∫§Â±¨„Åô„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                „ÄäÊº¢Êõ∏„ÄãÔºåÂºòËæ≤ÈÉ°ÊúâÂïÜÁ∏£„ÄÅ‰∏äÈõíÁ∏£„ÄÇÊâ∂È¢®ÊúâÈÑ†Á∏£„ÄÅÊùúÈôΩÁ∏£„ÄÇ„ÄäË™™Êñá„ÄãÊõ∞ÔºöÈöàÔºåÊ∞¥Êõ≤‰πüÔºåÊñºÂõûÂàá„ÄÇÂ≠îÂÆâÂúã„ÄäÂ∞ôÊõ∏ÂÇ≥„ÄãÊõ∞ÔºöÊø±ÔºåÊ∂Ø‰πü„ÄÇÂèàÊõ∞ÔºöÊæ§ÈÑ£Êõ∞ÈôÇÔºåÂÅúÊ∞¥Êõ∞Ê±†„ÄÇ
            </div>
        </div>

        <!-- Á¨¨ÂõõÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="zh√∫" data-meaning="bamboo">Á´π</span>
                <span class="char" data-pinyin="l√≠n" data-meaning="groves">Êûó</span>
                <span class="char" data-pinyin="gu«í" data-meaning="fruit">Êûú</span>
                <span class="char" data-pinyin="yu√°n" data-meaning="orchards">Âúí</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="fƒÅng" data-meaning="fragrant">Ëä≥</span>
                <span class="char" data-pinyin="c«éo" data-meaning="grasses">Ëçâ</span>
                <span class="char" data-pinyin="gƒÅn" data-meaning="sweet">Áîò</span>
                <span class="char" data-pinyin="m√π" data-meaning="trees">Êú®</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiƒÅo" data-meaning="suburbs">ÈÉä</span>
                <span class="char" data-pinyin="yƒõ" data-meaning="countryside">Èáé</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="'s">‰πã</span>
                <span class="char" data-pinyin="f√π" data-meaning="wealth">ÂØå</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="h√†o" data-meaning="said">Ëôü</span>
                <span class="char" data-pinyin="w√©i" data-meaning="to">Áà≤</span>
                <span class="char" data-pinyin="j√¨n" data-meaning="rival">Ëøë</span>
                <span class="char" data-pinyin="sh«î" data-meaning="Shu">ËúÄ</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>Á´πÊûóÊûúÂõ≠ÔºåËä≥ËçâÁîòÊú®„ÄÇÈÉäÈáé‰πãÂØåÔºåÂè∑‰∏∫ËøëËúÄ„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Bamboo groves and fruit orchards, fragrant grasses and sweet trees. The wealth of the suburbs and countryside is said to rival that of Shu.</p>
                    </div>
                    <div lang="de">
                        <p>Bambushaine und Obstg√§rten, duftende Gr√§ser und s√º√üe B√§ume. Der Reichtum der Vororte und des Landes soll dem von Shu entsprechen.</p>
                    </div>
                    <div lang="fr">
                        <p>Bambouseraies et vergers, herbes parfum√©es et arbres doux. La richesse des banlieues et de la campagne est dite rivaliser avec celle de Shu.</p>
                    </div>
                    <div lang="ru">
                        <p>–ë–∞–º–±—É–∫–æ–≤—ã–µ —Ä–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç–æ–≤—ã–µ —Å–∞–¥—ã, –¥—É—à–∏—Å—Ç—ã–µ —Ç—Ä–∞–≤—ã –∏ —Å–ª–∞–¥–∫–∏–µ –¥–µ—Ä–µ–≤—å—è. –ë–æ–≥–∞—Ç—Å—Ç–≤–æ –ø—Ä–∏–≥–æ—Ä–æ–¥–æ–≤ –∏ —Å–µ–ª—å—Å–∫–æ–π –º–µ—Å—Ç–Ω–æ—Å—Ç–∏, –∫–∞–∫ –≥–æ–≤–æ—Ä—è—Ç, —Å–æ–ø–µ—Ä–Ω–∏—á–∞–µ—Ç —Å –±–æ–≥–∞—Ç—Å—Ç–≤–æ–º –®—É.</p>
                    </div>
                    <div lang="es">
                        <p>Bamb√∫es y huertos de frutas, hierbas fragantes y √°rboles dulces. La riqueza de los suburbios y el campo se dice que rivaliza con la de Shu.</p>
                    </div>
                    <div lang="it">
                        <p>Bamb√π e frutteti, erbe profumate e alberi dolci. La ricchezza dei sobborghi e della campagna si dice che rivaleggi con quella di Shu.</p>
                    </div>
                    <div lang="ja">
                        <p>Á´πÊûóÊûúÂúí„ÄÅËä≥ËçâÁîòÊú®„ÄÇÈÉäÈáé„ÅÆÂØå„ÄÅÂè∑„Åó„Å¶ËøëËúÄ„Å®Áà≤„Åô„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                Ë®ÄÁß¶Â¢ÉÂØåÈ•íÔºåËàáËúÄÁõ∏È°ûÔºåÊïÖËôüËøëËúÄÁÑâ„ÄÇ„ÄäÊº¢Êõ∏„ÄãÊõ∞ÔºöÁß¶Âú∞ÂçóÊúâÂ∑¥„ÄÅËúÄ„ÄÅÂª£„ÄÅÊº¢Â±±ÊûóÁ´πÊú®Ëî¨È£üÊûúÂØ¶‰πãÈ•í„ÄÇ„ÄäÁàæÈõÖ„ÄãÊõ∞ÔºöÈÇëÂ§ñÊõ∞ÈÉäÔºåÈÉäÂ§ñÊõ∞Èáé„ÄÇ
            </div>
        </div>

        <!-- Á¨¨‰∫îÊÆµËêΩ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="q√≠" data-meaning="its">ÂÖ∂</span>
                <span class="char" data-pinyin="yƒ´n" data-meaning="northern">Èô∞</span>
                <span class="char" data-pinyin="z√©" data-meaning="then">Ââá</span>
                <span class="char" data-pinyin="gu√†n" data-meaning="crowned">ÂÜ†</span>
                <span class="char" data-pinyin="y«ê" data-meaning="by">‰ª•</span>
                <span class="char" data-pinyin="ji«î" data-meaning="nine">‰πù</span>
                <span class="char" data-pinyin="z≈çng" data-meaning="peaks">Âµï</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="p√©i" data-meaning="accompanied">Èô™</span>
                <span class="char" data-pinyin="y«ê" data-meaning="by">‰ª•</span>
                <span class="char" data-pinyin="gƒÅn" data-meaning="sweet">Áîò</span>
                <span class="char" data-pinyin="qu√°n" data-meaning="springs">Ê≥â</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="n«éi" data-meaning="where">‰πÉ</span>
                <span class="char" data-pinyin="y«íu" data-meaning="have">Êúâ</span>
                <span class="char" data-pinyin="l√≠ng" data-meaning="divine">Èùà</span>
                <span class="char" data-pinyin="g≈çng" data-meaning="palaces">ÂÆÆ</span>
                <span class="char" data-pinyin="q«ê" data-meaning="rise">Ëµ∑</span>
                <span class="char" data-pinyin="h≈´" data-meaning="among">‰πé</span>
                <span class="char" data-pinyin="q√≠" data-meaning="them">ÂÖ∂</span>
                <span class="char" data-pinyin="zh≈çng" data-meaning="among">‰∏≠</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="q√≠n" data-meaning="Qin">Áß¶</span>
                <span class="char" data-pinyin="h√†n" data-meaning="Han">Êº¢</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="'s">‰πã</span>
                <span class="char" data-pinyin="su«í" data-meaning="the">ÊâÄ</span>
                <span class="char" data-pinyin="j√≠" data-meaning="ultimate">Ê•µ</span>
                <span class="char" data-pinyin="guƒÅn" data-meaning="sights">ËßÄ</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yuƒÅn" data-meaning="Yuan">Ê∑µ</span>
                <span class="char" data-pinyin="y√∫n" data-meaning="Yun">Èõ≤</span>
                <span class="char" data-pinyin="zhƒ´" data-meaning="'s">‰πã</span>
                <span class="char" data-pinyin="su«í" data-meaning="the">ÊâÄ</span>
                <span class="char" data-pinyin="s√≤ng" data-meaning="praises">È†å</span>
                <span class="char" data-pinyin="t√†n" data-meaning="admiration">Ê≠é</span>
                <span class="char punctuation" data-pinyin="Ôºå" data-meaning="comma">Ôºå</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="y√∫" data-meaning="here">Êñº</span>
                <span class="char" data-pinyin="sh√¨" data-meaning="here">ÊòØ</span>
                <span class="char" data-pinyin="h≈´" data-meaning="particle">‰πé</span>
                <span class="char" data-pinyin="c√∫n" data-meaning="preserved">Â≠ò</span>
                <span class="char" data-pinyin="yƒÅn" data-meaning="here">ÁÑâ</span>
                <span class="char punctuation" data-pinyin="„ÄÇ" data-meaning="period">„ÄÇ</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">üîä</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">üåê</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">üìú</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ÁôΩËØùÊñá</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">Fran√ßais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">–†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">Espa√±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">Êó•Êú¨Ë™û</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>ÂÖ∂Èò¥ÂàôÂÜ†‰ª•‰πùÂµïÔºåÈô™‰ª•ÁîòÊ≥âÔºå‰πÉÊúâÁÅµÂÆ´Ëµ∑‰πéÂÖ∂‰∏≠„ÄÇÁß¶Ê±â‰πãÊâÄÊûÅËßÇÔºåÊ∏ä‰∫ë‰πãÊâÄÈ¢ÇÂèπÔºå‰∫éÊòØ‰πéÂ≠òÁÑâ„ÄÇ</p>
                    </div>
                    <div lang="en">
                        <p>Its northern side is crowned by the nine peaks and accompanied by sweet springs, where divine palaces rise among them. The ultimate sights of the Qin and Han dynasties, the praises and admiration of Yuan and Yun are preserved here.</p>
                    </div>
                    <div lang="de">
                        <p>Seine n√∂rdliche Seite wird von den neun Gipfeln gekr√∂nt und von s√º√üen Quellen begleitet, wo g√∂ttliche Pal√§ste unter ihnen aufsteigen. Die ultimativen Sehensw√ºrdigkeiten der Qin- und Han-Dynastien, die Lobpreisungen und Bewunderung von Yuan und Yun sind hier erhalten.</p>
                    </div>
                    <div lang="fr">
                        <p>Son c√¥t√© nord est couronn√© par les neuf sommets et accompagn√© de sources douces, o√π des palais divins s'√©l√®vent parmi eux. Les vues ultimes des dynasties Qin et Han, les louanges et l'admiration de Yuan et Yun sont pr√©serv√©es ici.</p>
                    </div>
                    <div lang="ru">
                        <p>–ï–≥–æ —Å–µ–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —É–≤–µ–Ω—á–∞–Ω–∞ –¥–µ–≤—è—Ç—å—é –≤–µ—Ä—à–∏–Ω–∞–º–∏ –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Å–ª–∞–¥–∫–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏, –≥–¥–µ —Å—Ä–µ–¥–∏ –Ω–∏—Ö –≤–æ–∑–≤—ã—à–∞—é—Ç—Å—è –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–≤–æ—Ä—Ü—ã. –ó–¥–µ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤–µ–ª–∏—á–∞–π—à–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∏–Ω–∞—Å—Ç–∏–π –¶–∏–Ω—å –∏ –•–∞–Ω—å, –≤–æ—Å—Ö–≤–∞–ª–µ–Ω–∏—è –∏ –≤–æ—Å—Ö–∏—â–µ–Ω–∏–µ –Æ–∞–Ω—å –∏ –Æ–Ω—å.</p>
                    </div>
                    <div lang="es">
                        <p>Su lado norte est√° coronado por los nueve picos y acompa√±ado por dulces manantiales, donde se alzan palacios divinos entre ellos. Las vistas definitivas de las dinast√≠as Qin y Han, los elogios y la admiraci√≥n de Yuan y Yun se conservan aqu√≠.</p>
                    </div>
                    <div lang="it">
                        <p>Il suo lato nord √® coronato dai nove picchi e accompagnato da dolci sorgenti, dove si ergono palazzi divini tra loro. Le viste ultime delle dinastie Qin e Han, le lodi e l'ammirazione di Yuan e Yun sono conservate qui.</p>
                    </div>
                    <div lang="ja">
                        <p>„Åù„ÅÆÈô∞„ÅØÂâá„Å°‰πùÂµï„Çí‰ª•„Å¶ÂÜ†„Å®„Åó„ÄÅÁîòÊ≥â„Çí‰ª•„Å¶Èô™„Å®„Åô„ÄÇ‰πÉ„Å°ÈúäÂÆÆÂÖ∂„ÅÆ‰∏≠„Å´Ëµ∑„ÇãÊúâ„Çä„ÄÇÁß¶Êº¢„ÅÆÊ•µË¶≥„ÄÅÊ∑µÈõ≤„ÅÆÈ†åÊ≠é„ÄÅÊòØ„Å´Êñº„Å¶Â≠ò„Åô„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">È°ØÁ§∫Ë®ªÈáã</button>
            <div class="annotation">
                „ÄäÊº¢Êõ∏„ÄãÔºåË∞∑Âè£Á∏£‰πùÂµïÂ±±Âú®Ë•ø„ÄÇ„ÄäÊà∞ÂúãÁ≠ñ„ÄãÔºåËåÉÈõéË™™Áß¶ÁéãÊõ∞ÔºöÂ§ßÁéã‰πãÂúãÔºåÂåóÊúâÁîòÊ≥âË∞∑Âè£„ÄÇ„ÄäÊº¢Êõ∏„ÄãÔºåÂÖ¨Â≠´ÂçøÊõ∞Ôºö‰ªô‰∫∫Â•ΩÊ®ìÂ±Ö„ÄÇÊñºÊòØ‰∏ä‰ª§ÁîòÊ≥â‰ΩúÂª∂Â£ΩÈ§®„ÄÅÈÄöÂ§©Ëá∫„ÄÇ„ÄäÊº¢ÂÆÆÈóïÁñè„ÄãÊõ∞ÔºöÁîòÊ≥âÊûóÂÖâÂÆÆÔºåÁß¶‰∫å‰∏ñÈÄ†„ÄÇ„ÄäÊº¢Êõ∏„ÄãÊõ∞ÔºöÁéãÂ≠êÊ∑µÁà≤„ÄäÁîòÊ≥âÈ†å„Äã„ÄÇÂèàÊõ∞ÔºöÊ•äÂ≠êÈõ≤Â•è„ÄäÁîòÊ≥âË≥¶„Äã„ÄÇ
            </div>
        </div>
    </div>
    
    <!-- ÂºπÂá∫Á™óÂè£ -->
    <div class="popup" id="charPopup">
        <span class="popup-close" onclick="closePopup()">√ó</span>
        <div class="popup-content">
            <div class="popup-char"></div>
            <div class="popup-pinyin"></div>
            <div class="popup-meaning"></div>
        </div>
    </div>
    
    <script>
        // ÂçïÂ≠óÁÇπÂáª‰∫ã‰ª∂
        document.querySelectorAll('.char').forEach(char => {
            char.addEventListener('click', function() {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `ÊãºÈü≥: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `Èáä‰πâ: ${this.dataset.meaning}`;
                popup.style.display = 'block';
            });
        });
        
        // ÂÖ≥Èó≠ÂºπÂá∫Á™óÂè£
        function closePopup() {
            document.getElementById('charPopup').style.display = 'none';
        }
        
        // ÊÆµËêΩÊúóËØªÂäüËÉΩ
        let currentParagraphUtterances = [];
        let currentReadingParagraph = null;
        
        function speakParagraph(btn) {
            const paragraph = btn.closest('.paragraph');
            
            // Â¶ÇÊûúÊ≠£Âú®ÊúóËØªÂΩìÂâçÊÆµËêΩÔºåÂÅúÊ≠¢
            if (currentReadingParagraph === paragraph && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                btn.textContent = 'üîä';
                currentReadingParagraph = null;
                return;
            }
            
            // Â¶ÇÊûúÊ≠£Âú®ÊúóËØªÂÖ∂‰ªñÊÆµËêΩÔºåÂÖàÂÅúÊ≠¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                document.querySelectorAll('.control-btn').forEach(b => {
                    if (b.textContent === '‚èπ') b.textContent = 'üîä';
                });
            }
            
            // ÂºÄÂßãÊúóËØªÊñ∞ÊÆµËêΩ
            currentReadingParagraph = paragraph;
            btn.textContent = '‚èπ';
            
            const sentences = paragraph.querySelectorAll('.sentence');
            currentParagraphUtterances = [];
            
            // ÂáÜÂ§áÊâÄÊúâÂè•Â≠êËØ≠Èü≥
            sentences.forEach((sentence, index) => {
                let sentenceText = '';
                sentence.querySelectorAll('.char').forEach(char => {
                    if (!char.classList.contains('punctuation') || 
                        ['Ôºå', '„ÄÇ', 'ÔºÅ', 'Ôºü', 'Ôºö', 'Ôºõ'].includes(char.textContent)) {
                        sentenceText += char.textContent;
                    }
                });
                
                const utterance = new SpeechSynthesisUtterance(sentenceText);
                utterance.lang = 'zh-TW';
                utterance.rate = 0.8;
                
                utterance.onstart = function() {
                    resetAllSentenceHighlights();
                    sentence.classList.add('active');
                    
                    // ÊªöÂä®Âà∞ÂΩìÂâçÂè•Â≠ê
                    sentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                };
                
                utterance.onend = function() {
                    if (index === sentences.length - 1) {
                        btn.textContent = 'üîä';
                        currentReadingParagraph = null;
                    }
                };
                
                currentParagraphUtterances.push(utterance);
            });
            
            // ÊåâÈ°∫Â∫èÊúóËØªÊâÄÊúâÂè•Â≠ê
            currentParagraphUtterances.forEach((utterance, index) => {
                // ËÆæÁΩÆÂª∂ËøüÔºå‰ΩøÂè•Â≠ê‰πãÈó¥ÊúâËá™ÁÑ∂ÂÅúÈ°ø
                if (index > 0) {
                    const prevDuration = currentParagraphUtterances[index-1].text.length * 100; // ‰º∞ÁÆóÂâç‰∏ÄÂè•ÊåÅÁª≠Êó∂Èó¥
                    utterance.startTime = Date.now() + prevDuration + 300; // 300msÈ¢ùÂ§ñÂÅúÈ°ø
                }
                window.speechSynthesis.speak(utterance);
            });
        }
        
        function resetAllSentenceHighlights() {
            document.querySelectorAll('.sentence').forEach(s => {
                s.classList.remove('active');
            });
        }
        
        // ÊòæÁ§∫/ÈöêËóèÊ≥®ÈáäÈù¢Êùø
        function toggleAnnotationPanel(btn) {
            const annotation = btn.nextElementSibling;
            if (annotation.style.display === 'block') {
                annotation.style.display = 'none';
                btn.textContent = 'È°ØÁ§∫Ë®ªÈáã';
            } else {
                annotation.style.display = 'block';
                btn.textContent = 'Èö±ËóèË®ªÈáã';
            }
        }
        
        // ÊòæÁ§∫/ÈöêËóèÁøªËØëÈù¢Êùø
        function toggleTranslationPanel(btn) {
            const panel = btn.closest('.paragraph').querySelector('.translation-panel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
            }
        }
        
        // ÂàáÊç¢ÁøªËØëËØ≠Ë®Ä
        function showTranslation(btn, lang) {
            const panel = btn.closest('.translation-panel').querySelector('.translation-content');
            panel.querySelectorAll('div').forEach(div => {
                div.classList.remove('show');
            });
            panel.querySelector(`div[lang="${lang}"]`).classList.add('show');
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            btn.closest('.translation-panel').querySelectorAll('.lang-btn').forEach(b => {
                b.classList.remove('active');
            });
            btn.classList.add('active');
        }
        
        // ÁÇπÂáªÁ©∫ÁôΩÂ§ÑÂÖ≥Èó≠ÂºπÂá∫Á™óÂè£
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('charPopup')) {
                closePopup();
            }
        });
    </script>
</body>
</html>
