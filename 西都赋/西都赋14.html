<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Šå…©éƒ½è³¦ã€‹ç¬¬åå››èŠ‚</title>
    <style>
        body {
            font-family: "SimSun", "å®‹é«”", serif;
            line-height: 2.5;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #3a3226;
            color: #e0d5c8;
        }
        
        h1 {
            color: #d4b483;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #5d4b36;
            padding-bottom: 10px;
        }
        
        .main-text {
            font-size: 24px;
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .char {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .char:hover {
            color: #d4a373;
            text-shadow: 0 0 3px rgba(212, 163, 115, 0.5);
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4a4235;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 300px;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
        }
        
        .popup-content {
            font-size: 16px;
        }
        
        .popup-char {
            font-size: 28px;
            text-align: center;
            margin-bottom: 10px;
            color: #d4b483;
        }
        
        .popup-pinyin, .popup-meaning {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #5d4b36;
        }
        
        .popup-close {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #a89984;
        }
        
        .paragraph {
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            margin: 10px 0;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            border: none;
            border-radius: 50%;
            background: #5d4b36;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: #e0d5c8;
            font-size: 14px;
        }
        
        .control-btn:hover {
            background: #7c6a53;
            transform: scale(1.1);
        }
        
        .annotation {
            font-size: 18px;
            background: #4a4235;
            padding: 12px 15px;
            border-left: 3px solid #a89984;
            margin: 12px 0;
            display: none;
            color: #d4b483;
            border-radius: 0 5px 5px 0;
        }
        
        .toggle-annotation {
            background: #5d4b36;
            border: none;
            color: #e0d5c8;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .toggle-annotation:hover {
            background: #7c6a53;
        }
        
        .translation-panel {
            display: none;
            background: #4a4235;
            border: 1px solid #5d4b36;
            padding: 12px;
            margin-top: 8px;
            border-radius: 5px;
        }
        
        .lang-btn {
            background: #3a3226;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
            padding: 3px 8px;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .lang-btn:hover {
            background: #5d4b36;
        }
        
        .lang-btn.active {
            background: #a89984;
            color: #3a3226;
            font-weight: bold;
        }
        
        .translation-content {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #5d4b36;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .translation-content div {
            display: none;
            padding: 6px 0;
        }
        
        .translation-content div.show {
            display: block;
        }
        
        .punctuation {
            color: #a89984;
        }
        
        .sentence {
            display: inline;
            position: relative;
        }
        
        .sentence.active {
            background-color: rgba(212, 180, 131, 0.3);
            border-radius: 3px;
        }
        
        .plain-chinese {
            font-size: 16px;
            color: #d4b483;
            margin: 10px 0;
            padding: 10px;
            background: #4a4235;
            border-radius: 5px;
            border-left: 3px solid #a89984;
        }
    </style>
</head>
<body>
    <h1>è¥¿éƒ½è³¦</h1>
    
    <div class="main-text">
        <!-- æ–°å¢æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="Ä›r" data-meaning="then">çˆ¾</span>
                <span class="char" data-pinyin="nÇi" data-meaning="then">ä¹ƒ</span>
                <span class="char" data-pinyin="shÃ¨ng" data-meaning="grand">ç››</span>
                <span class="char" data-pinyin="yÃº" data-meaning="entertainment">å¨›</span>
                <span class="char" data-pinyin="yÃ³u" data-meaning="excursion">æ¸¸</span>
                <span class="char" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="zhuÃ ng" data-meaning="magnificent">å£¯</span>
                <span class="char" data-pinyin="guÄn" data-meaning="sight">è§€</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="fÃ¨n" data-meaning="display">å¥®</span>
                <span class="char" data-pinyin="tÃ i" data-meaning="great">æ³°</span>
                <span class="char" data-pinyin="wÇ”" data-meaning="martial">æ­¦</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="at">ä¹</span>
                <span class="char" data-pinyin="shÃ ng" data-meaning="upper">ä¸Š</span>
                <span class="char" data-pinyin="yÃ²u" data-meaning="garden">å›¿</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÄ«n" data-meaning="because">å› </span>
                <span class="char" data-pinyin="zÄ«" data-meaning="this">èŒ²</span>
                <span class="char" data-pinyin="yÇ" data-meaning="to">ä»¥</span>
                <span class="char" data-pinyin="wÄ“i" data-meaning="awe">å¨</span>
                <span class="char" data-pinyin="rÃ³ng" data-meaning="western tribes">æˆ</span>
                <span class="char" data-pinyin="kuÄ" data-meaning="boast">å¤¸</span>
                <span class="char" data-pinyin="dÃ­" data-meaning="northern tribes">ç‹„</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÃ o" data-meaning="display">è€€</span>
                <span class="char" data-pinyin="wÄ“i" data-meaning="might">å¨</span>
                <span class="char" data-pinyin="lÃ­ng" data-meaning="spirit">éˆ</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="jiÇng" data-meaning="practice">è¬›</span>
                <span class="char" data-pinyin="wÇ”" data-meaning="martial">æ­¦</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="affairs">äº‹</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="plain-chinese">
                <p>ç™½è¯æ–‡è§£é‡Šï¼šäºæ˜¯ç››å¤§çš„å¨±ä¹æ¸¸çŒåœºé¢å£®è§‚ï¼Œåœ¨ä¸Šæ—è‹‘ä¸­å±•ç¤ºå¼ºå¤§çš„æ­¦åŠ›ã€‚å€Ÿæ­¤å¨æ…‘è¥¿æˆåŒ—ç‹„ï¼Œç‚«è€€å†›å¨è€Œæ¼”ç»ƒæ­¦äº‹ã€‚</p>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
                <button class="control-btn" onclick="speakPlainChinese(this)">ğŸ—£ï¸</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'el')">Î•Î»Î»Î·Î½Î¹ÎºÎ¬</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'tr')">TÃ¼rkÃ§e</button>
                </div>
                <div class="translation-content">
                    <div lang="en" class="show">
                        <p>Then came the grand spectacle of entertainment and hunting,</p>
                        <p>Displaying mighty martial prowess in the upper gardens.</p>
                        <p>Thereby awing the Rong and boasting to the Di tribes,</p>
                        <p>Flashing military might while practicing martial arts.</p>
                        <button class="lang-btn" onclick="speakTranslation('en', this)">ğŸ”Š</button>
                    </div>
                    <div lang="de">
                        <p>Dann kam das groÃŸartige Schauspiel der Unterhaltung und Jagd,</p>
                        <p>Das mÃ¤chtige Kampfkunst in den oberen GÃ¤rten zur Schau stellte.</p>
                        <p>Dadurch die Rong beeindruckend und den Di-StÃ¤mmen prahlend,</p>
                        <p>MilitÃ¤rische Macht zeigend wÃ¤hrend KampfkÃ¼nste geÃ¼bt wurden.</p>
                        <button class="lang-btn" onclick="speakTranslation('de', this)">ğŸ”Š</button>
                    </div>
                    <div lang="fr">
                        <p>Puis vint le grand spectacle de divertissement et de chasse,</p>
                        <p>Exposant une puissante prouesse martiale dans les jardins supÃ©rieurs.</p>
                        <p>Impressionnant ainsi les Rong et se vantant auprÃ¨s des tribus Di,</p>
                        <p>Ã‰talent la puissance militaire tout en pratiquant les arts martiaux.</p>
                        <button class="lang-btn" onclick="speakTranslation('fr', this)">ğŸ”Š</button>
                    </div>
                    <div lang="ru">
                        <p>Ğ—Ğ°Ñ‚ĞµĞ¼ Ğ¿Ğ¾ÑĞ²Ğ¸Ğ»Ğ¾ÑÑŒ Ğ³Ñ€Ğ°Ğ½Ğ´Ğ¸Ğ¾Ğ·Ğ½Ğ¾Ğµ Ğ·Ñ€ĞµĞ»Ğ¸Ñ‰Ğµ Ñ€Ğ°Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğ¹ Ğ¸ Ğ¾Ñ…Ğ¾Ñ‚Ñ‹,</p>
                        <p>Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒÑÑ‰ĞµĞµ Ğ¼Ğ¾Ğ³ÑƒÑ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ğ±Ğ¾ĞµĞ²Ğ¾Ğµ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑÑ‚Ğ²Ğ¾ Ğ² Ğ²ĞµÑ€Ñ…Ğ½Ğ¸Ñ… ÑĞ°Ğ´Ğ°Ñ….</p>
                        <p>Ğ¢ĞµĞ¼ ÑĞ°Ğ¼Ñ‹Ğ¼ Ğ²Ğ½ÑƒÑˆĞ°Ñ Ñ‚Ñ€ĞµĞ¿ĞµÑ‚ Ğ¶ÑƒĞ½Ğ°Ğ¼ Ğ¸ Ñ…Ğ²Ğ°ÑÑ‚Ğ°ÑÑÑŒ Ğ¿ĞµÑ€ĞµĞ´ Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ğ°Ğ¼Ğ¸ Ğ´Ğ¸,</p>
                        <p>Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒÑ Ğ²Ğ¾ĞµĞ½Ğ½ÑƒÑ Ğ¼Ğ¾Ñ‰ÑŒ, Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºÑƒÑ Ğ±Ğ¾ĞµĞ²Ñ‹Ğµ Ğ¸ÑĞºÑƒÑÑÑ‚Ğ²Ğ°.</p>
                        <button class="lang-btn" onclick="speakTranslation('ru', this)">ğŸ”Š</button>
                    </div>
                    <div lang="es">
                        <p>Luego vino el gran espectÃ¡culo de entretenimiento y caza,</p>
                        <p>Mostrando poderosas habilidades marciales en los jardines superiores.</p>
                        <p>AsÃ­ impresionando a los Rong y presumiendo ante las tribus Di,</p>
                        <p>Mostrando poderÃ­o militar mientras practicaban artes marciales.</p>
                        <button class="lang-btn" onclick="speakTranslation('es', this)">ğŸ”Š</button>
                    </div>
                    <div lang="it">
                        <p>Poi arrivÃ² il grandioso spettacolo di intrattenimento e caccia,</p>
                        <p>Mostrando una potente abilitÃ  marziale nei giardini superiori.</p>
                        <p>Impressionando cosÃ¬ i Rong e vantandosi con le tribÃ¹ Di,</p>
                        <p>Mostrando potenza militare mentre si praticavano arti marziali.</p>
                        <button class="lang-btn" onclick="speakTranslation('it', this)">ğŸ”Š</button>
                    </div>
                    <div lang="el">
                        <p>ÎˆÏ€ÎµÎ¹Ï„Î± Î®ÏÎ¸Îµ Ï„Î¿ Î¼ÎµÎ³Î±Î»ÎµÎ¹ÏÎ´ÎµÏ‚ Î¸Î­Î±Î¼Î± ÏˆÏ…Ï‡Î±Î³Ï‰Î³Î¯Î±Ï‚ ÎºÎ±Î¹ ÎºÏ…Î½Î·Î³Î¹Î¿Ï,</p>
                        <p>Î•Ï€Î¹Î´ÎµÎ¹ÎºÎ½ÏÎ¿Î½Ï„Î±Ï‚ Î¹ÏƒÏ‡Ï…ÏÎ® Ï€Î¿Î»ÎµÎ¼Î¹ÎºÎ® Î¹ÎºÎ±Î½ÏŒÏ„Î·Ï„Î± ÏƒÏ„Î¿Ï…Ï‚ Î±Î½ÏÏ„ÎµÏÎ¿Ï…Ï‚ ÎºÎ®Ï€Î¿Ï…Ï‚.</p>
                        <p>Î•Î½Ï„Ï…Ï€Ï‰ÏƒÎ¹Î¬Î¶Î¿Î½Ï„Î±Ï‚ Î­Ï„ÏƒÎ¹ Ï„Î¿Ï…Ï‚ Î¡Î¿Î½Î³Îº ÎºÎ±Î¹ ÎºÎ±Ï…Ï‡ÏÎ¼ÎµÎ½Î¿Ï‚ ÏƒÏ„Î¹Ï‚ Ï†Ï…Î»Î­Ï‚ ÎÏ„Î¹,</p>
                        <p>Î•Ï€Î¹Î´ÎµÎ¹ÎºÎ½ÏÎ¿Î½Ï„Î±Ï‚ ÏƒÏ„ÏÎ±Ï„Î¹Ï‰Ï„Î¹ÎºÎ® Î¹ÏƒÏ‡Ï ÎµÎ½Ï Î±ÏƒÎºÎ¿ÏÏƒÎ±Î½ Ï€Î¿Î»ÎµÎ¼Î¹ÎºÎ­Ï‚ Ï„Î­Ï‡Î½ÎµÏ‚.</p>
                        <button class="lang-btn" onclick="speakTranslation('el', this)">ğŸ”Š</button>
                    </div>
                    <div lang="tr">
                        <p>Sonra eÄŸlence ve avcÄ±lÄ±ÄŸÄ±n gÃ¶rkemli gÃ¶sterisi geldi,</p>
                        <p>Ãœst bahÃ§elerde gÃ¼Ã§lÃ¼ dÃ¶vÃ¼ÅŸ becerileri sergilendi.</p>
                        <p>BÃ¶ylece Rong'u etkileyerek ve Di kabilelerine Ã¶vÃ¼nerek,</p>
                        <p>DÃ¶vÃ¼ÅŸ sanatlarÄ± uygulanÄ±rken askeri gÃ¼Ã§ gÃ¶sterildi.</p>
                        <button class="lang-btn" onclick="speakTranslation('tr', this)">ğŸ”Š</button>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šå²è¨˜ã€‹ï¼Œç›¸å¦‚ã€Šå°ç¦ªæ›¸ã€‹æ›°ï¼šæ–¯äº‹å¤©ä¸‹ä¹‹å£¯è§€ã€‚ã€Šç¦®è¨˜ã€‹æ›°ï¼šè¥¿æ–¹æ›°æˆï¼ŒåŒ—æ–¹æ›°ç‹„ã€‚åˆæ›°ï¼šå­Ÿå†¬ä¹‹æœˆï¼Œå¤©å­ä¹ƒå‘½å°‡å¸¥è¬›æ­¦ç¿’å°„å¾¡ã€‚ã€Šæ¯›è©©åºã€‹æ›°ï¼šæœ‰å¸¸å¾·ä»¥ç«‹æ­¦äº‹ã€‚
            </div>
        </div>

        <!-- ç¬¬äºŒæ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="mÃ¬ng" data-meaning="order">å‘½</span>
                <span class="char" data-pinyin="jÄ«ng" data-meaning="Jing">èŠ</span>
                <span class="char" data-pinyin="zhÅu" data-meaning="Zhou">å·</span>
                <span class="char" data-pinyin="shÇ" data-meaning="make">ä½¿</span>
                <span class="char" data-pinyin="qÇ" data-meaning="rise">èµ·</span>
                <span class="char" data-pinyin="niÇo" data-meaning="bird">é³¥</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="zhÃ o" data-meaning="summon">è©”</span>
                <span class="char" data-pinyin="liÃ¡ng" data-meaning="Liang">æ¢</span>
                <span class="char" data-pinyin="yÄ›" data-meaning="wild">é‡</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="qÅ«" data-meaning="drive">é©…</span>
                <span class="char" data-pinyin="shÃ²u" data-meaning="beast">ç¸</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="mÃ¡o" data-meaning="fur">æ¯›</span>
                <span class="char" data-pinyin="qÃºn" data-meaning="group">ç¾£</span>
                <span class="char" data-pinyin="nÃ¨i" data-meaning="inside">å…§</span>
                <span class="char" data-pinyin="tiÃ¡n" data-meaning="fill">é—</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="fÄ“i" data-meaning="fly">é£›</span>
                <span class="char" data-pinyin="yÇ”" data-meaning="feather">ç¾½</span>
                <span class="char" data-pinyin="shÃ ng" data-meaning="above">ä¸Š</span>
                <span class="char" data-pinyin="fÃ¹" data-meaning="cover">è¦†</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiÄ“" data-meaning="connect">æ¥</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="wing">ç¿¼</span>
                <span class="char" data-pinyin="cÃ¨" data-meaning="side">å´</span>
                <span class="char" data-pinyin="zÃº" data-meaning="foot">è¶³</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jÃ­" data-meaning="gather">é›†</span>
                <span class="char" data-pinyin="jÃ¬n" data-meaning="forbidden">ç¦</span>
                <span class="char" data-pinyin="lÃ­n" data-meaning="forest">æ—</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="tÃºn" data-meaning="station">å±¯</span>
                <span class="char" data-pinyin="jÃ¹" data-meaning="gather">èš</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="plain-chinese">
                <p>ç™½è¯æ–‡è§£é‡Šï¼šå‘½ä»¤è†å·ä½¿è€…é©±èµ·é£é¸Ÿï¼Œè¯ä»¤æ¢å·éƒŠé‡èµ¶å‡ºé‡å…½ã€‚æ¯›ç¾¤é‡å…½å……æ»¡è‹‘å†…ï¼Œé£ç¦½ç¾½æ—è¦†ç›–ä¸Šç©ºã€‚ç¿…è†€ç›¸æ¥ï¼Œä¾§è¶³è€Œè¡Œï¼Œèšé›†åœ¨ç¦è‹‘æ£®æ—ä¸­ã€‚</p>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
                <button class="control-btn" onclick="speakPlainChinese(this)">ğŸ—£ï¸</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'el')">Î•Î»Î»Î·Î½Î¹ÎºÎ¬</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'tr')">TÃ¼rkÃ§e</button>
                </div>
                <div class="translation-content">
                    <div lang="en" class="show">
                        <p>Ordered the Jingzhou envoy to flush out birds,</p>
                        <p>Summoned the Liang wilderness to drive forth beasts.</p>
                        <p>Furred creatures filled the interior,</p>
                        <p>Feathered flocks covered the skies above.</p>
                        <p>Wings connected, stepping sideways,</p>
                        <p>Gathering and stationing in the forbidden forests.</p>
                        <button class="lang-btn" onclick="speakTranslation('en', this)">ğŸ”Š</button>
                    </div>
                    <div lang="de">
                        <p>Befahl dem Jingzhou-Gesandten, VÃ¶gel aufzuscheuchen,</p>
                        <p>Berief die Liang-Wildnis, um Tiere vorwÃ¤rts zu treiben.</p>
                        <p>Felltiere fÃ¼llten das Innere,</p>
                        <p>Gefiederte Scharen bedeckten den Himmel darÃ¼ber.</p>
                        <p>FlÃ¼gel verbunden, seitwÃ¤rts schreitend,</p>
                        <p>Sammelnd und stationierend in den verbotenen WÃ¤ldern.</p>
                        <button class="lang-btn" onclick="speakTranslation('de', this)">ğŸ”Š</button>
                    </div>
                    <div lang="fr">
                        <p>OrdonnÃ© Ã  l'envoyÃ© de Jingzhou de faire sortir les oiseaux,</p>
                        <p>ConvoquÃ© la nature sauvage de Liang pour chasser les bÃªtes.</p>
                        <p>Les crÃ©atures Ã  fourrure remplissaient l'intÃ©rieur,</p>
                        <p>Les volÃ©es Ã  plumes couvraient le ciel au-dessus.</p>
                        <p>Ailes connectÃ©es, marchant de cÃ´tÃ©,</p>
                        <p>Se rassemblant et stationnant dans les forÃªts interdites.</p>
                        <button class="lang-btn" onclick="speakTranslation('fr', this)">ğŸ”Š</button>
                    </div>
                    <div lang="ru">
                        <p>ĞŸÑ€Ğ¸ĞºĞ°Ğ·Ğ°Ğ» Ñ†Ğ·Ğ¸Ğ½Ñ‡Ğ¶Ğ¾ÑƒÑĞºĞ¾Ğ¼Ñƒ Ğ¿Ğ¾ÑĞ»Ğ°Ğ½Ğ½Ğ¸ĞºÑƒ Ğ²ÑĞ¿ÑƒĞ³Ğ½ÑƒÑ‚ÑŒ Ğ¿Ñ‚Ğ¸Ñ†,</p>
                        <p>ĞŸÑ€Ğ¸Ğ·Ğ²Ğ°Ğ» Ğ»ÑĞ½ÑĞºĞ¸Ğµ Ğ¿ÑƒÑÑ‚Ğ¾ÑˆĞ¸ Ğ²Ñ‹Ğ³Ğ½Ğ°Ñ‚ÑŒ Ğ·Ğ²ĞµÑ€ĞµĞ¹.</p>
                        <p>ĞœĞµÑ…Ğ¾Ğ²Ñ‹Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ½Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ğ»Ğ¸ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸,</p>
                        <p>ĞŸĞµÑ€Ğ½Ğ°Ñ‚Ñ‹Ğµ ÑÑ‚Ğ°Ğ¸ Ğ¿Ğ¾ĞºÑ€Ñ‹Ğ»Ğ¸ Ğ½ĞµĞ±Ğ¾ ÑĞ²ĞµÑ€Ñ…Ñƒ.</p>
                        <p>ĞšÑ€Ñ‹Ğ»ÑŒÑ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ñ‹, ÑˆĞ°Ğ³Ğ°Ñ Ğ±Ğ¾ĞºĞ¾Ğ¼,</p>
                        <p>Ğ¡Ğ¾Ğ±Ğ¸Ñ€Ğ°ÑÑÑŒ Ğ¸ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ÑÑÑŒ Ğ² Ğ·Ğ°Ğ¿Ñ€ĞµÑ‚Ğ½Ñ‹Ñ… Ğ»ĞµÑĞ°Ñ….</p>
                        <button class="lang-btn" onclick="speakTranslation('ru', this)">ğŸ”Š</button>
                    </div>
                    <div lang="es">
                        <p>OrdenÃ³ al enviado de Jingzhou que ahuyentara a los pÃ¡jaros,</p>
                        <p>ConvocÃ³ el desierto de Liang para conducir a las bestias.</p>
                        <p>Criaturas peludas llenaron el interior,</p>
                        <p>Bandadas emplumadas cubrieron los cielos arriba.</p>
                        <p>Alas conectadas, pisando de lado,</p>
                        <p>ReuniÃ©ndose y estacionando en los bosques prohibidos.</p>
                        <button class="lang-btn" onclick="speakTranslation('es', this)">ğŸ”Š</button>
                    </div>
                    <div lang="it">
                        <p>OrdinÃ² all'inviato di Jingzhou di far uscire gli uccelli,</p>
                        <p>ConvocÃ² la natura selvaggia di Liang per spingere avanti le bestie.</p>
                        <p>Creature pelose riempivano l'interno,</p>
                        <p>Stormi piumati coprivano il cielo sopra.</p>
                        <p>Ali connesse, camminando lateralmente,</p>
                        <p>Radunandosi e stazionando nelle foreste proibite.</p>
                        <button class="lang-btn" onclick="speakTranslation('it', this)">ğŸ”Š</button>
                    </div>
                    <div lang="el">
                        <p>Î Î±ÏÎ®Î³Î³ÎµÎ¹Î»Îµ ÏƒÏ„Î¿Î½ Î±Ï€ÎµÏƒÏ„Î±Î»Î¼Î­Î½Î¿ Ï„Î¿Ï… Jingzhou Î½Î± Î´Î¹ÏÎ¾ÎµÎ¹ Ï„Î± Ï€Î¿Ï…Î»Î¹Î¬,</p>
                        <p>Î£Ï…Î³ÎºÎ±Î»Î­ÏƒÏ„Î·ÎºÎµ Î· Liang Î¬Î³ÏÎ¹Î± Ï†ÏÏƒÎ· Î³Î¹Î± Î½Î± Î¿Î´Î·Î³Î®ÏƒÎµÎ¹ Ï„Î± Î¸Î·ÏÎ¯Î±.</p>
                        <p>Î“Î¿Ï…Î½Î±ÏÎ¹ÎºÎ¬ Ï€Î»Î¬ÏƒÎ¼Î±Ï„Î± Î³Î­Î¼Î¹ÏƒÎ±Î½ Ï„Î¿ ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÏŒ,</p>
                        <p>Î¦Ï„ÎµÏÏ‰Ï„Î¬ ÎºÎ¿Ï€Î¬Î´Î¹Î± ÎºÎ¬Î»Ï…ÏˆÎ±Î½ Ï„Î¿Î½ Î¿Ï…ÏÎ±Î½ÏŒ Î±Ï€ÏŒ Ï€Î¬Î½Ï‰.</p>
                        <p>Î¦Ï„ÎµÏÎ¬ ÏƒÏ…Î½Î´ÎµÎ´ÎµÎ¼Î­Î½Î±, Ï€ÎµÏÏ€Î±Ï„ÏÎ½Ï„Î±Ï‚ Ï€Î»Î¬Î³Î¹Î±,</p>
                        <p>Î£Ï…Î³ÎºÎµÎ½Ï„ÏÏÎ½Î¿Î½Ï„Î±Ï‚ ÎºÎ±Î¹ ÏƒÏ„Î±Î¸Î¼ÎµÏÎ¿Î½Ï„Î±Ï‚ ÏƒÏ„Î± Î±Ï€Î±Î³Î¿ÏÎµÏ…Î¼Î­Î½Î± Î´Î¬ÏƒÎ·.</p>
                        <button class="lang-btn" onclick="speakTranslation('el', this)">ğŸ”Š</button>
                    </div>
                    <div lang="tr">
                        <p>Jingzhou elÃ§isine kuÅŸlarÄ± kovalamasÄ±nÄ± emretti,</p>
                        <p>Liang vahÅŸi doÄŸasÄ±nÄ± hayvanlarÄ± sÃ¼rmeye Ã§aÄŸÄ±rdÄ±.</p>
                        <p>TÃ¼ylÃ¼ yaratÄ±klar iÃ§ kÄ±smÄ± doldurdu,</p>
                        <p>TÃ¼ylÃ¼ sÃ¼rÃ¼ler yukarÄ±daki gÃ¶kyÃ¼zÃ¼nÃ¼ kapladÄ±.</p>
                        <p>Kanatlar baÄŸlÄ±, yan yÃ¼rÃ¼yerek,</p>
                        <p>Yasak ormanlarda toplanÄ±p konuÅŸlandÄ±.</p>
                        <button class="lang-btn" onclick="speakTranslation('tr', this)">ğŸ”Š</button>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šå°™æ›¸ã€‹æ›°ï¼šèŠåŠè¡¡é™½æƒŸèŠå·ã€‚åˆæ›°ï¼šè¯é™½é»‘æ°´æƒŸæ¢å·ã€‚ç„¶å‰‡å—æ–¹å¤šç¸ï¼Œæ•…å‘½ä½¿ä¹‹ã€‚æšä¹˜ã€Šå…”åœ’è³¦ã€‹æ›°ï¼šç¿¶ç¿”ç¾£ç†™ï¼Œäº¤é ¸æ¥ç¿¼ã€‚
            </div>
        </div>

        <!-- æ›´å¤šæ®µè½... -->
    </div>
    
    <!-- å¼¹å‡ºçª—å£ -->
    <div class="popup" id="charPopup">
        <span class="popup-close" onclick="closePopup()">Ã—</span>
        <div class="popup-content">
            <div class="popup-char"></div>
            <div class="popup-pinyin"></div>
            <div class="popup-meaning"></div>
        </div>
    </div>
    
    <script>
        // å•å­—ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.char').forEach(char => {
            char.addEventListener('click', function() {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `æ‹¼éŸ³: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `é‡Šä¹‰: ${this.dataset.meaning}`;
                popup.style.display = 'block';
            });
        });
        
        // å…³é—­å¼¹å‡ºçª—å£
        function closePopup() {
            document.getElementById('charPopup').style.display = 'none';
        }
        
        // æ®µè½æœ—è¯»åŠŸèƒ½
        let currentParagraphUtterances = [];
        let currentReadingParagraph = null;
        
        function speakParagraph(btn) {
            const paragraph = btn.closest('.paragraph');
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å½“å‰æ®µè½ï¼Œåœæ­¢
            if (currentReadingParagraph === paragraph && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                btn.textContent = 'ğŸ”Š';
                currentReadingParagraph = null;
                return;
            }
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å…¶ä»–æ®µè½ï¼Œå…ˆåœæ­¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                document.querySelectorAll('.control-btn').forEach(b => {
                    if (b.textContent === 'â¹') b.textContent = 'ğŸ”Š';
                });
            }
            
            // å¼€å§‹æœ—è¯»æ–°æ®µè½
            currentReadingParagraph = paragraph;
            btn.textContent = 'â¹';
            
            const sentences = paragraph.querySelectorAll('.sentence');
            currentParagraphUtterances = [];
            
            // å‡†å¤‡æ‰€æœ‰å¥å­è¯­éŸ³
            sentences.forEach((sentence, index) => {
                let sentenceText = '';
                sentence.querySelectorAll('.char').forEach(char => {
                    if (!char.classList.contains('punctuation') || 
                        ['ï¼Œ', 'ã€‚', 'ï¼', 'ï¼Ÿ', 'ï¼š', 'ï¼›'].includes(char.textContent)) {
                        sentenceText += char.textContent;
                    }
                });
                
                const utterance = new SpeechSynthesisUtterance(sentenceText);
                utterance.lang = 'zh-TW';
                utterance.rate = 0.8;
                
                utterance.onstart = function() {
                    resetAllSentenceHighlights();
                    sentence.classList.add('active');
                    
                    // æ»šåŠ¨åˆ°å½“å‰å¥å­
                    sentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                };
                
                utterance.onend = function() {
                    if (index === sentences.length - 1) {
                        btn.textContent = 'ğŸ”Š';
                        currentReadingParagraph = null;
                    }
                };
                
                currentParagraphUtterances.push(utterance);
            });
            
            // æŒ‰é¡ºåºæœ—è¯»æ‰€æœ‰å¥å­
            currentParagraphUtterances.forEach((utterance, index) => {
                // è®¾ç½®å»¶è¿Ÿï¼Œä½¿å¥å­ä¹‹é—´æœ‰è‡ªç„¶åœé¡¿
                if (index > 0) {
                    const prevDuration = currentParagraphUtterances[index-1].text.length * 100; // ä¼°ç®—å‰ä¸€å¥æŒç»­æ—¶é—´
                    utterance.startTime = Date.now() + prevDuration + 300; // 300msé¢å¤–åœé¡¿
                }
                window.speechSynthesis.speak(utterance);
            });
        }
        
        // æœ—è¯»ç™½è¯æ–‡è§£é‡Š
        function speakPlainChinese(btn) {
            const paragraph = btn.closest('.paragraph');
            const plainText = paragraph.querySelector('.plain-chinese p').textContent;
            
            // å¦‚æœæ­£åœ¨æœ—è¯»ï¼Œåœæ­¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                btn.textContent = 'ğŸ—£ï¸';
                return;
            }
            
            btn.textContent = 'â¹';
            
            const utterance = new SpeechSynthesisUtterance(plainText);
            utterance.lang = 'zh-TW';
            utterance.rate = 0.9;
            
            utterance.onend = function() {
                btn.textContent = 'ğŸ—£ï¸';
            };
            
            window.speechSynthesis.speak(utterance);
        }
        
        // æœ—è¯»ç¿»è¯‘æ–‡æœ¬
        function speakTranslation(lang, btn) {
            const translationDiv = btn.closest('.translation-content').querySelector(`div[lang="${lang}"]`);
            const translationText = Array.from(translationDiv.querySelectorAll('p')).map(p => p.textContent).join(' ');
            
            // å¦‚æœæ­£åœ¨æœ—è¯»ï¼Œåœæ­¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                btn.textContent = 'ğŸ”Š';
                return;
            }
            
            btn.textContent = 'â¹';
            
            const utterance = new SpeechSynthesisUtterance(translationText);
            utterance.lang = getLanguageCode(lang);
            utterance.rate = 0.9;
            
            utterance.onend = function() {
                btn.textContent = 'ğŸ”Š';
            };
            
            window.speechSynthesis.speak(utterance);
        }
        
        // è·å–è¯­è¨€ä»£ç 
        function getLanguageCode(lang) {
            const codes = {
                'en': 'en-US',
                'de': 'de-DE',
                'fr': 'fr-FR',
                'ru': 'ru-RU',
                'es': 'es-ES',
                'it': 'it-IT',
                'el': 'el-GR',
                'tr': 'tr-TR'
            };
            return codes[lang] || 'en-US';
        }
        
        function resetAllSentenceHighlights() {
            document.querySelectorAll('.sentence').forEach(s => {
                s.classList.remove('active');
            });
        }
        
        // æ˜¾ç¤º/éšè—æ³¨é‡Šé¢æ¿
        function toggleAnnotationPanel(btn) {
            const annotation = btn.nextElementSibling;
            if (annotation.style.display === 'block') {
                annotation.style.display = 'none';
                btn.textContent = 'é¡¯ç¤ºè¨»é‡‹';
            } else {
                annotation.style.display = 'block';
                btn.textContent = 'éš±è—è¨»é‡‹';
            }
        }
        
        // æ˜¾ç¤º/éšè—ç¿»è¯‘é¢æ¿
        function toggleTranslationPanel(btn) {
            const panel = btn.closest('.paragraph').querySelector('.translation-panel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
            }
        }
        
        // åˆ‡æ¢ç¿»è¯‘è¯­è¨€
        function showTranslation(btn, lang) {
            const panel = btn.closest('.translation-panel').querySelector('.translation-content');
            panel.querySelectorAll('div').forEach(div => {
                div.classList.remove('show');
            });
            panel.querySelector(`div[lang="${lang}"]`).classList.add('show');
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            btn.closest('.translation-panel').querySelectorAll('.lang-btn').forEach(b => {
                b.classList.remove('active');
            });
            btn.classList.add('active');
        }
        
        // ç‚¹å‡»ç©ºç™½å¤„å…³é—­å¼¹å‡ºçª—å£
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('charPopup')) {
                closePopup();
            }
        });
    </script>
</body>
</html>
