<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Šè¥¿éƒ½èµ‹ã€‹äº¤äº’å¼é–±è®€ç³»çµ±</title>
    <style>
        body {
            font-family: "SimSun", "å®‹é«”", serif;
            line-height: 2.5;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #3a3226;
            color: #e0d5c8;
        }
        
        h1 {
            color: #d4b483;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #5d4b36;
            padding-bottom: 10px;
        }
        
        .main-text {
            font-size: 24px;
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .char {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .char:hover {
            color: #d4a373;
            text-shadow: 0 0 3px rgba(212, 163, 115, 0.5);
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4a4235;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 300px;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
        }
        
        .popup-content {
            font-size: 16px;
        }
        
        .popup-char {
            font-size: 28px;
            text-align: center;
            margin-bottom: 10px;
            color: #d4b483;
        }
        
        .popup-pinyin, .popup-meaning {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #5d4b36;
        }
        
        .popup-close {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #a89984;
        }
        
        .paragraph {
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            margin: 10px 0;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            border: none;
            border-radius: 50%;
            background: #5d4b36;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: #e0d5c8;
            font-size: 14px;
        }
        
        .control-btn:hover {
            background: #7c6a53;
            transform: scale(1.1);
        }
        
        .annotation {
            font-size: 18px;
            background: #4a4235;
            padding: 12px 15px;
            border-left: 3px solid #a89984;
            margin: 12px 0;
            display: none;
            color: #d4b483;
            border-radius: 0 5px 5px 0;
        }
        
        .toggle-annotation {
            background: #5d4b36;
            border: none;
            color: #e0d5c8;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .toggle-annotation:hover {
            background: #7c6a53;
        }
        
        .translation-panel {
            display: none;
            background: #4a4235;
            border: 1px solid #5d4b36;
            padding: 12px;
            margin-top: 8px;
            border-radius: 5px;
        }
        
        .lang-btn {
            background: #3a3226;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
            padding: 3px 8px;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .lang-btn:hover {
            background: #5d4b36;
        }
        
        .lang-btn.active {
            background: #a89984;
            color: #3a3226;
            font-weight: bold;
        }
        
        .translation-content {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #5d4b36;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .translation-content div {
            display: none;
            padding: 6px 0;
        }
        
        .translation-content div.show {
            display: block;
        }
        
        .punctuation {
            color: #a89984;
        }
        
        .sentence {
            display: inline;
            position: relative;
        }
        
        .sentence.active {
            background-color: rgba(212, 180, 131, 0.3);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>è¥¿éƒ½è³¦</h1>
    
    <div class="main-text">
        <!-- ç¬¬ä¸€æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="tÃº" data-meaning="plan">åœ–</span>
                <span class="char" data-pinyin="huÃ¡ng" data-meaning="imperial">çš‡</span>
                <span class="char" data-pinyin="jÄ«" data-meaning="foundation">åŸº</span>
                <span class="char" data-pinyin="yÃº" data-meaning="for">æ–¼</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="hundred">å„„</span>
                <span class="char" data-pinyin="zÇi" data-meaning="million years">è¼‰</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="dÃ¹" data-meaning="measure">åº¦</span>
                <span class="char" data-pinyin="hÃ³ng" data-meaning="grand">å®</span>
                <span class="char" data-pinyin="guÄ«" data-meaning="plan">è¦</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="dÃ " data-meaning="great">å¤§</span>
                <span class="char" data-pinyin="qÇ" data-meaning="rise">èµ·</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>è§„åˆ’å¸ç‹åŸºä¸šäºäº¿ä¸‡å¹´ï¼Œåº¦é‡å®ä¼Ÿè§„æ¨¡è€Œå¤§å…´åœŸæœ¨ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Planning the imperial foundation for hundreds of millions of years, measuring the grand plan and undertaking massive construction.</p>
                    </div>
                    <div lang="de">
                        <p>Die kaiserliche Grundlage fÃ¼r Hunderte von Millionen Jahren planen, den groÃŸen Plan messen und massive Bauarbeiten unternehmen.</p>
                    </div>
                    <div lang="fr">
                        <p>Planifier les fondations impÃ©riales pour des centaines de millions d'annÃ©es, mesurer le grand plan et entreprendre des constructions massives.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ÑĞºĞ¾Ğ³Ğ¾ Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ğ° Ğ½Ğ° ÑĞ¾Ñ‚Ğ½Ğ¸ Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½Ğ¾Ğ² Ğ»ĞµÑ‚, Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ğ½Ğ´Ğ¸Ğ¾Ğ·Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ»Ğ°Ğ½Ğ° Ğ¸ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ½Ğ¾Ğµ ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾.</p>
                    </div>
                    <div lang="es">
                        <p>Planificar los cimientos imperiales durante cientos de millones de aÃ±os, medir el gran plan y emprender construcciones masivas.</p>
                    </div>
                    <div lang="it">
                        <p>Pianificare le fondamenta imperiali per centinaia di milioni di anni, misurare il grande piano e intraprendere costruzioni massicce.</p>
                    </div>
                    <div lang="ja">
                        <p>å¸ç‹ã®åŸºæ¥­ã‚’å„„ä¸‡å¹´ã«ã‚ãŸã£ã¦è¨ˆç”»ã—ã€å£®å¤§ãªè¦æ¨¡ã‚’æ¸¬ã‚Šå¤§è¦æ¨¡ãªåœŸæœ¨å·¥äº‹ã‚’è¡Œã†ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šé•·æ¥Šè³¦ã€‹æ›°ï¼šè¦å„„è¼‰ã€‚å­”å®‰åœ‹ã€Šå°™æ›¸å‚³ã€‹æ›°ï¼šåè¬æ›°å„„ã€‚ã€Šçˆ¾é›…ã€‹æ›°ï¼šè¼‰ï¼Œå¹´ä¹Ÿã€‚ã€Šå°é›…ã€‹æ›°ï¼šç¾Œï¼Œç™¼è²ä¹Ÿã€‚åº¦èˆ‡ç¾Œï¼Œå¤å­—é€šã€‚åº¦æˆ–çˆ²æ…¶ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬äºŒæ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="zhÃ o" data-meaning="begin">è‚‡</span>
                <span class="char" data-pinyin="zÃ¬" data-meaning="from">è‡ª</span>
                <span class="char" data-pinyin="gÄo" data-meaning="Gaozu">é«˜</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="zhÅng" data-meaning="end">çµ‚</span>
                <span class="char" data-pinyin="pÃ­ng" data-meaning="at Ping emperors">å¹³</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="shÃ¬" data-meaning="generations">ä¸–</span>
                <span class="char" data-pinyin="zÄ“ng" data-meaning="added">å¢</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="ornaments">é£¾</span>
                <span class="char" data-pinyin="yÇ" data-meaning="to">ä»¥</span>
                <span class="char" data-pinyin="chÃ³ng" data-meaning="heighten">å´‡</span>
                <span class="char" data-pinyin="lÃ¬" data-meaning="splendor">éº—</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="lÃ¬" data-meaning="pass">æ­·</span>
                <span class="char" data-pinyin="shÃ­" data-meaning="through">å</span>
                <span class="char" data-pinyin="Ã¨r" data-meaning="twelve">äºŒ</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="reigns">ä¹‹</span>
                <span class="char" data-pinyin="yÃ¡n" data-meaning="extended">å»¶</span>
                <span class="char" data-pinyin="zuÃ²" data-meaning="blessings">ç¥š</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="gÃ¹" data-meaning="therefore">æ•…</span>
                <span class="char" data-pinyin="qiÃ³ng" data-meaning="reached">çª®</span>
                <span class="char" data-pinyin="tÃ i" data-meaning="peak">æ³°</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="of">è€Œ</span>
                <span class="char" data-pinyin="jÃ­" data-meaning="luxury">æ¥µ</span>
                <span class="char" data-pinyin="chÇ" data-meaning="extravagance">ä¾ˆ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>ä»é«˜ç¥–å¼€å§‹åˆ°å¹³å¸ç»“æŸï¼Œä¸–ä»£å¢é¥°è€Œå´‡å°šåä¸½ã€‚</p>
                        <p>å†ç»åäºŒæœçš„å»¶ç»­å›½è¿ï¼Œæ‰€ä»¥ç©·å°½å¥¢åè‡³æã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Beginning from Emperor Gaozu and ending at Emperor Ping, successive generations added ornaments to heighten splendor.</p>
                        <p>Passing through twelve reigns of extended blessings, it therefore reached the peak of luxury and extravagance.</p>
                    </div>
                    <div lang="de">
                        <p>Beginnend mit Kaiser Gaozu und endend mit Kaiser Ping fÃ¼gten aufeinanderfolgende Generationen Verzierungen hinzu, um die Pracht zu steigern.</p>
                        <p>Nach zwÃ¶lf Regierungszeiten mit verlÃ¤ngerten Segnungen erreichte es daher den HÃ¶hepunkt von Luxus und Extravaganz.</p>
                    </div>
                    <div lang="fr">
                        <p>Commencant par l'empereur Gaozu et se terminant par l'empereur Ping, les gÃ©nÃ©rations successives ont ajoutÃ© des ornements pour rehausser la splendeur.</p>
                        <p>AprÃ¨s douze rÃ¨gnes de bÃ©nÃ©dictions prolongÃ©es, il a donc atteint le sommet du luxe et de l'extravagance.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞĞ°Ñ‡Ğ¸Ğ½Ğ°Ñ Ñ Ğ¸Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ğ“Ğ°Ğ¾Ğ·Ñƒ Ğ¸ Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°Ñ Ğ¸Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ ĞŸĞ¸Ğ½, Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾ĞºĞ¾Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞ»Ğ¸ ÑƒĞºÑ€Ğ°ÑˆĞµĞ½Ğ¸Ñ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒÑĞ¸Ğ»Ğ¸Ñ‚ÑŒ Ğ²ĞµĞ»Ğ¸ĞºĞ¾Ğ»ĞµĞ¿Ğ¸Ğµ.</p>
                        <p>ĞŸÑ€Ğ¾Ğ¹Ğ´Ñ Ğ´Ğ²ĞµĞ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹ Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ±Ğ»Ğ°Ğ³Ğ¾ÑĞ»Ğ¾Ğ²ĞµĞ½Ğ¸ÑĞ¼Ğ¸, Ğ¾Ğ½ Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ³ Ğ¿Ğ¸ĞºĞ° Ñ€Ğ¾ÑĞºĞ¾ÑˆĞ¸ Ğ¸ ÑĞºÑÑ‚Ñ€Ğ°Ğ²Ğ°Ğ³Ğ°Ğ½Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸.</p>
                    </div>
                    <div lang="es">
                        <p>Comenzando con el emperador Gaozu y terminando con el emperador Ping, las generaciones sucesivas agregaron adornos para realzar el esplendor.</p>
                        <p>Pasando por doce reinados de bendiciones extendidas, por lo tanto alcanzÃ³ el pico de lujo y extravagancia.</p>
                    </div>
                    <div lang="it">
                        <p>Iniziando dall'imperatore Gaozu e terminando con l'imperatore Ping, le generazioni successive hanno aggiunto ornamenti per aumentare lo splendore.</p>
                        <p>Attraversando dodici regni di benedizioni prolungate, ha quindi raggiunto il picco del lusso e dell'extravaganza.</p>
                    </div>
                    <div lang="ja">
                        <p>é«˜ç¥–ã‹ã‚‰å¹³å¸ã«è‡³ã‚‹ã¾ã§ã€ä¸–ä»£ã‚’é‡ã­ã¦è£…é£¾ã‚’åŠ ãˆè¯éº—ã•ã‚’å°Šã‚“ã ã€‚</p>
                        <p>åäºŒæœã«ã‚ãŸã‚‹å›½é‹ã®ç¶™ç¶šã«ã‚ˆã‚Šã€è´…æ²¢ã®æ¥µã¿ã«é”ã—ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                é«˜ï¼Œé«˜ç¥–ã€‚ã€Šæ¼¢æ›¸ã€‹ï¼Œå¼µæ™æ›°ï¼šçˆ²åŠŸæœ€é«˜ï¼Œè€Œçˆ²æ¼¢å¸å¤ªç¥–ï¼Œæ•…ç‰¹èµ·åç„‰ã€‚ã€Šæ¼¢æ›¸ã€‹ï¼Œå­å¹³çš‡å¸ï¼Œå…ƒå¸åº¶å­«ã€‚è€æ‚…æ›°ï¼šè«±è¡ã€‚æ¼¢è‡ªé«˜ç¥–è‡³äºå­å¹³ï¼Œå‡¡åäºŒå¸ä¹Ÿã€‚ã€Šåœ‹èªã€‹æ›°ï¼šå¤©åœ°ä¹‹æ‰€ç¥šã€‚è³ˆé€µæ›°ï¼šç¥šï¼Œç¥¿ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬ä¸‰æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="jiÃ n" data-meaning="built">å»º</span>
                <span class="char" data-pinyin="jÄ«n" data-meaning="golden">é‡‘</span>
                <span class="char" data-pinyin="chÃ©ng" data-meaning="city">åŸ</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="of">è€Œ</span>
                <span class="char" data-pinyin="wÃ n" data-meaning="ten">è¬</span>
                <span class="char" data-pinyin="zhÃ¬" data-meaning="thousand zhÃ¬">é›‰</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÄ" data-meaning="gaped">å‘€</span>
                <span class="char" data-pinyin="zhÅu" data-meaning="surrounding">å‘¨</span>
                <span class="char" data-pinyin="chÃ­" data-meaning="moat">æ± </span>
                <span class="char" data-pinyin="Ã©r" data-meaning="into">è€Œ</span>
                <span class="char" data-pinyin="chÃ©ng" data-meaning="deep">æˆ</span>
                <span class="char" data-pinyin="yuÄn" data-meaning="abyss">æ·µ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å»ºé€ åšå›ºçš„ä¸‡é›‰åŸå¢™ï¼Œæ·±å¹¿çš„æŠ¤åŸæ²³å½¢æˆæ·±æ¸Šã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Built golden city walls of ten thousand zhÃ¬, with gaping surrounding moat forming a deep abyss.</p>
                    </div>
                    <div lang="de">
                        <p>Goldene Stadtmauern von zehntausend ZhÃ¬ gebaut, mit klaffendem umgebendem Wassergraben, der einen tiefen Abgrund bildet.</p>
                    </div>
                    <div lang="fr">
                        <p>Construit des murs de ville dorÃ©s de dix mille zhÃ¬, avec des douves environnantes bÃ©antes formant un abÃ®me profond.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ñ‹Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¸Ğµ ÑÑ‚ĞµĞ½Ñ‹ Ğ¸Ğ· Ğ´ĞµÑÑÑ‚Ğ¸ Ñ‚Ñ‹ÑÑÑ‡ Ñ‡Ğ¶Ğ¸, Ñ Ğ·Ğ¸ÑÑÑ‰Ğ¸Ğ¼ Ğ¾ĞºÑ€ÑƒĞ¶Ğ°ÑÑ‰Ğ¸Ğ¼ Ñ€Ğ²Ğ¾Ğ¼, Ğ¾Ğ±Ñ€Ğ°Ğ·ÑƒÑÑ‰Ğ¸Ğ¼ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºÑƒÑ Ğ¿Ñ€Ğ¾Ğ¿Ğ°ÑÑ‚ÑŒ.</p>
                    </div>
                    <div lang="es">
                        <p>ConstruyÃ³ muros de ciudad dorados de diez mil zhÃ¬, con un foso circundante que forma un abismo profundo.</p>
                    </div>
                    <div lang="it">
                        <p>Costruite mura cittadine dorate di diecimila zhÃ¬, con un fossato circostante spalancato che forma un abisso profondo.</p>
                    </div>
                    <div lang="ja">
                        <p>å …å›ºãªä¸‡é›‰ã®åŸå£ã‚’ç¯‰ãã€æ·±ãåºƒã„å €ãŒæ·µã‚’å½¢æˆã—ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šé¹½éµè«–ã€‹æ›°ï¼šç§¦å››å¡ä»¥çˆ²å›ºï¼Œé‡‘åŸåƒé‡Œã€‚é„­ç„ã€Šå‘¨ç¦®æ³¨ã€‹æ›°ï¼šé›‰ï¼Œé•·ä¸‰ä¸ˆï¼Œé«˜ä¸€ä¸ˆã€‚ã€Šå­—æ—ã€‹æ›°ï¼šå‘€ï¼Œå¤§ç©ºè²Œï¼Œç«å®¶åˆ‡ã€‚ã€Šèªªæ–‡ã€‹æ›°ï¼šåŸæœ‰æ°´æ›°æ± ã€‚
            </div>
        </div>

        <!-- ç¬¬å››æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="pÄ«" data-meaning="opened">æŠ«</span>
                <span class="char" data-pinyin="sÄn" data-meaning="three">ä¸‰</span>
                <span class="char" data-pinyin="tiÃ¡o" data-meaning="broad">æ¢</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="avenues">ä¹‹</span>
                <span class="char" data-pinyin="guÇng" data-meaning="broad">å»£</span>
                <span class="char" data-pinyin="lÃ¹" data-meaning="roads">è·¯</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="lÃ¬" data-meaning="established">ç«‹</span>
                <span class="char" data-pinyin="shÃ­" data-meaning="twelve">å</span>
                <span class="char" data-pinyin="Ã¨r" data-meaning="city">äºŒ</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="gates">ä¹‹</span>
                <span class="char" data-pinyin="tÅng" data-meaning="city">é€š</span>
                <span class="char" data-pinyin="mÃ©n" data-meaning="gates">é–€</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å¼€è¾Ÿä¸‰æ¡å®½é˜”çš„å¤§è·¯ï¼Œè®¾ç«‹åäºŒåº§åŸé—¨ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Opened three broad avenues and established twelve city gates.</p>
                    </div>
                    <div lang="de">
                        <p>ErÃ¶ffnete drei breite Alleen und errichtete zwÃ¶lf Stadttore.</p>
                    </div>
                    <div lang="fr">
                        <p>Ouvert trois grandes avenues et Ã©tabli douze portes de la ville.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹ Ñ‚Ñ€Ğ¸ ÑˆĞ¸Ñ€Ğ¾ĞºĞ¸Ñ… Ğ¿Ñ€Ğ¾ÑĞ¿ĞµĞºÑ‚Ğ° Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ğ´Ğ²ĞµĞ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ³Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¸Ñ… Ğ²Ğ¾Ñ€Ğ¾Ñ‚.</p>
                    </div>
                    <div lang="es">
                        <p>AbriÃ³ tres amplias avenidas y estableciÃ³ doce puertas de la ciudad.</p>
                    </div>
                    <div lang="it">
                        <p>Aperto tre ampi viali e stabilito dodici porte della cittÃ .</p>
                    </div>
                    <div lang="ja">
                        <p>ä¸‰æ¡ã®åºƒã„å¤§é€šã‚Šã‚’é–‹ãã€åäºŒã®åŸé–€ã‚’è¨­ã‘ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šå‘¨ç¦®ã€‹æ›°ï¼šåŒ äººç‡Ÿåœ‹ï¼Œæ–¹ä¹é‡Œï¼Œæ—ä¸‰é–€ã€‚é„­ç„æ›°ï¼šå¤©å­åäºŒé–€ï¼Œé€šåäºŒå­ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬äº”æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="nÃ¨i" data-meaning="inside">å…§</span>
                <span class="char" data-pinyin="zÃ©" data-meaning="then">å‰‡</span>
                <span class="char" data-pinyin="jiÄ“" data-meaning="streets">è¡—</span>
                <span class="char" data-pinyin="qÃº" data-meaning="and alleys">è¡¢</span>
                <span class="char" data-pinyin="dÃ²ng" data-meaning="thoroughly">æ´</span>
                <span class="char" data-pinyin="dÃ¡" data-meaning="connected">é”</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="lÇ˜" data-meaning="neighborhood">é–­</span>
                <span class="char" data-pinyin="yÃ¡n" data-meaning="gates">é–»</span>
                <span class="char" data-pinyin="qiÄ›" data-meaning="nearly">ä¸”</span>
                <span class="char" data-pinyin="qiÄn" data-meaning="thousand">åƒ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jiÇ”" data-meaning="nine">ä¹</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="markets">å¸‚</span>
                <span class="char" data-pinyin="kÄi" data-meaning="opened">é–‹</span>
                <span class="char" data-pinyin="chÇng" data-meaning="markets">å ´</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="huÃ²" data-meaning="goods">è²¨</span>
                <span class="char" data-pinyin="biÃ©" data-meaning="separated">åˆ¥</span>
                <span class="char" data-pinyin="suÃ¬" data-meaning="by aisles">éš§</span>
                <span class="char" data-pinyin="fÄ“n" data-meaning="separated">åˆ†</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="rÃ©n" data-meaning="people">äºº</span>
                <span class="char" data-pinyin="bÃ¹" data-meaning="could not">ä¸</span>
                <span class="char" data-pinyin="dÃ©" data-meaning="look">å¾—</span>
                <span class="char" data-pinyin="gÃ¹" data-meaning="back">é¡§</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="chÄ“" data-meaning="carts">è»Š</span>
                <span class="char" data-pinyin="bÃ¹" data-meaning="could not">ä¸</span>
                <span class="char" data-pinyin="dÃ©" data-meaning="turn">å¾—</span>
                <span class="char" data-pinyin="xuÃ¡n" data-meaning="around">æ—‹</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="tiÃ¡n" data-meaning="filled">é—</span>
                <span class="char" data-pinyin="chÃ©ng" data-meaning="city">åŸ</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="overflowed">æº¢</span>
                <span class="char" data-pinyin="guÅ" data-meaning="outer walls">éƒ­</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="pÃ¡ng" data-meaning="spread">æ—</span>
                <span class="char" data-pinyin="liÃº" data-meaning="to">æµ</span>
                <span class="char" data-pinyin="bÇi" data-meaning="hundreds">ç™¾</span>
                <span class="char" data-pinyin="chÃ¡n" data-meaning="of shops">å»›</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="hÃ³ng" data-meaning="red">ç´…</span>
                <span class="char" data-pinyin="chÃ©n" data-meaning="dust">å¡µ</span>
                <span class="char" data-pinyin="sÃ¬" data-meaning="from all">å››</span>
                <span class="char" data-pinyin="hÃ©" data-meaning="sides">åˆ</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÄn" data-meaning="smoke">ç…™</span>
                <span class="char" data-pinyin="yÃºn" data-meaning="and clouds">é›²</span>
                <span class="char" data-pinyin="xiÄng" data-meaning="interconnected">ç›¸</span>
                <span class="char" data-pinyin="liÃ¡n" data-meaning="interconnected">é€£</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>åŸå†…åˆ™è¡—é“å››é€šå…«è¾¾ï¼Œé‡Œå··é—¨æˆ·è¿‘åƒã€‚</p>
                        <p>ä¹å¸‚å¼€åœºï¼Œè´§ç‰©åˆ†åˆ—ã€‚</p>
                        <p>äººä¸èƒ½å›é¡¾ï¼Œè½¦ä¸èƒ½å›è½¬ã€‚</p>
                        <p>å……æ»¡åŸå†…æº¢å‡ºåŸå¤–ï¼Œæ—æµè‡³ç™¾å»›ã€‚</p>
                        <p>çº¢å°˜å››åˆï¼ŒçƒŸäº‘ç›¸è¿ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Inside, streets and alleys were thoroughly connected, with nearly a thousand neighborhood gates.</p>
                        <p>Nine markets opened, with goods separated by aisles.</p>
                        <p>People could not look back, carts could not turn around.</p>
                        <p>The city was filled to overflowing beyond the outer walls, spreading to hundreds of shops.</p>
                        <p>Red dust enveloped from all sides, smoke and clouds interconnected.</p>
                    </div>
                    <div lang="de">
                        <p>Innen waren StraÃŸen und Gassen grÃ¼ndlich verbunden, mit fast tausend Nachbarschaftstoren.</p>
                        <p>Neun MÃ¤rkte Ã¶ffneten, mit Waren, die nach GÃ¤ngen getrennt waren.</p>
                        <p>Die Leute konnten nicht zurÃ¼ckschauen, die Wagen konnten sich nicht umdrehen.</p>
                        <p>Die Stadt war bis Ã¼ber die AuÃŸenmauern hinaus gefÃ¼llt und breitete sich auf Hunderte von GeschÃ¤ften aus.</p>
                        <p>Roter Staub umhÃ¼llte von allen Seiten, Rauch und Wolken waren miteinander verbunden.</p>
                    </div>
                    <div lang="fr">
                        <p>Ã€ l'intÃ©rieur, les rues et ruelles Ã©taient parfaitement connectÃ©es, avec prÃ¨s de mille portes de quartier.</p>
                        <p>Neuf marchÃ©s ont ouvert, avec des marchandises sÃ©parÃ©es par des allÃ©es.</p>
                        <p>Les gens ne pouvaient pas regarder en arriÃ¨re, les chariots ne pouvaient pas faire demi-tour.</p>
                        <p>La ville Ã©tait remplie Ã  dÃ©border au-delÃ  des murs extÃ©rieurs, s'Ã©tendant Ã  des centaines de magasins.</p>
                        <p>La poussiÃ¨re rouge enveloppait de tous les cÃ´tÃ©s, la fumÃ©e et les nuages Ã©taient interconnectÃ©s.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ’Ğ½ÑƒÑ‚Ñ€Ğ¸ ÑƒĞ»Ğ¸Ñ†Ñ‹ Ğ¸ Ğ¿ĞµÑ€ĞµÑƒĞ»ĞºĞ¸ Ğ±Ñ‹Ğ»Ğ¸ Ñ‚Ñ‰Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ñ‹, Ñ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸ Ñ‚Ñ‹ÑÑÑ‡ÑŒÑ Ğ²Ğ¾Ñ€Ğ¾Ñ‚ ÑĞ¾ÑĞµĞ´ÑÑ‚Ğ²Ğ°.</p>
                        <p>ĞÑ‚ĞºÑ€Ñ‹Ğ»Ğ¸ÑÑŒ Ğ´ĞµĞ²ÑÑ‚ÑŒ Ñ€Ñ‹Ğ½ĞºĞ¾Ğ², Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°Ğ¼Ğ¸, Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ°Ğ¼.</p>
                        <p>Ğ›ÑĞ´Ğ¸ Ğ½Ğµ Ğ¼Ğ¾Ğ³Ğ»Ğ¸ Ğ¾Ğ³Ğ»ÑĞ½ÑƒÑ‚ÑŒÑÑ Ğ½Ğ°Ğ·Ğ°Ğ´, Ñ‚ĞµĞ»ĞµĞ³Ğ¸ Ğ½Ğµ Ğ¼Ğ¾Ğ³Ğ»Ğ¸ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ.</p>
                        <p>Ğ“Ğ¾Ñ€Ğ¾Ğ´ Ğ±Ñ‹Ğ» Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½ Ğ´Ğ¾ Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ·Ğ° Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼Ğ¸ ÑÑ‚ĞµĞ½Ğ°Ğ¼Ğ¸, Ñ€Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑÑÑŒ Ğ½Ğ° ÑĞ¾Ñ‚Ğ½Ğ¸ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ¾Ğ².</p>
                        <p>ĞšÑ€Ğ°ÑĞ½Ğ°Ñ Ğ¿Ñ‹Ğ»ÑŒ Ğ¾ĞºÑƒÑ‚Ñ‹Ğ²Ğ°Ğ»Ğ° ÑĞ¾ Ğ²ÑĞµÑ… ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½, Ğ´Ñ‹Ğ¼ Ğ¸ Ğ¾Ğ±Ğ»Ğ°ĞºĞ° Ğ±Ñ‹Ğ»Ğ¸ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾ÑĞ²ÑĞ·Ğ°Ğ½Ñ‹.</p>
                    </div>
                    <div lang="es">
                        <p>En el interior, las calles y callejones estaban completamente conectados, con casi mil puertas de vecindario.</p>
                        <p>Nueve mercados abrieron, con productos separados por pasillos.</p>
                        <p>La gente no podÃ­a mirar hacia atrÃ¡s, los carros no podÃ­an dar la vuelta.</p>
                        <p>La ciudad estaba llena hasta desbordarse mÃ¡s allÃ¡ de las murallas exteriores, extendiÃ©ndose a cientos de tiendas.</p>
                        <p>El polvo rojo envolvÃ­a desde todos los lados, el humo y las nubes estaban interconectados.</p>
                    </div>
                    <div lang="it">
                        <p>All'interno, strade e vicoli erano perfettamente collegati, con quasi mille porte del quartiere.</p>
                        <p>Nove mercati aperti, con merci separate da corsie.</p>
                        <p>Le persone non potevano guardare indietro, i carri non potevano girare.</p>
                        <p>La cittÃ  era piena fino a traboccare oltre le mura esterne, diffondendosi a centinaia di negozi.</p>
                        <p>La polvere rossa avvolgeva da tutti i lati, fumo e nuvole interconnessi.</p>
                    </div>
                    <div lang="ja">
                        <p>åŸå†…ã§ã¯é€šã‚ŠãŒå››æ–¹å…«æ–¹ã«é€šã˜ã€é‡Œé–€ãŒåƒè¿‘ãã‚ã£ãŸã€‚</p>
                        <p>ä¹ã¤ã®å¸‚å ´ãŒé–‹ã‹ã‚Œã€å•†å“ãŒåˆ—ã‚’ãªã—ã¦ã„ãŸã€‚</p>
                        <p>äººã¯æŒ¯ã‚Šè¿”ã‚‹ã“ã¨ã‚‚ã§ããšã€è»Šã¯å›è»¢ã™ã‚‹ã“ã¨ã‚‚ã§ããªã‹ã£ãŸã€‚</p>
                        <p>åŸå†…ã¯æº€ã¡æº¢ã‚Œã€åŸå£ã‚’è¶Šãˆã¦ç™¾è»’ã®åº—ã«åºƒãŒã£ãŸã€‚</p>
                        <p>èµ¤ã„å¡µãŒå››æ–¹ã‹ã‚‰ç«‹ã¡è¾¼ã‚ã€ç…™ã¨é›²ãŒã¤ãªãŒã£ã¦ã„ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šèªªæ–‡ã€‹æ›°ï¼šè¡—ï¼Œå››é€šä¹Ÿï¼ŒéŸ³ä½³ã€‚ã€Šçˆ¾é›…ã€‹æ›°ï¼šå››é”è¬‚ä¹‹è¡¢ã€‚ã€Šå­—æ—ã€‹æ›°ï¼šé–­ï¼Œé‡Œé–€ä¹Ÿã€‚é–»ï¼Œé‡Œä¸­é–€ä¹Ÿã€‚ã€Šæ¼¢å®®é—•ç–ã€‹æ›°ï¼šé•·å®‰ç«‹ä¹å¸‚ï¼Œå…¶å…­å¸‚åœ¨é“è¥¿ï¼Œä¸‰å¸‚åœ¨é“æ±ã€‚é„­ç„ã€Šå‘¨ç¦®æ³¨ã€‹æ›°ï¼šé‡‘ç‰æ›°è²¨ã€‚è–›ç¶œã€Šè¥¿äº¬è³¦æ³¨ã€‹æ›°ï¼šéš§ï¼Œåˆ—è‚†é“ä¹Ÿï¼ŒéŸ³é‚ã€‚é„­ç„ã€Šç¦®è¨˜æ³¨ã€‹æ›°ï¼šå¡«ï¼Œæ»¿ä¹Ÿã€‚å¡«èˆ‡é—åŒï¼Œå¾’å …åˆ‡ã€‚åˆæ›°ï¼šå»›ï¼Œå¸‚ç‰©é‚¸èˆä¹Ÿï¼Œé™¤é€£åˆ‡ã€‚æé™µè©©æ›°ï¼šç´…å¡µå¡å¤©åœ°ï¼Œç™½æ—¥ä½•å†¥å†¥ã€‚
            </div>
        </div>

        <!-- ç¬¬å…­æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="yÃº" data-meaning="thus">æ–¼</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="this">æ˜¯</span>
                <span class="char" data-pinyin="jÃ¬" data-meaning="both">æ—£</span>
                <span class="char" data-pinyin="shÃ¹" data-meaning="populous">åº¶</span>
                <span class="char" data-pinyin="qiÄ›" data-meaning="and">ä¸”</span>
                <span class="char" data-pinyin="fÃ¹" data-meaning="wealthy">å¯Œ</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÃº" data-meaning="joy">å¨›</span>
                <span class="char" data-pinyin="lÃ¨" data-meaning="and pleasure">æ¨‚</span>
                <span class="char" data-pinyin="wÃº" data-meaning="without">ç„¡</span>
                <span class="char" data-pinyin="jiÄng" data-meaning="bounds">ç–†</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="dÅ«" data-meaning="capital">éƒ½</span>
                <span class="char" data-pinyin="rÃ©n" data-meaning="men">äºº</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="and">å£«</span>
                <span class="char" data-pinyin="nÇš" data-meaning="women">å¥³</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="shÅ«" data-meaning="greatly">æ®Š</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="differed">ç•°</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="from">ä¹</span>
                <span class="char" data-pinyin="wÇ”" data-meaning="five">äº”</span>
                <span class="char" data-pinyin="fÄng" data-meaning="regions">æ–¹</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÃ³u" data-meaning="wandering">éŠ</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="scholars">å£«</span>
                <span class="char" data-pinyin="nÇ" data-meaning="compared">æ“¬</span>
                <span class="char" data-pinyin="yÃº" data-meaning="to">æ–¼</span>
                <span class="char" data-pinyin="gÅng" data-meaning="dukes">å…¬</span>
                <span class="char" data-pinyin="hÃ³u" data-meaning="and marquises">ä¾¯</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="liÃ¨" data-meaning="market">åˆ—</span>
                <span class="char" data-pinyin="sÃ¬" data-meaning="stalls">è‚†</span>
                <span class="char" data-pinyin="chÇ" data-meaning="more">ä¾ˆ</span>
                <span class="char" data-pinyin="yÃº" data-meaning="than">æ–¼</span>
                <span class="char" data-pinyin="jÄ«" data-meaning="noble">å§¬</span>
                <span class="char" data-pinyin="jiÄng" data-meaning="ladies">å§œ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>äºæ˜¯æ—¢äººå£ä¼—å¤šåˆå¯Œè£•ï¼Œå¨±ä¹æ— ç–†ç•Œã€‚</p>
                        <p>éƒ½åŸçš„ç”·å¥³ï¼Œä¸äº”æ–¹ä¹‹äººå¤§ä¸ç›¸åŒã€‚</p>
                        <p>æ¸¸å£«å¯æ¯”å…¬ä¾¯ï¼Œåº—é“ºæ¯”è´µæ—å¦‡å¥³è¿˜è¦å¥¢åã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Thus both populous and wealthy, with joy and pleasure without bounds.</p>
                        <p>The men and women of the capital greatly differed from those of the five regions.</p>
                        <p>Wandering scholars compared to dukes and marquises, market stalls more luxurious than noble ladies.</p>
                    </div>
                    <div lang="de">
                        <p>Sowohl bevÃ¶lkerungsreich als auch wohlhabend, mit Freude und VergnÃ¼gen ohne Grenzen.</p>
                        <p>Die MÃ¤nner und Frauen der Hauptstadt unterschieden sich stark von denen der fÃ¼nf Regionen.</p>
                        <p>Wandernde Gelehrte verglichen mit HerzÃ¶gen und Marquisen, MarktstÃ¤nde luxuriÃ¶ser als adlige Damen.</p>
                    </div>
                    <div lang="fr">
                        <p>Ainsi Ã  la fois peuplÃ©e et riche, avec joie et plaisir sans limites.</p>
                        <p>Les hommes et femmes de la capitale diffÃ©raient grandement de ceux des cinq rÃ©gions.</p>
                        <p>Les Ã©rudits itinÃ©rants comparÃ©s aux ducs et marquis, les Ã©tals du marchÃ© plus luxueux que les dames nobles.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ¢Ğ°ĞºĞ¸Ğ¼ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ¼, Ğ¸ Ğ³ÑƒÑÑ‚Ğ¾Ğ½Ğ°ÑĞµĞ»ĞµĞ½Ğ½Ñ‹Ğ¹, Ğ¸ Ğ±Ğ¾Ğ³Ğ°Ñ‚Ñ‹Ğ¹, Ñ Ñ€Ğ°Ğ´Ğ¾ÑÑ‚ÑŒÑ Ğ¸ ÑƒĞ´Ğ¾Ğ²Ğ¾Ğ»ÑŒÑÑ‚Ğ²Ğ¸ĞµĞ¼ Ğ±ĞµĞ· Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†.</p>
                        <p>ĞœÑƒĞ¶Ñ‡Ğ¸Ğ½Ñ‹ Ğ¸ Ğ¶ĞµĞ½Ñ‰Ğ¸Ğ½Ñ‹ ÑÑ‚Ğ¾Ğ»Ğ¸Ñ†Ñ‹ ÑĞ¸Ğ»ÑŒĞ½Ğ¾ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°Ğ»Ğ¸ÑÑŒ Ğ¾Ñ‚ Ñ‚ĞµÑ…, ĞºÑ‚Ğ¾ Ğ¸Ğ· Ğ¿ÑÑ‚Ğ¸ Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½Ğ¾Ğ².</p>
                        <p>Ğ¡Ñ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ ÑƒÑ‡ĞµĞ½Ñ‹Ğµ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ğ»Ğ¸ÑÑŒ Ñ Ğ³ĞµÑ€Ñ†Ğ¾Ğ³Ğ°Ğ¼Ğ¸ Ğ¸ Ğ¼Ğ°Ñ€ĞºĞ¸Ğ·Ğ°Ğ¼Ğ¸, Ñ€Ñ‹Ğ½Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ°Ğ²ĞºĞ¸ Ğ±Ğ¾Ğ»ĞµĞµ Ñ€Ğ¾ÑĞºĞ¾ÑˆĞ½Ñ‹Ğµ, Ñ‡ĞµĞ¼ Ğ±Ğ»Ğ°Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ¼Ñ‹.</p>
                    </div>
                    <div lang="es">
                        <p>AsÃ­, tanto poblada como rica, con alegrÃ­a y placer sin lÃ­mites.</p>
                        <p>Los hombres y mujeres de la capital diferÃ­an mucho de los de las cinco regiones.</p>
                        <p>Eruditos itinerantes comparados con duques y marqueses, puestos de mercado mÃ¡s lujosos que damas nobles.</p>
                    </div>
                    <div lang="it">
                        <p>CosÃ¬ sia popolosa che ricca, con gioia e piacere senza confini.</p>
                        <p>Gli uomini e le donne della capitale differivano notevolmente da quelli delle cinque regioni.</p>
                        <p>Studiosi erranti paragonati a duchi e marchesi, bancarelle del mercato piÃ¹ lussuose di nobili signore.</p>
                    </div>
                    <div lang="ja">
                        <p>ã“ã†ã—ã¦äººå£ã‚‚å¤šãè±Šã‹ã«ãªã‚Šã€æ¥½ã—ã¿ã¯é™ã‚Šãªã‹ã£ãŸã€‚</p>
                        <p>éƒ½ã®ç”·å¥³ã¯ã€äº”æ–¹ã®äººã€…ã¨ã¯å¤§ã„ã«ç•°ãªã£ã¦ã„ãŸã€‚</p>
                        <p>éŠå­¦ã®å£«ã¯å…¬ä¾¯ã«æ¯”ã¹ã‚‰ã‚Œã€å¸‚å ´ã®åº—ã¯è²´æ—ã®å¥³æ€§ã‚ˆã‚Šã‚‚è±ªè¯ã§ã‚ã£ãŸã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šè«–èªã€‹æ›°ï¼šå­é©è¡ï¼Œå†‰æœ‰åƒ•ã€‚å­æ›°ï¼šåº¶çŸ£å“‰ï¼å†‰æœ‰æ›°ï¼šæ—£åº¶çŸ£ï¼Œåˆä½•åŠ ç„‰ï¼Ÿæ›°ï¼šå¯Œä¹‹ã€‚ã€Šæ¯›è©©ã€‹æ›°ï¼šæƒ æˆ‘ç„¡ç–†ã€‚åˆæ›°ï¼šå½¼éƒ½äººå£«ã€‚åˆæ›°ï¼šå½¼å›å­å¥³ã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šç§¦åœ°äº”æ–¹é›œéŒ¯ï¼Œå¯Œäººå‰‡å•†è³ˆçˆ²åˆ©ã€‚åˆ—ä¾¯è²´äººï¼Œè»Šæœåƒ­ä¸Šã€‚è¡†åº¶å€£æ•ˆï¼Œç¾ä¸ç›¸åŠã€‚é„­ç„ã€Šå‘¨ç¦®æ³¨ã€‹æ›°ï¼šè‚†ï¼Œå¸‚ä¸­é™³ç‰©è™•ä¹Ÿã€‚ã€Šå·¦æ°å‚³ã€‹ï¼Œå›å­æ›°ï¼šè©©äº‘ï¼šé›–æœ‰å§¬å§œï¼Œç„¡æ£„æ†”æ‚´ä¹Ÿã€‚
            </div>
        </div>
    </div>
    
    <!-- å¼¹å‡ºçª—å£ -->
    <div class="popup" id="charPopup">
        <span class="popup-close" onclick="closePopup()">Ã—</span>
        <div class="popup-content">
            <div class="popup-char"></div>
            <div class="popup-pinyin"></div>
            <div class="popup-meaning"></div>
        </div>
    </div>
    
    <script>
        // å•å­—ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.char').forEach(char => {
            char.addEventListener('click', function() {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `æ‹¼éŸ³: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `é‡Šä¹‰: ${this.dataset.meaning}`;
                popup.style.display = 'block';
            });
        });
        
        // å…³é—­å¼¹å‡ºçª—å£
        function closePopup() {
            document.getElementById('charPopup').style.display = 'none';
        }
        
        // æ®µè½æœ—è¯»åŠŸèƒ½
        let currentParagraphUtterances = [];
        let currentReadingParagraph = null;
        
        function speakParagraph(btn) {
            const paragraph = btn.closest('.paragraph');
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å½“å‰æ®µè½ï¼Œåœæ­¢
            if (currentReadingParagraph === paragraph && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                btn.textContent = 'ğŸ”Š';
                currentReadingParagraph = null;
                return;
            }
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å…¶ä»–æ®µè½ï¼Œå…ˆåœæ­¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                document.querySelectorAll('.control-btn').forEach(b => {
                    if (b.textContent === 'â¹') b.textContent = 'ğŸ”Š';
                });
            }
            
            // å¼€å§‹æœ—è¯»æ–°æ®µè½
            currentReadingParagraph = paragraph;
            btn.textContent = 'â¹';
            
            const sentences = paragraph.querySelectorAll('.sentence');
            currentParagraphUtterances = [];
            
            // å‡†å¤‡æ‰€æœ‰å¥å­è¯­éŸ³
            sentences.forEach((sentence, index) => {
                let sentenceText = '';
                sentence.querySelectorAll('.char').forEach(char => {
                    if (!char.classList.contains('punctuation') || 
                        ['ï¼Œ', 'ã€‚', 'ï¼', 'ï¼Ÿ', 'ï¼š', 'ï¼›'].includes(char.textContent)) {
                        sentenceText += char.textContent;
                    }
                });
                
                const utterance = new SpeechSynthesisUtterance(sentenceText);
                utterance.lang = 'zh-TW';
                utterance.rate = 0.8;
                
                utterance.onstart = function() {
                    resetAllSentenceHighlights();
                    sentence.classList.add('active');
                    
                    // æ»šåŠ¨åˆ°å½“å‰å¥å­
                    sentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                };
                
                utterance.onend = function() {
                    if (index === sentences.length - 1) {
                        btn.textContent = 'ğŸ”Š';
                        currentReadingParagraph = null;
                    }
                };
                
                currentParagraphUtterances.push(utterance);
            });
            
            // æŒ‰é¡ºåºæœ—è¯»æ‰€æœ‰å¥å­
            currentParagraphUtterances.forEach((utterance, index) => {
                // è®¾ç½®å»¶è¿Ÿï¼Œä½¿å¥å­ä¹‹é—´æœ‰è‡ªç„¶åœé¡¿
                if (index > 0) {
                    const prevDuration = currentParagraphUtterances[index-1].text.length * 100; // ä¼°ç®—å‰ä¸€å¥æŒç»­æ—¶é—´
                    utterance.startTime = Date.now() + prevDuration + 300; // 300msé¢å¤–åœé¡¿
                }
                window.speechSynthesis.speak(utterance);
            });
        }
        
        function resetAllSentenceHighlights() {
            document.querySelectorAll('.sentence').forEach(s => {
                s.classList.remove('active');
            });
        }
        
        // æ˜¾ç¤º/éšè—æ³¨é‡Šé¢æ¿
        function toggleAnnotationPanel(btn) {
            const annotation = btn.nextElementSibling;
            if (annotation.style.display === 'block') {
                annotation.style.display = 'none';
                btn.textContent = 'é¡¯ç¤ºè¨»é‡‹';
            } else {
                annotation.style.display = 'block';
                btn.textContent = 'éš±è—è¨»é‡‹';
            }
        }
        
        // æ˜¾ç¤º/éšè—ç¿»è¯‘é¢æ¿
        function toggleTranslationPanel(btn) {
            const panel = btn.closest('.paragraph').querySelector('.translation-panel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
            }
        }
        
        // åˆ‡æ¢ç¿»è¯‘è¯­è¨€
        function showTranslation(btn, lang) {
            const panel = btn.closest('.translation-panel').querySelector('.translation-content');
            panel.querySelectorAll('div').forEach(div => {
                div.classList.remove('show');
            });
            panel.querySelector(`div[lang="${lang}"]`).classList.add('show');
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            btn.closest('.translation-panel').querySelectorAll('.lang-btn').forEach(b => {
                b.classList.remove('active');
            });
            btn.classList.add('active');
        }
        
        // ç‚¹å‡»ç©ºç™½å¤„å…³é—­å¼¹å‡ºçª—å£
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('charPopup')) {
                closePopup();
            }
        });
    </script>
</body>
</html>