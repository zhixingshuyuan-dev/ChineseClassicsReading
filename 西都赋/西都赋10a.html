<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Šå…©éƒ½è³¦ã€‹ç¬¬åèŠ‚</title>
    <style>
        /* ä¿ç•™æ‰€æœ‰åŸæœ‰æ ·å¼ä¸å˜ */
        body {
            font-family: "SimSun", "å®‹é«”", serif;
            line-height: 2.5;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #3a3226;
            color: #e0d5c8;
        }
        
        h1 {
            color: #d4b483;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #5d4b36;
            padding-bottom: 10px;
        }
        
        .main-text {
            font-size: 24px;
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .char {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .char:hover {
            color: #d4a373;
            text-shadow: 0 0 3px rgba(212, 163, 115, 0.5);
        }
        
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #4a4235;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 300px;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
        }
        
        .popup-content {
            font-size: 16px;
        }
        
        .popup-char {
            font-size: 28px;
            text-align: center;
            margin-bottom: 10px;
            color: #d4b483;
        }
        
        .popup-pinyin, .popup-meaning {
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px dashed #5d4b36;
        }
        
        .popup-close {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #a89984;
        }
        
        .paragraph {
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            margin: 10px 0;
        }
        
        .control-btn {
            width: 32px;
            height: 32px;
            margin-right: 6px;
            border: none;
            border-radius: 50%;
            background: #5d4b36;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: #e0d5c8;
            font-size: 14px;
        }
        
        .control-btn:hover {
            background: #7c6a53;
            transform: scale(1.1);
        }
        
        .annotation {
            font-size: 18px;
            background: #4a4235;
            padding: 12px 15px;
            border-left: 3px solid #a89984;
            margin: 12px 0;
            display: none;
            color: #d4b483;
            border-radius: 0 5px 5px 0;
        }
        
        .toggle-annotation {
            background: #5d4b36;
            border: none;
            color: #e0d5c8;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .toggle-annotation:hover {
            background: #7c6a53;
        }
        
        .translation-panel {
            display: none;
            background: #4a4235;
            border: 1px solid #5d4b36;
            padding: 12px;
            margin-top: 8px;
            border-radius: 5px;
        }
        
        .lang-btn {
            background: #3a3226;
            border: 1px solid #5d4b36;
            color: #e0d5c8;
            padding: 3px 8px;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .lang-btn:hover {
            background: #5d4b36;
        }
        
        .lang-btn.active {
            background: #a89984;
            color: #3a3226;
            font-weight: bold;
        }
        
        .translation-content {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #5d4b36;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .translation-content div {
            display: none;
            padding: 6px 0;
        }
        
        .translation-content div.show {
            display: block;
        }
        
        .punctuation {
            color: #a89984;
        }
        
        .sentence {
            display: inline;
            position: relative;
        }
        
        .sentence.active {
            background-color: rgba(212, 180, 131, 0.3);
            border-radius: 3px;
        }
        
        .annotation-char {
            cursor: help;
            border-bottom: 1px dotted #a89984;
        }
        
        .annotation-char:hover {
            color: #d4a373;
        }
    </style>
</head>
<body>
    <h1>è¥¿éƒ½è³¦</h1>
    
    <div class="main-text">
        <!-- ç¬¬ä¸€æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="yÃº" data-meaning="thus">æ–¼</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="this">æ˜¯</span>
                <span class="char" data-pinyin="xuÃ¡n" data-meaning="black">ç„</span>
                <span class="char" data-pinyin="chÃ­" data-meaning="steps">å¢€</span>
                <span class="char" data-pinyin="kÃ²u" data-meaning="inlaid">é‡¦</span>
                <span class="char" data-pinyin="qÃ¬" data-meaning="paving">ç Œ</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÃ¹" data-meaning="jade">ç‰</span>
                <span class="char" data-pinyin="jiÄ“" data-meaning="steps">éš</span>
                <span class="char" data-pinyin="tÃ³ng" data-meaning="red">å½¤</span>
                <span class="char" data-pinyin="tÃ­ng" data-meaning="courtyard">åº­</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="ruÇn" data-meaning="fine">ç¢</span>
                <span class="char" data-pinyin="qÄ«" data-meaning="stone">ç£©</span>
                <span class="char" data-pinyin="cÇi" data-meaning="colorful">ç¶µ</span>
                <span class="char" data-pinyin="zhÃ¬" data-meaning="dense">ç·»</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="lÃ­n" data-meaning="beautiful">ç³</span>
                <span class="char" data-pinyin="mÃ­n" data-meaning="jade">ç‰</span>
                <span class="char" data-pinyin="qÄ«ng" data-meaning="blue">é’</span>
                <span class="char" data-pinyin="yÃ­ng" data-meaning="glow">ç†’</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="shÄn" data-meaning="coral">çŠ</span>
                <span class="char" data-pinyin="hÃº" data-meaning="coral">ç‘š</span>
                <span class="char" data-pinyin="bÃ¬" data-meaning="green">ç¢§</span>
                <span class="char" data-pinyin="shÃ¹" data-meaning="trees">æ¨¹</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="zhÅu" data-meaning="around">å‘¨</span>
                <span class="char" data-pinyin="Ä" data-meaning="eaves">é˜¿</span>
                <span class="char" data-pinyin="Ã©r" data-meaning="and">è€Œ</span>
                <span class="char" data-pinyin="shÄ“ng" data-meaning="grow">ç”Ÿ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>äºæ˜¯æœ‰é»‘è‰²å°é˜¶é•¶åµŒé‡‘ç‰ï¼Œç‰é˜¶æœ±åº­ã€‚å½©çŸ³ç»†å¯†ï¼Œç¾ç‰é’å…‰ã€‚çŠç‘šç¢§æ ‘ï¼Œç¯ç»•æªä¸‹è€Œç”Ÿã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Thus there are black steps inlaid with gold and jade, jade steps and red courtyard. Colorful stones are dense, beautiful jade emits blue light. Coral and green trees grow around the eaves.</p>
                    </div>
                    <div lang="de">
                        <p>Daher gibt es schwarze Stufen, die mit Gold und Jade eingelegt sind, Jadestufen und einen roten Hof. Bunte Steine sind dicht, schÃ¶ner Jade strahlt blaues Licht aus. Korallen und grÃ¼ne BÃ¤ume wachsen um die Traufe.</p>
                    </div>
                    <div lang="fr">
                        <p>Ainsi, il y a des marches noires incrustÃ©es d'or et de jade, des marches de jade et une cour rouge. Les pierres colorÃ©es sont denses, le beau jade Ã©met une lumiÃ¨re bleue. Les coraux et les arbres verts poussent autour des avant-toits.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ¢Ğ°ĞºĞ¸Ğ¼ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ¼, ĞµÑÑ‚ÑŒ Ñ‡ĞµÑ€Ğ½Ñ‹Ğµ ÑÑ‚ÑƒĞ¿ĞµĞ½Ğ¸, Ğ¸Ğ½ĞºÑ€ÑƒÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ğ¾Ğ¼ Ğ¸ Ğ½ĞµÑ„Ñ€Ğ¸Ñ‚Ğ¾Ğ¼, Ğ½ĞµÑ„Ñ€Ğ¸Ñ‚Ğ¾Ğ²Ñ‹Ğµ ÑÑ‚ÑƒĞ¿ĞµĞ½Ğ¸ Ğ¸ ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹ Ğ´Ğ²Ğ¾Ñ€. ĞšÑ€Ğ°ÑĞ¾Ñ‡Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼Ğ½Ğ¸ Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ñ‹Ğµ, ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğ¹ Ğ½ĞµÑ„Ñ€Ğ¸Ñ‚ Ğ¸Ğ·Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ³Ğ¾Ğ»ÑƒĞ±Ğ¾Ğ¹ ÑĞ²ĞµÑ‚. ĞšĞ¾Ñ€Ğ°Ğ»Ğ»Ñ‹ Ğ¸ Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğµ Ğ´ĞµÑ€ĞµĞ²ÑŒÑ Ñ€Ğ°ÑÑ‚ÑƒÑ‚ Ğ²Ğ¾ĞºÑ€ÑƒĞ³ ĞºĞ°Ñ€Ğ½Ğ¸Ğ·Ğ¾Ğ².</p>
                    </div>
                    <div lang="es">
                        <p>AsÃ­ hay escalones negros incrustados con oro y jade, escalones de jade y un patio rojo. Las piedras coloridas son densas, el hermoso jade emite luz azul. Los corales y los Ã¡rboles verdes crecen alrededor de los aleros.</p>
                    </div>
                    <div lang="it">
                        <p>CosÃ¬ ci sono gradini neri intarsiati d'oro e giada, gradini di giada e un cortile rosso. Le pietre colorate sono dense, la bella giada emana luce blu. Coralli e alberi verdi crescono intorno alle grondaie.</p>
                    </div>
                    <div lang="ja">
                        <p>ã“ã“ã«ç„å¢€é‡¦ç Œã€ç‰éšå½¤åº­ã‚ã‚Šã€‚ç¢ç£©ç¶µç·»ã€ç³ç‰é’ç†’ãŸã‚Šã€‚çŠç‘šç¢§æ¨¹ã€å‘¨é˜¿ã«ã—ã¦ç”Ÿãšã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šæ˜­é™½èˆä¸­åº­å½¤æœ±ï¼Œè€Œæ®¿ä¸Šé«¹æ¼†ï¼Œç Œçš†éŠ…æ²“ï¼Œé»ƒé‡‘å¡—ï¼Œç™½ç‰éšã€‚ç„¶å¢€ä»¥é«¹æ¼†ï¼Œæ•…æ›°<span class="annotation-char" data-pinyin="xuÃ¡n" data-meaning="black">ç„</span>ä¹Ÿã€‚<span class="annotation-char" data-pinyin="kÃ²u" data-meaning="inlaid">é‡¦</span>ç Œï¼Œä»¥ç‰é£¾ç Œä¹Ÿã€‚ã€Šèªªæ–‡ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="kÃ²u" data-meaning="gold ornament">é‡¦</span>ï¼Œé‡‘é£¾å™¨ï¼Œæ¯å¾Œåˆ‡ã€‚ã€Šå»£é›…ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="qÃ¬" data-meaning="steps">ç Œ</span>ï¼Œ<span class="annotation-char" data-pinyin="shÃ¬" data-meaning="threshold">æˆº</span>ä¹Ÿï¼Œä¸”è¨ˆåˆ‡ã€‚ã€Šèªªæ–‡ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="ruÇn" data-meaning="stone">ç¢</span>ï¼ŒçŸ³ä¹‹æ¬¡ç‰ä¹Ÿï¼Œå¦‚å…—åˆ‡ã€‚<span class="annotation-char" data-pinyin="qÄ«" data-meaning="stone">ç£©</span>ï¼Œ<span class="annotation-char" data-pinyin="ruÇn" data-meaning="stone">ç¢</span>é¡ä¹Ÿï¼ŒéŸ³æˆšã€‚é„­ç„ã€Šç¦®è¨˜æ³¨ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="zhÃ¬" data-meaning="dense">ç·»</span>ï¼Œå¯†ä¹Ÿã€‚éƒ­ç’ã€Šä¸Šæ—è³¦æ³¨ã€‹ï¼š<span class="annotation-char" data-pinyin="mÃ­n" data-meaning="jade">ç‰</span>ï¼Œç‰åä¹Ÿã€‚å¼µæ–ã€Šä¸Šæ—è³¦æ³¨ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="mÃ­n" data-meaning="jade">ç‰</span>ï¼ŒçŸ³æ¬¡ç‰ä¹Ÿã€‚ã€Šå»£é›…ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="shÄn hÃº" data-meaning="coral">çŠç‘š</span>ï¼Œç ä¹Ÿã€‚ã€Šæ·®å—å­ã€‹æ›°ï¼šå´‘å´™å±±æœ‰<span class="annotation-char" data-pinyin="bÃ¬" data-meaning="green">ç¢§</span>æ¨¹åœ¨å…¶åŒ—ã€‚é«˜èª˜æ›°ï¼š<span class="annotation-char" data-pinyin="bÃ¬" data-meaning="green">ç¢§</span>ï¼Œé’çŸ³ä¹Ÿã€‚ã€ŠéŸ“è©©ã€‹æ›°ï¼šæ›²æ™¯æ›°<span class="annotation-char" data-pinyin="Ä" data-meaning="eaves">é˜¿</span>ã€‚ç„¶æ­¤<span class="annotation-char" data-pinyin="Ä" data-meaning="eaves">é˜¿</span>ï¼Œåº­ä¹‹æ›²ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬äºŒæ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="hÃ³ng" data-meaning="red">ç´…</span>
                <span class="char" data-pinyin="luÃ³" data-meaning="silk">ç¾…</span>
                <span class="char" data-pinyin="sÃ " data-meaning="fluttering">ä¬ƒ</span>
                <span class="char" data-pinyin="lÃ­" data-meaning="long">çºš</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="qÇ" data-meaning="patterned">ç¶º</span>
                <span class="char" data-pinyin="zÇ”" data-meaning="silk">çµ„</span>
                <span class="char" data-pinyin="bÄ«n" data-meaning="colorful">ç¹½</span>
                <span class="char" data-pinyin="fÄ“n" data-meaning="abundant">ç´›</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="jÄ«ng" data-meaning="brilliant">ç²¾</span>
                <span class="char" data-pinyin="yÃ o" data-meaning="shine">æ›œ</span>
                <span class="char" data-pinyin="huÃ¡" data-meaning="magnificent">è¯</span>
                <span class="char" data-pinyin="zhÃº" data-meaning="candles">ç‡­</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="fÇ”" data-meaning="bow">ä¿¯</span>
                <span class="char" data-pinyin="yÇng" data-meaning="raise">ä»°</span>
                <span class="char" data-pinyin="rÃº" data-meaning="like">å¦‚</span>
                <span class="char" data-pinyin="shÃ©n" data-meaning="gods">ç¥</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>çº¢ç½—é•¿è¢–é£˜åŠ¨ï¼Œå½©å¸¦ç¼¤çº·ã€‚ç²¾å…‰é—ªè€€å¦‚åçƒ›ï¼Œä¿¯ä»°ä¹‹é—´å¦‚ç¥æ˜ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Red silk with fluttering long sleeves, colorful ribbons abundant. Brilliant shine like magnificent candles, bowing and raising like gods.</p>
                    </div>
                    <div lang="de">
                        <p>Rote Seide mit flatternden langen Ã„rmeln, farbenfrohe BÃ¤nder im Ãœberfluss. Brillianter Glanz wie prÃ¤chtige Kerzen, sich verbeugend und aufrichtend wie GÃ¶tter.</p>
                    </div>
                    <div lang="fr">
                        <p>Soie rouge aux longues manches flottantes, rubans colorÃ©s abondants. Brillant Ã©clat comme des bougies magnifiques, s'inclinant et se relevant comme des dieux.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞšÑ€Ğ°ÑĞ½Ñ‹Ğ¹ ÑˆĞµĞ»Ğº Ñ Ñ€Ğ°Ğ·Ğ²ĞµĞ²Ğ°ÑÑ‰Ğ¸Ğ¼Ğ¸ÑÑ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ñ€ÑƒĞºĞ°Ğ²Ğ°Ğ¼Ğ¸, ĞºÑ€Ğ°ÑĞ¾Ñ‡Ğ½Ñ‹Ğµ Ğ»ĞµĞ½Ñ‚Ñ‹ Ğ² Ğ¸Ğ·Ğ¾Ğ±Ğ¸Ğ»Ğ¸Ğ¸. Ğ‘Ğ»ĞµÑÑ‚ÑÑ‰Ğ¸Ğ¹ Ğ±Ğ»ĞµÑĞº, ĞºĞ°Ğº Ğ²ĞµĞ»Ğ¸ĞºĞ¾Ğ»ĞµĞ¿Ğ½Ñ‹Ğµ ÑĞ²ĞµÑ‡Ğ¸, ĞºĞ»Ğ°Ğ½ÑÑÑÑŒ Ğ¸ Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ°ÑÑÑŒ, ĞºĞ°Ğº Ğ±Ğ¾Ğ³Ğ¸.</p>
                    </div>
                    <div lang="es">
                        <p>Seda roja con mangas largas ondeando, cintas coloridas abundantes. Brillante resplandor como velas magnÃ­ficas, inclinÃ¡ndose y levantÃ¡ndose como dioses.</p>
                    </div>
                    <div lang="it">
                        <p>Seta rossa con lunghe maniche svolazzanti, nastri colorati abbondanti. Splendore brillante come candele magnifiche, inchinandosi e alzandosi come dei.</p>
                    </div>
                    <div lang="ja">
                        <p>ç´…ç¾…ä¬ƒçºšã€ç¶ºçµ„ç¹½ç´›ãŸã‚Šã€‚ç²¾æ›œè¯ç‡­ã€ä¿¯ä»°ç¥ã®å¦‚ã—ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                è–›ç¶œã€Šè¥¿äº¬è³¦æ³¨ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="sÃ  lÃ­" data-meaning="long sleeves">ä¬ƒçºš</span>ï¼Œé•·è¢–è²Œä¹Ÿã€‚<span class="annotation-char" data-pinyin="sÃ " data-meaning="fluttering">ä¬ƒ</span>ï¼Œæ€åˆåˆ‡ã€‚<span class="annotation-char" data-pinyin="lÃ­" data-meaning="long">çºš</span>ï¼Œå±±ç¶ºåˆ‡ã€‚ã€Šèªªæ–‡ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="qÇ" data-meaning="patterned silk">ç¶º</span>ï¼Œæ–‡ç¹’ä¹Ÿã€‚å­”å®‰åœ‹ã€Šå°™æ›¸å‚³ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="zÇ”" data-meaning="ribbon">çµ„</span>ï¼Œç¶¬ä¹Ÿã€‚ã€Šæ¥šè¾­ã€‹æ›°ï¼šä½©<span class="annotation-char" data-pinyin="bÄ«n fÄ“n" data-meaning="abundant">ç¹½ç´›</span>å…¶ç¹é£¾ã€‚ç‹é€¸æ›°ï¼š<span class="annotation-char" data-pinyin="bÄ«n fÄ“n" data-meaning="abundant">ç¹½ç´›</span>ï¼Œç››è²Œä¹Ÿã€‚<span class="annotation-char" data-pinyin="bÄ«n" data-meaning="colorful">ç¹½</span>ï¼ŒåŒ¹äººåˆ‡ã€‚ã€Šæˆ°åœ‹ç­–ã€‹ï¼Œå¼µå„€è¬‚æ¥šç‹æ›°ï¼šå½¼é„­åœ‹ä¹‹å¥³ï¼Œç²‰ç™½é»›é»‘ï¼Œç«‹æ–¼è¡¢é–“ï¼ŒéçŸ¥è€Œè¦‹ä¹‹è€…ä»¥çˆ²ç¥ã€‚
            </div>
        </div>

        <!-- ç¬¬ä¸‰æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="hÃ²u" data-meaning="rear">å¾Œ</span>
                <span class="char" data-pinyin="gÅng" data-meaning="palace">å®®</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="hÃ o" data-meaning="titles">è™Ÿ</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="shÃ­" data-meaning="ten">å</span>
                <span class="char" data-pinyin="yÇ’u" data-meaning="and">æœ‰</span>
                <span class="char" data-pinyin="sÃ¬" data-meaning="four">å››</span>
                <span class="char" data-pinyin="wÃ¨i" data-meaning="positions">ä½</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÇo" data-meaning="graceful">çªˆ</span>
                <span class="char" data-pinyin="tiÇo" data-meaning="beautiful">çª•</span>
                <span class="char" data-pinyin="fÃ¡n" data-meaning="luxuriant">ç¹</span>
                <span class="char" data-pinyin="huÃ¡" data-meaning="splendor">è¯</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="gÄ“ng" data-meaning="alternately">æ›´</span>
                <span class="char" data-pinyin="shÃ¨ng" data-meaning="flourishing">ç››</span>
                <span class="char" data-pinyin="diÃ©" data-meaning="successively">è¿­</span>
                <span class="char" data-pinyin="guÃ¬" data-meaning="noble">è²´</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="chÇ”" data-meaning="dwell">è™•</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="in">ä¹</span>
                <span class="char" data-pinyin="sÄ«" data-meaning="this">æ–¯</span>
                <span class="char" data-pinyin="liÃ¨" data-meaning="rank">åˆ—</span>
                <span class="char" data-pinyin="zhÄ›" data-meaning="those">è€…</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="gÃ i" data-meaning="approximately">è“‹</span>
                <span class="char" data-pinyin="yÇ" data-meaning="with">ä»¥</span>
                <span class="char" data-pinyin="bÇi" data-meaning="hundred">ç™¾</span>
                <span class="char" data-pinyin="shÃ¹" data-meaning="count">æ•¸</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>åå®«çš„ç§°å·ï¼Œæœ‰åå››ç­‰ã€‚çªˆçª•ç¹åï¼Œäº¤æ›¿å…´ç››ã€‚å¤„äºæ­¤åˆ—è€…ï¼Œå¤§çº¦ä»¥ç™¾è®¡ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>The titles of the rear palace number fourteen. Graceful and beautiful, luxuriant splendor, alternately flourishing and successively noble. Those dwelling in this rank number approximately in the hundreds.</p>
                    </div>
                    <div lang="de">
                        <p>Die Titel des hinteren Palastes zÃ¤hlen vierzehn. Anmutig und schÃ¶n, Ã¼ppige Pracht, abwechselnd blÃ¼hend und aufeinanderfolgend edel. Diejenigen, die in diesem Rang wohnen, zÃ¤hlen ungefÃ¤hr in die Hunderte.</p>
                    </div>
                    <div lang="fr">
                        <p>Les titres du palais arriÃ¨re sont au nombre de quatorze. Gracieux et beaux, splendeur luxuriante, alternativement florissants et successivement nobles. Ceux qui habitent dans ce rang sont environ des centaines.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ¢Ğ¸Ñ‚ÑƒĞ»Ñ‹ Ğ·Ğ°Ğ´Ğ½ĞµĞ³Ğ¾ Ğ´Ğ²Ğ¾Ñ€Ñ†Ğ° Ğ½Ğ°ÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ Ñ‡ĞµÑ‚Ñ‹Ñ€Ğ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ. Ğ“Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ·Ğ½Ñ‹Ğµ Ğ¸ ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğµ, Ğ¿Ñ‹ÑˆĞ½Ğ¾Ğµ Ğ²ĞµĞ»Ğ¸ĞºĞ¾Ğ»ĞµĞ¿Ğ¸Ğµ, Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ Ñ†Ğ²ĞµÑ‚ÑƒÑ‰Ğ¸Ğµ Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ±Ğ»Ğ°Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğµ. Ğ¢Ğµ, ĞºÑ‚Ğ¾ Ğ¶Ğ¸Ğ²ĞµÑ‚ Ğ² ÑÑ‚Ğ¾Ğ¼ Ğ·Ğ²Ğ°Ğ½Ğ¸Ğ¸, Ğ½Ğ°ÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ğ¾ ÑĞ¾Ñ‚Ğ½Ğ¸.</p>
                    </div>
                    <div lang="es">
                        <p>Los tÃ­tulos del palacio trasero son catorce. Graciales y hermosos, esplendor exuberante, alternativamente florecientes y sucesivamente nobles. Los que habitan en este rango son aproximadamente cientos.</p>
                    </div>
                    <div lang="it">
                        <p>I titoli del palazzo posteriore sono quattordici. Graziosi e belli, splendore lussureggiante, alternativamente fiorenti e successivamente nobili. Coloro che dimorano in questo rango sono approssimativamente centinaia.</p>
                    </div>
                    <div lang="ja">
                        <p>å¾Œå®®ã®å·ã€åæœ‰å››ã‚ã‚Šã€‚çªˆçª•ç¹è¯ã€æ›´ã«ç››ã‚“ã«è¿­ã‚Šã¦è²´ã—ã€‚æ–¯ã®åˆ—ã«å‡¦ã‚‹è€…ã¯ã€è“‹ã—ç™¾ã‚’ä»¥ã¦æ•°ã†ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šæ¼¢æ›¸ã€‹æ›°ï¼šå¤§æ˜Ÿæ­£å¦ƒï¼Œé¤˜ä¸‰æ˜Ÿå¾Œå®®ã€‚åˆè´Šæ›°ï¼šæ¼¢èˆˆï¼Œå› ç§¦ä¹‹ç¨±è™Ÿï¼Œå¸æ­£é©ç¨±çš‡åï¼Œå¦¾çš†ç¨±å¤«äººï¼Œè™Ÿå‡¡åå››ç­‰äº‘ã€‚æ˜­å„€ä½è¦–ä¸ç›¸ï¼Œå©•å¦¤è¦–ä¸Šå¿ï¼Œ<span class="annotation-char" data-pinyin="xÃ­ng Ã©" data-meaning="lady">å¨™å¨¥</span>è¦–ä¸­äºŒåƒçŸ³ï¼Œ<span class="annotation-char" data-pinyin="rÃ³ng huÃ¡" data-meaning="lady">å‚›è¯</span>è¦–çœŸäºŒåƒçŸ³[26]ï¼Œç¾äººè¦–äºŒåƒçŸ³ï¼Œå…«å­è¦–åƒçŸ³ï¼Œå……ä¾è¦–åƒçŸ³[27]ï¼Œä¸ƒå­è¦–å…«ç™¾çŸ³ï¼Œè‰¯äººè¦–ä¸ƒç™¾çŸ³ï¼Œé•·ä½¿è¦–å…­ç™¾çŸ³ï¼Œå°‘ä½¿è¦–å››ç™¾çŸ³ï¼Œäº”å®˜è¦–ä¸‰ç™¾çŸ³ï¼Œé †å¸¸è¦–äºŒç™¾çŸ³ï¼Œç„¡æ¶“ã€å…±å’Œã€å¨›éˆã€ä¿æ—ã€è‰¯ä½¿ã€å¤œè€…ï¼Œçš†è¦–ç™¾çŸ³ã€‚ã€Šæ¯›è©©ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="yÇo tiÇo" data-meaning="graceful">çªˆçª•</span>æ·‘å¥³ï¼Œå›å­å¥½é€‘ã€‚ã€Šå²è¨˜ã€‹ï¼Œè¯é™½å¤«äººå§Šèªªå¤«äººæ›°ï¼šä¸ä»¥<span class="annotation-char" data-pinyin="fÃ¡n huÃ¡" data-meaning="luxuriant">ç¹è¯</span>æ™‚æ¨¹æœ¬ã€‚ã€Šæ–¹è¨€ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="diÃ©" data-meaning="alternately">è¿­</span>ï¼Œä»£ä¹Ÿï¼Œå¾’çµåˆ‡ã€‚<span class="annotation-char" data-pinyin="xÃ­ng" data-meaning="lady">å¨™</span>ï¼ŒéŸ³åˆ‘ã€‚
            </div>
        </div>

        <!-- ç¬¬å››æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="zuÇ’" data-meaning="left">å·¦</span>
                <span class="char" data-pinyin="yÃ²u" data-meaning="right">å³</span>
                <span class="char" data-pinyin="tÃ­ng" data-meaning="court">åº­</span>
                <span class="char" data-pinyin="zhÅng" data-meaning="center">ä¸­</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="chÃ¡o" data-meaning="court">æœ</span>
                <span class="char" data-pinyin="tÃ¡ng" data-meaning="hall">å ‚</span>
                <span class="char" data-pinyin="bÇi" data-meaning="hundred">ç™¾</span>
                <span class="char" data-pinyin="liÃ¡o" data-meaning="officials">å¯®</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="wÃ¨i" data-meaning="positions">ä½</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="xiÄo" data-meaning="xiao">è•­</span>
                <span class="char" data-pinyin="cÃ¡o" data-meaning="cao">æ›¹</span>
                <span class="char" data-pinyin="wÃ¨i" data-meaning="wei">é­</span>
                <span class="char" data-pinyin="bÇng" data-meaning="bing">é‚´</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="mÃ³u" data-meaning="plan">è¬€</span>
                <span class="char" data-pinyin="mÃ³" data-meaning="deliberate">è¬¨</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="on">ä¹</span>
                <span class="char" data-pinyin="qÃ­" data-meaning="their">å…¶</span>
                <span class="char" data-pinyin="shÃ ng" data-meaning="above">ä¸Š</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å·¦å³åº­ä¸­ï¼Œæœå ‚ç™¾å®˜ä¹‹ä½ã€‚è§ä½•ã€æ›¹å‚ã€é­ç›¸ã€é‚´å‰ï¼Œåœ¨å…¶ä¸Šè°‹åˆ’ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>In the left and right courts, the positions of the hundred officials in the court hall. Xiao He, Cao Can, Wei Xiang, and Bing Ji deliberate and plan above them.</p>
                    </div>
                    <div lang="de">
                        <p>In den linken und rechten HÃ¶fen die Positionen der hundert Beamten in der Gerichtshalle. Xiao He, Cao Can, Wei Xiang und Bing Ji beraten und planen Ã¼ber ihnen.</p>
                    </div>
                    <div lang="fr">
                        <p>Dans les cours gauche et droite, les positions des cent fonctionnaires dans la salle de cour. Xiao He, Cao Can, Wei Xiang et Bing Ji dÃ©libÃ¨rent et planifient au-dessus d'eux.</p>
                    </div>
                    <div lang="ru">
                        <p>Ğ’ Ğ»ĞµĞ²Ğ¾Ğ¼ Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ¼ Ğ´Ğ²Ğ¾Ñ€Ğ°Ñ… Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ ÑĞ¾Ñ‚Ğ½Ğ¸ Ñ‡Ğ¸Ğ½Ğ¾Ğ²Ğ½Ğ¸ĞºĞ¾Ğ² Ğ² Ğ·Ğ°Ğ»Ğµ ÑÑƒĞ´Ğ°. Ğ¡ÑĞ¾ Ğ¥Ñ, Ğ¦Ğ°Ğ¾ Ğ¦Ğ°Ğ½ÑŒ, Ğ’ÑĞ¹ Ğ¡ÑĞ½ Ğ¸ Ğ‘Ğ¸Ğ½ Ğ¦Ğ·Ğ¸ ÑĞ¾Ğ²ĞµÑ‰Ğ°ÑÑ‚ÑÑ Ğ¸ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒÑÑ‚ Ğ½Ğ°Ğ´ Ğ½Ğ¸Ğ¼Ğ¸.</p>
                    </div>
                    <div lang="es">
                        <p>En las cortes izquierda y derecha, las posiciones de los cien funcionarios en la sala de la corte. Xiao He, Cao Can, Wei Xiang y Bing Ji deliberan y planean sobre ellos.</p>
                    </div>
                    <div lang="it">
                        <p>Nelle corti sinistra e destra, le posizioni dei cento funzionari nella sala della corte. Xiao He, Cao Can, Wei Xiang e Bing Ji deliberano e pianificano sopra di loro.</p>
                    </div>
                    <div lang="ja">
                        <p>å·¦å³åº­ä¸­ã€æœå ‚ç™¾å¯®ã®ä½ã€‚è•­æ›¹é­é‚´ã€å…¶ã®ä¸Šã«è¬€è¬¨ã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šå°™æ›¸ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="bÇi liÃ¡o" data-meaning="hundred officials">ç™¾å¯®</span>å¸«å¸«ã€‚ã€Šæ¼¢æ›¸ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="xiÄo hÃ©" data-meaning="Xiao He">è•­ä½•</span>ï¼Œæ²›äººã€‚æ¼¢ç‹å½çš‡å¸ä½ï¼Œæ‹œä½•çˆ²ç›¸åœ‹ã€‚åˆæ›°ï¼š<span class="annotation-char" data-pinyin="cÃ¡o cÄn" data-meaning="Cao Can">æ›¹åƒ</span>ï¼Œæ²›äººä¹Ÿï¼Œä»£<span class="annotation-char" data-pinyin="xiÄo hÃ©" data-meaning="Xiao He">è•­ä½•</span>çˆ²ç›¸åœ‹ã€‚åˆæ›°ï¼š<span class="annotation-char" data-pinyin="wÃ¨i xiÄng" data-meaning="Wei Xiang">é­ç›¸</span>ï¼Œå­—å¼±ç¿ï¼Œæ¿Ÿé™°äººä¹Ÿã€‚å®£å¸å½ä½ï¼Œä»£<span class="annotation-char" data-pinyin="wÃ©i xiÃ¡n" data-meaning="Wei Xian">éŸ‹è³¢</span>çˆ²ä¸ç›¸ã€‚åˆæ›°ï¼š<span class="annotation-char" data-pinyin="bÇng jÃ­" data-meaning="Bing Ji">é‚´å‰</span>ï¼Œå­—å°‘å¿ï¼Œé­¯åœ‹äººä¹Ÿã€‚å®£å¸å½ä½ï¼Œä»£<span class="annotation-char" data-pinyin="wÃ¨i xiÄng" data-meaning="Wei Xiang">é­ç›¸</span>çˆ²ä¸ç›¸ã€‚å­”å®‰åœ‹ã€Šå°™æ›¸å‚³ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="mÃ³u" data-meaning="plan">è¬€</span>ï¼Œ<span class="annotation-char" data-pinyin="mÃ³" data-meaning="deliberate">è¬¨</span>ä¹Ÿã€‚
            </div>
        </div>

        <!-- ç¬¬äº”æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="zuÇ’" data-meaning="assist">ä½</span>
                <span class="char" data-pinyin="mÃ¬ng" data-meaning="mandate">å‘½</span>
                <span class="char" data-pinyin="zÃ©" data-meaning="then">å‰‡</span>
                <span class="char" data-pinyin="chuÃ­" data-meaning="hand">å‚</span>
                <span class="char" data-pinyin="tÇ’ng" data-meaning="down">çµ±</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="fÇ”" data-meaning="assist">è¼”</span>
                <span class="char" data-pinyin="yÃ¬" data-meaning="wings">ç¿¼</span>
                <span class="char" data-pinyin="zÃ©" data-meaning="then">å‰‡</span>
                <span class="char" data-pinyin="chÃ©ng" data-meaning="complete">æˆ</span>
                <span class="char" data-pinyin="huÃ " data-meaning="transformation">åŒ–</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="liÃº" data-meaning="flow">æµ</span>
                <span class="char" data-pinyin="dÃ " data-meaning="great">å¤§</span>
                <span class="char" data-pinyin="hÃ n" data-meaning="han">æ¼¢</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="kÇi" data-meaning="kind">æ„·</span>
                <span class="char" data-pinyin="tÃ¬" data-meaning="and">æ‚Œ</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="dÃ ng" data-meaning="cleanse">ç›ª</span>
                <span class="char" data-pinyin="wÃ¡ng" data-meaning="perished">äº¡</span>
                <span class="char" data-pinyin="qÃ­n" data-meaning="qin">ç§¦</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="dÃº" data-meaning="poison">æ¯’</span>
                <span class="char" data-pinyin="shÃ¬" data-meaning="sting">è«</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>è¾…ä½å¤©å‘½åˆ™å‚ç»Ÿåä¸–ï¼Œè¾…åŠ©åˆ™æˆå°±æ•™åŒ–ã€‚æµå¸ƒå¤§æ±‰çš„ä»å¾·ï¼Œè¡æ¶¤äº¡ç§¦çš„æ¯’å®³ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Assisting the mandate then hands down the system; assisting the wings then completes the transformation. Flowing the Great Han's kindness and affability, cleansing the perished Qin's poison and sting.</p>
                    </div>
                    <div lang="de">
                        <p>Die UnterstÃ¼tzung des Mandats gibt dann das System weiter; die UnterstÃ¼tzung der FlÃ¼gel vervollstÃ¤ndigt dann die Transformation. FlieÃŸend die GÃ¼te und Freundlichkeit des GroÃŸen Han, reinigend das Gift und den Stich des untergegangenen Qin.</p>
                    </div>
                    <div lang="fr">
                        <p>Assister le mandat transmet alors le systÃ¨me; assister les ailes achÃ¨ve alors la transformation. Coulant la gentillesse et l'affabilitÃ© du Grand Han, nettoyant le poison et la piqÃ»re du Qin disparu.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ¼Ğ°Ğ½Ğ´Ğ°Ñ‚Ñƒ Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ; Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ ĞºÑ€Ñ‹Ğ»ÑŒÑĞ¼ Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°ĞµÑ‚ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ. Ğ¢ĞµĞºÑƒÑ‡Ğ¸Ğµ Ğ´Ğ¾Ğ±Ñ€Ğ¾Ñ‚Ğ° Ğ¸ Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ Ğ’ĞµĞ»Ğ¸ĞºĞ¾Ğ³Ğ¾ Ğ¥Ğ°Ğ½ÑŒ, Ğ¾Ñ‡Ğ¸Ñ‰Ğ°ÑÑ‰Ğ¸Ğµ ÑĞ´ Ğ¸ ÑƒĞºÑƒÑ Ğ¿Ğ¾Ğ³Ğ¸Ğ±ÑˆĞµĞ³Ğ¾ Ğ¦Ğ¸Ğ½ÑŒ.</p>
                    </div>
                    <div lang="es">
                        <p>Asistir al mandato entonces transmite el sistema; asistir a las alas entonces completa la transformaciÃ³n. Fluyendo la bondad y afabilidad del Gran Han, limpiando el veneno y el aguijÃ³n del Qin perecido.</p>
                    </div>
                    <div lang="it">
                        <p>Assistere il mandato poi trasmette il sistema; assistere le ali poi completa la trasformazione. Scorrendo la gentilezza e l'affabilitÃ  del Grande Han, pulendo il veleno e la puntura del Qin perito.</p>
                    </div>
                    <div lang="ja">
                        <p>ä½å‘½ã¯å‰‡ã¡çµ±ã‚’å‚ã‚Œã€è¼”ç¿¼ã¯å‰‡ã¡åŒ–ã‚’æˆã™ã€‚å¤§æ¼¢ã®æ„·æ‚Œã‚’æµã—ã€äº¡ç§¦ã®æ¯’è«ã‚’ç›ªã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                æé™µã€Šå ±è˜‡æ­¦æ›¸ã€‹æ›°ï¼šå…¶é¤˜<span class="annotation-char" data-pinyin="zuÇ’ mÃ¬ng" data-meaning="assist mandate">ä½å‘½</span>ç«‹åŠŸä¹‹å£«ã€‚ã€Šæ˜“ä¹¾é‘¿åº¦ã€‹æ›°ï¼šä»£è€…<span class="annotation-char" data-pinyin="chÃ¬ duÃ¬" data-meaning="red exchange">èµ¤å…Œ</span>ï¼›<span class="annotation-char" data-pinyin="huÃ¡ng" data-meaning="yellow">é»ƒ</span>ï¼Œ<span class="annotation-char" data-pinyin="zuÇ’ mÃ¬ng" data-meaning="assist mandate">ä½å‘½</span>ã€‚å®‹è¡·æ›°ï¼šæ­¤<span class="annotation-char" data-pinyin="chÃ¬ duÃ¬" data-meaning="red exchange">èµ¤å…Œ</span>è€…ï¼Œè¬‚æ¼¢é«˜å¸ä¹Ÿã€‚<span class="annotation-char" data-pinyin="huÃ¡ng" data-meaning="yellow">é»ƒ</span>è€…ï¼Œç«ä¹‹å­ï¼Œæ•…<span class="annotation-char" data-pinyin="zuÇ’ mÃ¬ng" data-meaning="assist mandate">ä½å‘½</span>ï¼Œ<span class="annotation-char" data-pinyin="zhÄng liÃ¡ng" data-meaning="Zhang Liang">å¼µè‰¯</span>æ˜¯ä¹Ÿã€‚ã€Šå­Ÿå­ã€‹æ›°ï¼šå›å­å‰µæ¥­<span class="annotation-char" data-pinyin="chuÃ­ tÇ’ng" data-meaning="hand down system">å‚çµ±</span>ï¼Œçˆ²å¯ç¹¼ä¹Ÿã€‚ã€Šç¦®è¨˜ã€‹æ›°ï¼šä¿è€…æ…å…¶èº«ä»¥<span class="annotation-char" data-pinyin="fÇ” yÃ¬" data-meaning="assist wings">è¼”ç¿¼</span>ä¹‹ã€‚ã€Šé•·æ¥Šè³¦ã€‹æ›°ï¼šä»Šæœå»·å‡º<span class="annotation-char" data-pinyin="kÇi tÃ¬" data-meaning="kind and affable">å‡±æ‚Œ</span>ï¼Œè¡Œç°¡æ˜“ã€‚ã€Šå››å­è¬›å¾·è«–ã€‹æ›°ï¼šç§¦ä¹‹æ™‚ï¼Œè™•ä½ä»»æ”¿è€…ä¸¦æ–½<span class="annotation-char" data-pinyin="shÃ¬ dÃº" data-meaning="poison sting">è«æ¯’</span>ã€‚ã€Šèªªæ–‡ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="shÃ¬" data-meaning="sting">è«</span>ï¼Œè¡Œæ¯’ä¹Ÿï¼Œèˆ’äº¦åˆ‡ã€‚
            </div>
        </div>

        <!-- ç¬¬å…­æ®µè½ -->
        <div class="paragraph">
            <div class="sentence">
                <span class="char" data-pinyin="gÃ¹" data-meaning="therefore">æ•…</span>
                <span class="char" data-pinyin="lÃ¬ng" data-meaning="make">ä»¤</span>
                <span class="char" data-pinyin="sÄ«" data-meaning="these">æ–¯</span>
                <span class="char" data-pinyin="rÃ©n" data-meaning="people">äºº</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="yÃ¡ng" data-meaning="raise">æš</span>
                <span class="char" data-pinyin="yuÃ¨" data-meaning="music">æ¨‚</span>
                <span class="char" data-pinyin="hÃ©" data-meaning="harmonious">å’Œ</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="shÄ“ng" data-meaning="sound">è²</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="zuÃ²" data-meaning="make">ä½œ</span>
                <span class="char" data-pinyin="huÃ " data-meaning="uniform">ç•«</span>
                <span class="char" data-pinyin="yÄ«" data-meaning="one">ä¸€</span>
                <span class="char" data-pinyin="zhÄ«" data-meaning="'s">ä¹‹</span>
                <span class="char" data-pinyin="gÄ“" data-meaning="song">æ­Œ</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="gÅng" data-meaning="merit">åŠŸ</span>
                <span class="char" data-pinyin="dÃ©" data-meaning="virtue">å¾·</span>
                <span class="char" data-pinyin="zhÃ¹" data-meaning="manifest">è‘—</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="in">ä¹</span>
                <span class="char" data-pinyin="zÇ”" data-meaning="ancestors">ç¥–</span>
                <span class="char" data-pinyin="zÅng" data-meaning="ancestors">å®—</span>
                <span class="char punctuation" data-pinyin="ï¼Œ" data-meaning="comma">ï¼Œ</span>
            </div>
            <div class="sentence">
                <span class="char" data-pinyin="gÄo" data-meaning="blessings">è†</span>
                <span class="char" data-pinyin="zÃ©" data-meaning="moisture">æ¾¤</span>
                <span class="char" data-pinyin="qiÃ " data-meaning="extend">æ´½</span>
                <span class="char" data-pinyin="hÅ«" data-meaning="to">ä¹</span>
                <span class="char" data-pinyin="lÃ­" data-meaning="common">é»</span>
                <span class="char" data-pinyin="shÃ¹" data-meaning="people">åº¶</span>
                <span class="char punctuation" data-pinyin="ã€‚" data-meaning="period">ã€‚</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="speakParagraph(this)">ğŸ”Š</button>
                <button class="control-btn" onclick="toggleTranslationPanel(this)">ğŸŒ</button>
                <button class="control-btn" onclick="toggleAnnotation(this)">ğŸ“œ</button>
            </div>
            
            <div class="translation-panel">
                <div>
                    <button class="lang-btn active" onclick="showTranslation(this, 'zh')">ç™½è¯æ–‡</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'en')">English</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'de')">Deutsch</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'fr')">FranÃ§ais</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'es')">EspaÃ±ol</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'it')">Italiano</button>
                    <button class="lang-btn" onclick="showTranslation(this, 'ja')">æ—¥æœ¬èª</button>
                </div>
                <div class="translation-content">
                    <div lang="zh" class="show">
                        <p>å› æ­¤ä½¿è¿™äº›äººå‘æ‰¬ä¹å’Œä¹‹å£°ï¼Œåˆ›ä½œç”»ä¸€ä¹‹æ­Œã€‚åŠŸå¾·æ˜¾äºç¥–å®—ï¼Œæ©æ³½åŠäºé»æ°‘ã€‚</p>
                    </div>
                    <div lang="en">
                        <p>Therefore making these people raise harmonious musical sounds, creating the song of uniformity. Merit and virtue manifest in ancestors; blessings and moisture extend to the common people.</p>
                    </div>
                    <div lang="de">
                        <p>Daher lassen diese Menschen harmonische musikalische KlÃ¤nge erheben und schaffen das Lied der Einheitlichkeit. Verdienst und Tugend manifestieren sich in den Vorfahren; Segen und Feuchtigkeit erstrecken sich auf das gemeine Volk.</p>
                    </div>
                    <div lang="fr">
                        <p>Par consÃ©quent, faire que ces gens Ã©lÃ¨vent des sons musicaux harmonieux, crÃ©ant la chanson de l'uniformitÃ©. Le mÃ©rite et la vertu se manifestent dans les ancÃªtres; les bÃ©nÃ©dictions et l'humiditÃ© s'Ã©tendent au peuple commun.</p>
                    </div>
                    <div lang="ru">
                        <p>ĞŸĞ¾ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ·Ğ°ÑÑ‚Ğ°Ğ²Ğ»ÑÑ ÑÑ‚Ğ¸Ñ… Ğ»ÑĞ´ĞµĞ¹ Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ Ğ³Ğ°Ñ€Ğ¼Ğ¾Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¼ÑƒĞ·Ñ‹ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ²ÑƒĞºĞ¸, ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ Ğ¿ĞµÑĞ½Ñ ĞµĞ´Ğ¸Ğ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ñ. Ğ—Ğ°ÑĞ»ÑƒĞ³Ğ¸ Ğ¸ Ğ´Ğ¾Ğ±Ñ€Ğ¾Ğ´ĞµÑ‚ĞµĞ»ÑŒ Ğ¿Ñ€Ğ¾ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ğ² Ğ¿Ñ€ĞµĞ´ĞºĞ°Ñ…; Ğ±Ğ»Ğ°Ğ³Ğ¾ÑĞ»Ğ¾Ğ²ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²Ğ»Ğ°Ğ³Ğ° Ñ€Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ½Ğ° Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ñ… Ğ»ÑĞ´ĞµĞ¹.</p>
                    </div>
                    <div lang="es">
                        <p>Por lo tanto, hacer que estas personas eleven sonidos musicales armoniosos, creando la canciÃ³n de la uniformidad. El mÃ©rito y la virtud se manifiestan en los antepasados; las bendiciones y la humedad se extienden a la gente comÃºn.</p>
                    </div>
                    <div lang="it">
                        <p>Pertanto facendo sÃ¬ che queste persone elevino suoni musicali armoniosi, creando la canzone dell'uniformitÃ . Merito e virtÃ¹ si manifestano negli antenati; benedizioni e umiditÃ  si estendono alla gente comune.</p>
                    </div>
                    <div lang="ja">
                        <p>æ•…ã«æ–¯ã®äººã‚’ã—ã¦æ¥½å’Œã®å£°ã‚’æšã’ã€ç”»ä¸€ã®æ­Œã‚’ä½œã‚‰ã—ã‚€ã€‚åŠŸå¾³ã¯ç¥–å®—ã«è‘—ã—ãã€è†æ¾¤ã¯é»åº¶ã«æ´½ã—ã€‚</p>
                    </div>
                </div>
            </div>
            
            <button class="toggle-annotation" onclick="toggleAnnotationPanel(this)">é¡¯ç¤ºè¨»é‡‹</button>
            <div class="annotation">
                ã€Šå­”å¢å­ã€‹æ›°ï¼šå­”å­æ›°ï¼šå¤ä¹‹å¸ç‹ï¼ŒåŠŸæˆä½œæ¨‚ã€‚å…¶åŠŸå–„è€…å…¶æ¨‚å’Œï¼Œæ¨‚å’Œå‰‡å¤©ä¸‹ä¸”ç”±æ‡‰ä¹‹ï¼Œæ³ç™¾ç¸ä¹ï¼Ÿã€Šæ¼¢æ›¸ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="xiÄo hÃ©" data-meaning="Xiao He">è•­ä½•</span>è–¨ï¼Œ<span class="annotation-char" data-pinyin="cÃ¡o cÄn" data-meaning="Cao Can">æ›¹åƒ</span>ä»£ä¹‹ã€‚ç™¾å§“æ­Œä¹‹æ›°ï¼š<span class="annotation-char" data-pinyin="xiÄo hÃ©" data-meaning="Xiao He">è•­ä½•</span>çˆ²æ³•ï¼Œè¼ƒè‹¥<span class="annotation-char" data-pinyin="huÃ  yÄ«" data-meaning="uniform">ç•«ä¸€</span>ã€‚<span class="annotation-char" data-pinyin="cÃ¡o cÄn" data-meaning="Cao Can">æ›¹åƒ</span>ä»£ä¹‹ï¼Œå®ˆè€Œå‹¿å¤±ã€‚è¼‰å…¶æ¸…æ·¨ï¼Œäººä»¥å¯§ä¸€ã€‚åˆæ™¯å¸è©”æ›°ï¼šè¬Œè€…ï¼Œæ‰€ä»¥ç™¼å¾·ï¼›èˆè€…ï¼Œæ‰€ä»¥ç«‹åŠŸã€‚ç”³å± å˜‰å¥æ›°ï¼šé«˜çš‡å¸å®œçˆ²å¤ªç¥–ï¼Œå­æ–‡å¸å®œçˆ²å¤ªå®—ã€‚ã€Šå²è¨˜ã€‹ï¼Œå¤ªå²å…¬æ›°ï¼šæˆç‹ä½œé Œï¼Œæ²æµ´<span class="annotation-char" data-pinyin="gÄo zÃ©" data-meaning="blessings">è†æ¾¤</span>ï¼Œè€Œæ­Œè© å‹¤è‹¦ã€‚ã€Šå­Ÿå­ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="gÄo zÃ©" data-meaning="blessings">è†æ¾¤</span>ä¸‹æ–¼æ°‘ã€‚å­”å®‰åœ‹ã€Šå°™æ›¸å‚³ã€‹æ›°ï¼š<span class="annotation-char" data-pinyin="lÃ­" data-meaning="common people">é»</span>ï¼Œè¡†ä¹Ÿã€‚
            </div>
        </div>
    </div>
    
    <!-- å¼¹å‡ºçª—å£ -->
    <div class="popup" id="charPopup">
        <span class="popup-close" onclick="closePopup()">Ã—</span>
        <div class="popup-content">
            <div class="popup-char"></div>
            <div class="popup-pinyin"></div>
            <div class="popup-meaning"></div>
        </div>
    </div>

     <a href="https://zhixingshuyuan-dev.github.io/ChineseClassicsReading/">ä¸»é¡µ Homepage</a>
    
    <script>
        // å•å­—ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.char').forEach(char => {
            char.addEventListener('click', function() {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `æ‹¼éŸ³: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `é‡Šä¹‰: ${this.dataset.meaning}`;
                popup.style.display = 'block';
            });
        });
        
        // æ³¨è§£å­—ç¬¦æ‚¬åœäº‹ä»¶
        document.querySelectorAll('.annotation-char').forEach(char => {
            char.addEventListener('mouseenter', function(e) {
                const popup = document.getElementById('charPopup');
                popup.querySelector('.popup-char').textContent = this.textContent;
                popup.querySelector('.popup-pinyin').textContent = `æ‹¼éŸ³: ${this.dataset.pinyin}`;
                popup.querySelector('.popup-meaning').textContent = `é‡Šä¹‰: ${this.dataset.meaning}`;
                popup.style.display = 'block';
                popup.style.top = `${e.pageY + 10}px`;
                popup.style.left = `${e.pageX + 10}px`;
            });
            
            char.addEventListener('mouseleave', function() {
                document.getElementById('charPopup').style.display = 'none';
            });
        });
        
        // å…³é—­å¼¹å‡ºçª—å£
        function closePopup() {
            document.getElementById('charPopup').style.display = 'none';
        }
        
        // æ®µè½æœ—è¯»åŠŸèƒ½
        let currentParagraphUtterances = [];
        let currentReadingParagraph = null;
        
        function speakParagraph(btn) {
            const paragraph = btn.closest('.paragraph');
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å½“å‰æ®µè½ï¼Œåœæ­¢
            if (currentReadingParagraph === paragraph && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                btn.textContent = 'ğŸ”Š';
                currentReadingParagraph = null;
                return;
            }
            
            // å¦‚æœæ­£åœ¨æœ—è¯»å…¶ä»–æ®µè½ï¼Œå…ˆåœæ­¢
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                resetAllSentenceHighlights();
                document.querySelectorAll('.control-btn').forEach(b => {
                    if (b.textContent === 'â¹') b.textContent = 'ğŸ”Š';
                });
            }
            
            // å¼€å§‹æœ—è¯»æ–°æ®µè½
            currentReadingParagraph = paragraph;
            btn.textContent = 'â¹';
            
            const sentences = paragraph.querySelectorAll('.sentence');
            currentParagraphUtterances = [];
            
            // å‡†å¤‡æ‰€æœ‰å¥å­è¯­éŸ³
            sentences.forEach((sentence, index) => {
                let sentenceText = '';
                sentence.querySelectorAll('.char').forEach(char => {
                    if (!char.classList.contains('punctuation') || 
                        ['ï¼Œ', 'ã€‚', 'ï¼', 'ï¼Ÿ', 'ï¼š', 'ï¼›'].includes(char.textContent)) {
                        sentenceText += char.textContent;
                    }
                });
                
                const utterance = new SpeechSynthesisUtterance(sentenceText);
                utterance.lang = 'zh-TW';
                utterance.rate = 0.8;
                
                utterance.onstart = function() {
                    resetAllSentenceHighlights();
                    sentence.classList.add('active');
                    
                    // æ»šåŠ¨åˆ°å½“å‰å¥å­
                    sentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                };
                
                utterance.onend = function() {
                    if (index === sentences.length - 1) {
                        btn.textContent = 'ğŸ”Š';
                        currentReadingParagraph = null;
                    }
                };
                
                currentParagraphUtterances.push(utterance);
            });
            
            // æŒ‰é¡ºåºæœ—è¯»æ‰€æœ‰å¥å­
            currentParagraphUtterances.forEach((utterance, index) => {
                // è®¾ç½®å»¶è¿Ÿï¼Œä½¿å¥å­ä¹‹é—´æœ‰è‡ªç„¶åœé¡¿
                if (index > 0) {
                    const prevDuration = currentParagraphUtterances[index-1].text.length * 100; // ä¼°ç®—å‰ä¸€å¥æŒç»­æ—¶é—´
                    utterance.startTime = Date.now() + prevDuration + 300; // 300msé¢å¤–åœé¡¿
                }
                window.speechSynthesis.speak(utterance);
            });
        }
        
        function resetAllSentenceHighlights() {
            document.querySelectorAll('.sentence').forEach(s => {
                s.classList.remove('active');
            });
        }
        
        // æ˜¾ç¤º/éšè—æ³¨é‡Šé¢æ¿
        function toggleAnnotationPanel(btn) {
            const annotation = btn.nextElementSibling;
            if (annotation.style.display === 'block') {
                annotation.style.display = 'none';
                btn.textContent = 'é¡¯ç¤ºè¨»é‡‹';
            } else {
                annotation.style.display = 'block';
                btn.textContent = 'éš±è—è¨»é‡‹';
            }
        }
        
        // æ˜¾ç¤º/éšè—ç¿»è¯‘é¢æ¿
        function toggleTranslationPanel(btn) {
            const panel = btn.closest('.paragraph').querySelector('.translation-panel');
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
            }
        }
        
        // åˆ‡æ¢ç¿»è¯‘è¯­è¨€
        function showTranslation(btn, lang) {
            const panel = btn.closest('.translation-panel').querySelector('.translation-content');
            panel.querySelectorAll('div').forEach(div => {
                div.classList.remove('show');
            });
            panel.querySelector(`div[lang="${lang}"]`).classList.add('show');
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            btn.closest('.translation-panel').querySelectorAll('.lang-btn').forEach(b => {
                b.classList.remove('active');
            });
            btn.classList.add('active');
        }
        
        // ç‚¹å‡»ç©ºç™½å¤„å…³é—­å¼¹å‡ºçª—å£
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('charPopup')) {
                closePopup();
            }
        });
    </script>
</body>
</html>
