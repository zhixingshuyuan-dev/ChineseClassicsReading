<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>史记·高祖本纪 - 深色版</title>
<style>
  body { 
    font-family: "宋体", serif; 
    line-height: 1.8;
    font-size: 1.8em;
    background-color: #222;
    color: #ddd;
    padding: 20px;
  }
  .text { 
    max-width: 900px; 
    margin: 0 auto;
    padding: 20px;
    background-color: #333;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
  }
  .annotation-btn {
    display: inline-block;
    background: #444;
    border: 1px solid #666;
    border-radius: 3px;
    padding: 0 4px;
    margin: 0 2px;
    cursor: pointer;
    font-size: 0.6em;
    color: #55aaff;
    vertical-align: middle;
  }
  .annotation-group {
    display: inline-flex;
    flex-wrap: nowrap;
    vertical-align: middle;
  }
  /* 弹窗样式 */
  #overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  #popup {
    background: #444;
    max-width: 700px;
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0,0,0,0.8);
    position: absolute;
    font-size: 0.7em;
    line-height: 1.6;
    color: #eee;
    border: 1px solid #666;
    cursor: move;
  }
  #popup-title {
    font-weight: bold;
    margin-bottom: 10px;
    color: #55aaff;
    border-bottom: 1px solid #666;
    padding-bottom: 5px;
  }
  #popup .close-btn {
    position: absolute;
    top: 10px; right: 15px;
    font-size: 24px;
    font-weight: bold;
    cursor: pointer;
    color: #999;
  }
  #popup .close-btn:hover {
    color: #ddd;
  }
  h1 {
    text-align: center;
    color: #f8f8f8;
    margin-bottom: 30px;
    border-bottom: 2px solid #555;
    padding-bottom: 10px;
  }
  ruby {
    ruby-position: under;
  }
  rt {
    font-size: 0.5em;
    color: #aaa;
  }
</style>
</head>
<body>
<div class="text">
<h1>卷八 高祖本纪第八</h1>

<p>五年，高祖与诸侯兵共击楚军，与项羽决胜垓下。淮阴侯将三十万自当之，孔将军居左，费将军居右，皇帝在后，绛侯、柴将军在皇帝后。项羽之卒可十万。淮阴先合，不利，却。孔将军、费将军纵，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="二人韩信将也。纵兵击项羽也。以「纵」字为绝句。孔将军，蓼侯孔熙。费将军，费侯陈贺也。">【正义】</span>
</span>楚兵不利，淮阴侯复乘之，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="复，扶富反。乘犹登也，进也。">【正义】</span>
</span>大败垓下。项羽卒闻汉军之楚歌，<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="应劭云：「今鸡鸣歌也。」颜游秦云：「楚歌犹吴讴也。」按：高祖令戚夫人楚舞，自为楚歌，是楚人之歌声也。">【索隐】</span>
</span>以为汉尽得楚地，项羽乃败而走，是以兵大败。使骑将灌婴追杀项羽东城，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="徐广曰：「十二月。」">【集解】</span>
</span>斩首八万，遂略定楚地。鲁为楚坚守不下。汉王引诸侯兵北，示鲁父老项羽头，鲁乃降。遂以鲁公号葬项羽谷城。还至定陶，驰入齐王壁，夺其军。</p>

<p>正月，诸侯及将相相与共请尊汉王为皇帝。汉王曰：「吾闻帝贤者有也，空言虚语，非所守也，吾不敢当帝位。」群臣皆曰：「大王起微细，诛暴逆，平定四海，有功者辄裂地而封为王侯。大王不尊号，皆疑不信。臣等以死守之。」汉王三让，不得已，曰：「诸君必以为便，便国家。」甲午，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="徐广曰：「二月甲午。」">【集解】</span>
</span>乃即皇帝位氾水之阳。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="蔡邕曰：「上古天子称皇，其次称帝，其次称王。秦承三王之末，为汉驱除，自以德兼三皇、五帝，故并以为号。汉高祖受命，功德宜之，因而不改。」">【集解】</span>
  <span class="annotation-btn" data-type="正义" data-content="氾音敷剑反。括地志云：「高祖即位坛在曹州济阴县界。张晏曰『氾水在济阴界，取其氾爱弘大而润下』。」">【正义】</span>
</span></p>

<p>皇帝曰义帝无后。齐王韩信习楚风俗，徙为楚王，都下邳。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="音被悲反，泗州下邳县是，楚王韩信之都。">【正义】</span>
</span>立建成侯彭越为梁王，都定陶。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="曹州济阴县城是，梁王彭越之都。">【正义】</span>
</span>故韩王信为韩王，都阳翟。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="洛州阳翟县是，韩王信之都。">【正义】</span>
</span>徙衡山王吴芮为长沙王，都临湘。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="括地志云：「潭州长沙县，本汉临湘县，长沙王吴芮都之。芮墓在长沙县北四里。」">【正义】</span>
</span>番君之将梅鋗有功，从入武关，故德番君。淮南王布、燕王臧荼、赵王敖皆如故。</p>

<p>天下大定。高祖都雒阳，诸侯皆臣属。故临江王驩<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="徐广曰：「一作『尉』。」">【集解】</span>
</span>为项羽叛汉，令卢绾、刘贾围之，不下。数月而降，杀之雒阳。</p>

<p>五月，兵皆罢归家。诸侯子在关中者复之十二岁，其归者复之六岁，食之<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="食音寺。">【正义】</span>
</span>一岁。</p>

<p>高祖置酒雒阳南宫。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="括地志云：「南宫在雒州雒阳县东北二十六里洛阳故城中。舆地志云秦时已有南北宫。」">【正义】</span>
</span>高祖曰：「列侯诸将无敢隐朕，皆言其情。吾所以有天下者何？项氏之所以失天下者何？」高起、王陵对曰：<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="孟康曰：「姓高，名起。」瓒曰：「汉帝年纪高帝时有信平侯臣陵、都武侯臣起。魏相丙吉奏事高帝时奏事有将军臣陵、臣起。」">【集解】</span>
</span>「陛下慢而侮人，项羽仁而爱人。然陛下使人攻城略地，所降下者因以予之，与天下同利也。项羽妒贤嫉能，有功者害之，贤者疑之，战胜而不予人功，得地而不予人利，此所以失天下也。」高祖曰：「公知其一，未知其二。夫运筹策帷帐之中，决胜于千里之外，吾不如子房。镇国家，抚百姓，给馈饟，不绝粮道，吾不如萧何。连百万之军，战必胜，攻必取，吾不如韩信。此三者，皆人杰也，吾能用之，此吾所以取天下也。项羽有一范增而不能用，此其所以为我擒也。」</p>

<p>高祖欲长都雒阳，齐人刘敬说，乃留侯劝上入都关中，高祖是日驾，入都关中。六月，大赦天下。</p>

<p>十月，燕王臧荼反，攻下代地。高祖自将击之，得燕王臧荼。即立太尉卢绾为燕王。使丞相哙将兵攻代。</p>

<p>其秋，利几反，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="几音机。姓名也。项羽之将，为陈县令，降汉。高帝徵诸侯，利几恐，故反。">【正义】</span>
</span>高祖自将兵击之，利几走。利几者，项氏之将。项氏败，利几为陈公，不随项羽，亡降高祖，高祖侯之颍川。高祖至雒阳，举通侯籍召之，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="如淳曰：「得在通侯之籍。」">【集解】</span>
</span>而利几恐，故反。</p>

<p>六年，高祖五日一朝太公，如家人父子礼。太公家令说太公曰：「天无二日，土无二王。今高祖虽子，人主也；太公虽父，人臣也。柰何令人主拜人臣！如此，则威重不行。」后高祖朝，太公拥彗，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="李奇曰：「为恭也。如今卒持帚者也。」">【集解】</span>
</span>迎门却行。高祖大惊，下扶太公。太公曰：「帝，人主也，柰何以我乱天下法！」于是高祖乃尊太公为太上皇。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="蔡邕曰：「不言帝，非天子也。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="按：蔡邕云「不言帝，非天子也」。又按：本纪秦始皇追尊庄襄王为太上皇，已有故事矣。盖太上者，无上也。皇者德大于帝，欲尊其父，故号曰太上皇也。">【索隐】</span>
</span>心善家令言，<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="颜氏按：荀悦云「故虽天子必有尊也，无父犹设三老，况其存乎？家令之言过矣」。晋刘宝云「善其发悟己心，因得尊崇父号也」。">【索隐】</span>
</span>赐金五百斤。</p>

<p>十二月，人有上变事告楚王信谋反，上问左右，左右争欲击之。用陈平计，乃伪游云梦，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="韦昭曰：「在南郡华容县。」">【集解】</span>
</span>会诸侯于陈，楚王信迎，即因执之。是日，大赦天下。田肯<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="汉纪及汉书作「宵」，刘显云相传作「肯」也。">【索隐】</span>
</span>贺，因说高祖曰：「陛下得韩信，又治秦中。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="如淳曰：「时山东人谓关中为秦中。」">【集解】</span>
</span>秦，形胜之国，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="张晏曰：「秦地带山河，得形势之胜便者。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="韦昭云：「地形险固，故能胜人也。」">【索隐】</span>
</span>带河山之险，县隔千里，持戟百万，秦得百二焉。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="应劭曰：「河山之险，与诸侯相县隔，地绝千里，所以能禽诸侯者，得天下之利百二也。」李斐曰：「河山之险，由地势高，顺流而下易，故天下于秦悬隔千里，持戟百万，秦得百二焉。」苏林曰：「得百中之二焉。秦地险固，二万人足当诸侯百万人也。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="服虔云：「谓函谷关去长安千里为县隔。」按：文以河山险固形胜，其势如隔千里也。苏林曰：「百二，百中之二，二十万人也。」虞喜云：「百二者，得百之二。言诸侯持戟百万，秦地险固，一倍于天下，故云得百二焉，言倍之也，盖言秦兵当二百万也。『齐得十二』亦如之，故为东西秦，言势相敌，但立文相避，故云十二。言馀诸侯十万，齐地形胜亦倍于他国，当二十万人也。」">【索隐】</span>
</span>地埶便利，其以下兵于诸侯，譬犹居高屋之上建瓴水也。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="如淳曰：「瓴，盛水瓶也。居高屋之上而幡瓴水，言其向下之势易也。建音蹇。」晋灼曰：「许慎曰瓴，瓮似瓶者。」">【集解】</span>
</span>夫齐，东有琅邪、即墨之饶，南有泰山之固，西有浊河之限，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="晋灼曰：「齐西有平愿。河水东北过高唐，高唐即平愿也。孟津号黄河故曰浊河。」">【集解】</span>
</span>北有勃海之利。<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="崔浩云：「勃，旁跌也。旁跌出者，横在济北，故齐都赋云海旁出为勃，名曰勃海郡。」">【索隐】</span>
</span>地方二千里，持戟百万，县隔千里之外，<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="以言齐境阔不啻千里，故云「之外」也。">【索隐】</span>
</span>齐得十二焉。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="应劭曰：「齐得十之二，故齐湣王称东帝。后复归之，卒为秦所灭者，利钝之势异也。」李斐曰：「齐有山河之限，地方二千里，是与天下县隔也。设有持戟百万之众，齐得十中之二焉。百万十分之二，亦二十万也。但文相避耳。故言东西秦，其势亦敌也。」苏林曰：「十二，得十中之二，二十万人当百万。言齐虽固，不如秦二万乃当百万。」">【集解】</span>
</span>故此东西秦也。非亲子弟，莫可使王齐矣。」高祖曰：「善。」赐黄金五百斤。</p>

<p>后十馀日，封韩信为淮阴侯，分其地为二国。高祖曰将军刘贾数有功，以为荆王，<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="乃王吴地，在淮东也。姚察按：虞喜云「总言吴，别言荆者，以山命国也。今西南有荆山，在阳羡界。贾封吴地而号荆王，指取此义」。太康地理志阳羡县本名荆溪。">【索隐】</span>
</span>王淮东。弟交为楚王，王淮西。子肥为齐王，王七十馀城，民能齐言者皆属齐。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="汉书音义曰：「此言时民流移，故使齐言者还齐也。」">【集解】</span>
  <span class="annotation-btn" data-type="正义" data-content="按：言齐国形胜次于秦中，故封子肥七十馀城，近齐城邑，能齐言者咸割属齐。亲子，故大其都也。孟说恐非。">【正义】</span>
</span>乃论功，与诸列侯剖符行封。徙韩王信太愿。<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="信初都阳翟也。">【索隐】</span>
</span></p>

</div>

<!-- 弹窗 -->
<div id="overlay">
  <div id="popup">
    <span class="close-btn" title="关闭">×</span>
    <div id="popup-title"></div>
    <div id="popup-content"></div>
  </div>
</div>

<script>
  // 获取所有注解按钮
  const buttons = document.querySelectorAll('.annotation-btn');
  const overlay = document.getElementById('overlay');
  const popup = document.getElementById('popup');
  const popupTitle = document.getElementById('popup-title');
  const popupContent = document.getElementById('popup-content');
  const closeBtn = popup.querySelector('.close-btn');

  // 拖拽功能变量
  let isDragging = false;
  let offsetX, offsetY;

  // 开始拖拽
  popup.addEventListener('mousedown', (e) => {
    if (e.target === closeBtn) return;
    isDragging = true;
    offsetX = e.clientX - popup.getBoundingClientRect().left;
    offsetY = e.clientY - popup.getBoundingClientRect().top;
    popup.style.cursor = 'grabbing';
  });

  // 拖拽中
  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    popup.style.left = (e.clientX - offsetX) + 'px';
    popup.style.top = (e.clientY - offsetY) + 'px';
    popup.style.transform = 'none'; // 移除居中定位
  });

  // 结束拖拽
  document.addEventListener('mouseup', () => {
    isDragging = false;
    popup.style.cursor = 'move';
  });

  buttons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      const type = btn.getAttribute('data-type');
      const content = btn.getAttribute('data-content');
      popupTitle.textContent = type;
      popupContent.innerHTML = content.replace(/\n/g, '<br>');
      
      // 显示弹窗
      overlay.style.display = 'flex';
      
      // 初始居中定位
      popup.style.left = '50%';
      popup.style.top = '50%';
      popup.style.transform = 'translate(-50%, -50%)';
      
      e.stopPropagation();
    });
  });

  closeBtn.addEventListener('click', () => {
    overlay.style.display = 'none';
  });

  // 点击遮罩层关闭弹窗
  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) {
      overlay.style.display = 'none';
    }
  });
</script>

</body>
</html>