<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>史记·高祖本纪 - 深色版</title>
<style>
  body { 
    font-family: "宋体", serif; 
    line-height: 1.8;
    font-size: 1.8em;
    background-color: #222;
    color: #ddd;
    padding: 20px;
  }
  .text { 
    max-width: 900px; 
    margin: 0 auto;
    padding: 20px;
    background-color: #333;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
  }
  .annotation-btn {
    display: inline-block;
    background: #444;
    border: 1px solid #666;
    border-radius: 3px;
    padding: 0 4px;
    margin: 0 2px;
    cursor: pointer;
    font-size: 0.6em;
    color: #55aaff;
    vertical-align: middle;
  }
  .annotation-group {
    display: inline-flex;
    flex-wrap: nowrap;
    vertical-align: middle;
  }
  /* 弹窗样式 */
  #overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  #popup {
    background: #444;
    max-width: 700px;
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0,0,0,0.8);
    position: absolute;
    font-size: 0.7em;
    line-height: 1.6;
    color: #eee;
    border: 1px solid #666;
    cursor: move;
  }
  #popup-title {
    font-weight: bold;
    margin-bottom: 10px;
    color: #55aaff;
    border-bottom: 1px solid #666;
    padding-bottom: 5px;
  }
  #popup .close-btn {
    position: absolute;
    top: 10px; right: 15px;
    font-size: 24px;
    font-weight: bold;
    cursor: pointer;
    color: #999;
  }
  #popup .close-btn:hover {
    color: #ddd;
  }
  h1 {
    text-align: center;
    color: #f8f8f8;
    margin-bottom: 30px;
    border-bottom: 2px solid #555;
    padding-bottom: 10px;
  }
</style>
</head>
<body>
<div class="text">
<h1>卷八 高祖本纪第八</h1>

<p>高祖，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="骃案汉书音义曰：「讳邦。」张晏曰：「礼谥法无『高』，以为功最高而为汉帝之太祖，故特起名焉。」">【集解】</span>
</span>沛丰邑中阳里人，姓刘氏，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="李斐曰：「沛，小沛也。刘氏随魏徙大梁，移在丰，居中阳里。」孟康曰：「后沛为郡，丰为县。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="按：高祖，刘累之后，别食邑于范，士会之裔，留秦不反，更为刘氏。刘氏随魏徙大梁，后居丰，今言「姓刘氏」者是。左传「天子建德，因生以赐姓，胙之土，命之氏。诸侯以字为谥，因以为族」。说者以为天子赐姓命氏，诸侯命族，族者氏之别名也。然则因生赐姓，若舜生姚墟，以为姚姓，封之于虞，即号有虞氏是也。若其后子孙更不得赐姓，即遂以虞为姓，云「姓虞氏」。今此云「姓刘氏」，亦其义也。故姓者，所以统系百代，使不别也。氏者，所以别子孙之所出。又系本篇言姓则在上，言氏则在下，故五帝本纪云「禹姓姒氏，契姓子氏，弃姓姬氏」是也。按：汉改泗水为沛郡，治相城，故注以沛为小沛也。">【索隐】</span>
</span>字季。<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="按：汉书「名邦，字季」，此单云字，亦又可疑。按：汉高祖长兄名伯，次名仲，不见别名，则季亦是名也。故项岱云「高祖小字季，即位易名邦，后因讳邦不讳季，所以季布犹称姓也」。">【索隐】</span>
</span>父曰太公，<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="皇甫谧云：「名执嘉。」王符云：「太上皇名煓。」与湍同音。">【索隐】</span>
  <span class="annotation-btn" data-type="正义" data-content="春秋握成图云：「刘媪梦赤鸟如龙，戏己，生执嘉。」">【正义】</span>
</span>母曰刘媪。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="文颖曰：「幽州及汉中皆谓老妪为媪。」孟康曰：「长老尊称也。左师谓太后曰『媪爱燕后，贤长安君』。礼乐志『地神曰媪』。媪，母别名也，音乌老反。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="韦昭云：「媪，妇人长老之称。」皇甫谧云：「媪盖姓王氏。」又据春秋握成图以为执嘉妻含始，游洛池，生刘季。诗含神雾亦云。姓字皆非正史所出，盖无可取。今近有人云「母温氏」。贞时打得班固泗水亭长古石碑文，其字分明作「温」字，云「母温氏」。贞与贾膺复、徐彦伯、魏奉古等执对反覆，沉汉古人未闻，聊记异见，于何取实也？孟康注「地神曰媪」者，礼乐志云「后土富媪」，张晏曰「坤为母，故称媪」是也。">【索隐】</span>
  <span class="annotation-btn" data-type="正义" data-content="帝王世纪云：「汉昭灵后含始游洛池，有宝鸡衔赤珠出炫日，后吞之，生高祖。」诗含神雾亦云。含始即昭灵后也。陈留风俗传云：「沛公起兵野战，丧皇妣于黄乡，天下平定，使使者以梓宫招幽魂，于是丹蛇在水自洒，跃入梓宫，其浴处有遗发，谥曰昭灵夫人。」汉仪注云：「高帝母起兵时死小黄城，后于小黄立陵庙。」括地志云：「小黄故城在汴州陈留县东北三十三里。」颜师古云：「皇甫谧等妄引谶记，好奇骋博，强为高祖父母名字，皆非正史所说，盖无取焉。宁有刘媪本姓实存，史迁肯不详载？即理而言，断可知矣。」">【正义】</span>
</span>其先刘媪尝息大泽之陂，梦与神遇。是时雷电晦冥，太公往视，则见蛟龙于其上。<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="按：诗含神雾云「赤龙感女媪，刘季兴」。又广雅云「有鳞曰蛟龙」。">【索隐】</span>
</span>已而有身，遂产高祖。</p>

<p>高祖为人，隆准而龙颜，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="服虔曰：「准音拙。」应劭曰：「隆，高也。准，颊权准也。颜，额颡也，齐人谓之颡，汝南、淮、泗之间曰颜。」文颖曰：「准，鼻也。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="「始皇蜂目长准，盖鼻高起。」文颖曰：「高祖感龙而生，故其颜貌似龙，长颈而高鼻。」">【索隐】</span>
</span>美须髯，左股有七十二黑子。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="河图云：「帝刘季日角戴胜，斗胸，龟背，龙股，长七尺八寸。」合诚图云：「赤帝体为朱鸟，其表龙颜，多黑子。」按：左，阳也。七十二黑子者，赤帝七十二日之数也。木火土金水各居一方，一岁三百六十日，四方分之，各得九十日，土居中央，并索四季，各十八日，俱成七十二日，故高祖七十二黑子者，应火德七十二日之徵也。有一本「七十日」者，非也。许北人呼为「黡子」，吴楚谓之「志」。志，记也。">【正义】</span>
</span>仁而爱人，喜施，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="喜，许记反。施，尸跂反。">【正义】</span>
</span>意豁如也。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="服虔曰：「豁，达也。」">【集解】</span>
</span>常有大度，不事家人生产作业。及壮，试为吏，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="应劭曰：「试补吏。」">【集解】</span>
</span>为泗水亭长，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="秦法，十里一亭，十亭一乡。亭长，主亭之吏。高祖为泗水亭长也。国语有「寓室」，即今之亭也。亭长，盖今里长也。民有讼诤，吏留平辨，得成其政。括地志云：「泗水亭在徐州沛县东一百步，有高祖庙也。」">【正义】</span>
</span>廷中吏无所不狎侮，好酒及色。常从王媪、武负贳酒。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="韦昭曰：「贳，赊也。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="邹诞生贳音世，与字林声韵并同。又音时夜反。广雅云：「贳，赊也。」说文云：「贳，贷也。」临淮有贳阳县。汉书功臣表「贳阳侯刘缠」，而此纪作「射阳」，则「贳」亦「射」也。">【索隐】</span>
</span>醉卧，武负、王媪见其上常有龙，怪之。高祖每酤留饮，酒雠数倍。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="如淳曰：「雠亦售。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="乐彦云借「雠」为「售」，盖古字少，假借耳。今亦依字读。盖高祖大度，既贳饮，且雠其数倍价也。">【索隐】</span>
</span>及见怪，岁竟，此两家常折券弃责。<span class="annotation-group">
  <span class="annotation-btn" data-type="索隐" data-content="周礼小司寇云：「听称责以傅别。」郑司农云：「傅别，券书也。」康成云：「傅别，谓大手书于札中而别之也。」然则古用简札书，故可折。至岁终，总弃不责也。">【索隐】</span>
</span></p>

<p>高祖常繇咸阳，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="应劭曰：「徭役也。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="韦昭云：「秦所都，武帝更名渭城。」应劭云：「今长安也。」按：关中记云「孝公都咸阳，今渭城是，在渭北。始皇都咸阳，今城南大城是也」。名咸阳者，山南曰阳，水北亦曰阳，其地在渭水之北，又在九嵏诸山之南，故曰咸阳。">【索隐】</span>
</span>纵观，观秦皇帝，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="包恺云：「上音馆，下音官。恣意，故纵观也。」">【正义】</span>
</span>喟然太息曰：「嗟乎，大丈夫当如此也！」</p>

<p>单父人吕公<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="骃案汉书音义曰：「单音善。父音斧。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="韦昭云：「单父，县名，属山阳。」崔浩云：「史失其名，但举姓而言公。」又按：汉书旧仪云「吕公，汝南新蔡人」。又相经云「魏人吕公，名文，字叔平」也。">【索隐】</span>
</span>善沛令，避仇从之客，因家沛焉。沛中豪桀吏闻令有重客，皆往贺。萧何为主吏，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="孟康曰：「主吏，功曹也。」">【集解】</span>
</span>主进，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="文颖曰：「主赋歛礼进，为之帅。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="郑氏云：「主赋歛礼钱也。」颜师古曰：「进者，会礼之财。字本作『赆』，声转为『进』。『宣帝数负进』，义与此同。」">【索隐】</span>
</span>令诸大夫曰：<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="大夫，客之贵者总称之。">【正义】</span>
</span>「进不满千钱，坐之堂下。」高祖为亭长，素易诸吏，乃绐为谒曰：「贺钱万」，实不持一钱。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="应劭曰：「绐，欺也。音殆。」">【集解】</span>
  <span class="annotation-btn" data-type="索隐" data-content="韦昭云：「绐，诈也。」刘氏云：「绐，欺负也。」何休云：「绐，疑也。」谓高祖素狎易诸吏，乃诈为谒。谒谓以札书姓名，若今之通刺，而兼载钱谷也。">【索隐】</span>
</span>谒入，吕公大惊，起，迎之门。吕公者，好相人，见高祖状貌，因重敬之，引入坐。萧何曰：「刘季固多大言，少成事。」高祖因狎侮诸客，遂坐上坐，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="上在果反。下在卧反。">【正义】</span>
</span>无所诎。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="音丘忽反。">【正义】</span>
</span>酒阑，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="文颖曰：「阑言希也。谓饮酒者半罢半在，谓之阑。」">【集解】</span>
</span>吕公因目固留高祖。<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="不敢对众显言，故目动而留之。">【正义】</span>
</span>高祖竟酒，后。吕公曰：「臣少好相人，<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="张晏曰：「古人相与语多自称臣，自卑下之道，若今人相与语皆自称仆。」">【集解】</span>
</span>相人多矣，无如季相，愿季自爱。臣有息女，<span class="annotation-group">
  <span class="annotation-btn" data-type="正义" data-content="息，生也。谓所生之女也。">【正义】</span>
</span>愿为季箕帚妾。」酒罢，吕媪怒吕公曰：「公始常欲奇此女，与贵人。沛令善公，求之不与，何自妄许与刘季？」吕公曰：「此非儿女子所知也。」卒与刘季。吕公女乃吕后也，生孝惠帝、鲁元公主。<span class="annotation-group">
  <span class="annotation-btn" data-type="集解" data-content="服虔曰：「元，长也。食邑于鲁。」韦昭曰：「元，谥也。」">【集解】</span>
  <span class="annotation-btn" data-type="正义" data-content="汉制，帝女曰「公主」，仪比诸侯；姊妹曰「长公主」，仪比诸侯王；姑曰「大长公主」，仪比诸侯王。">【正义】</span>
</span></p>

</div>

<!-- 弹窗 -->
<div id="overlay">
  <div id="popup">
    <span class="close-btn" title="关闭">×</span>
    <div id="popup-title"></div>
    <div id="popup-content"></div>
  </div>
</div>

<script>
  // 获取所有注解按钮
  const buttons = document.querySelectorAll('.annotation-btn');
  const overlay = document.getElementById('overlay');
  const popup = document.getElementById('popup');
  const popupTitle = document.getElementById('popup-title');
  const popupContent = document.getElementById('popup-content');
  const closeBtn = popup.querySelector('.close-btn');

  // 拖拽功能变量
  let isDragging = false;
  let offsetX, offsetY;

  // 开始拖拽
  popup.addEventListener('mousedown', (e) => {
    if (e.target === closeBtn) return;
    isDragging = true;
    offsetX = e.clientX - popup.getBoundingClientRect().left;
    offsetY = e.clientY - popup.getBoundingClientRect().top;
    popup.style.cursor = 'grabbing';
  });

  // 拖拽中
  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    popup.style.left = (e.clientX - offsetX) + 'px';
    popup.style.top = (e.clientY - offsetY) + 'px';
    popup.style.transform = 'none'; // 移除居中定位
  });

  // 结束拖拽
  document.addEventListener('mouseup', () => {
    isDragging = false;
    popup.style.cursor = 'move';
  });

  buttons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      const type = btn.getAttribute('data-type');
      const content = btn.getAttribute('data-content');
      popupTitle.textContent = type;
      popupContent.innerHTML = content.replace(/\n/g, '<br>');
      
      // 显示弹窗
      overlay.style.display = 'flex';
      
      // 初始居中定位
      popup.style.left = '50%';
      popup.style.top = '50%';
      popup.style.transform = 'translate(-50%, -50%)';
      
      e.stopPropagation();
    });
  });

  closeBtn.addEventListener('click', () => {
    overlay.style.display = 'none';
  });

  // 点击遮罩层关闭弹窗
  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) {
      overlay.style.display = 'none';
    }
  });
</script>

</body>
</html>