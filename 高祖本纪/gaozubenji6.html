<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>注解示范</title>
<style>
  body { 
    font-family: "宋体", serif; 
    line-height: 1.8; 
    background-color: #222;
    color: #ddd;
    font-size: 1.2em;
  }
  .text { 
    max-width: 800px; 
    margin: 20px auto; 
    padding: 20px;
  }
  .annotation-btn {
    display: inline-block;
    background: #444;
    border: 1px solid #666;
    border-radius: 3px;
    padding: 0 4px;
    margin-left: 4px;
    cursor: pointer;
    font-size: 0.85em;
    color: #55aaff;
  }
  /* 弹窗背景层 */
  #overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  /* 弹窗主体 */
  #popup {
    background: #333;
    max-width: 600px;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 12px rgba(0,0,0,0.5);
    position: relative;
    font-size: 1em;
    color: #eee;
    border: 1px solid #555;
  }
  #popup h3 {
    margin-top: 0;
    font-weight: normal;
    font-size: 1.1em;
    color: #ccc;
  }
  #popup .close-btn {
    position: absolute;
    top: 8px; right: 12px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    color: #999;
  }
  #popup .close-btn:hover {
    color: #ddd;
  }
  /* 拼音标注 */
  .pinyin {
    position: relative;
    display: inline-block;
    cursor: pointer;
  }
  .pinyin-popup {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #444;
    color: #fff;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 0.8em;
    white-space: nowrap;
    display: none;
    z-index: 100;
  }
  .pinyin:hover .pinyin-popup {
    display: block;
  }
</style>
</head>
<body>
<div class="text">

<p>当是时，秦兵<span class="pinyin">彊<span class="pinyin-popup">qiáng</span></span>，常乘胜逐北，诸将莫利先入关。独项羽怨秦破项梁军，奋，<span class="annotation-btn" data-type="索隐" data-content="韦昭云：「愤，激也。」">【索隐】</span>愿与沛公西入关。怀王诸老将皆曰：「项羽为人<span class="pinyin">僄<span class="pinyin-popup">piào</span></span>悍猾贼。<span class="annotation-btn" data-type="索隐" data-content="说文云：「僄，疾也；悍，勇也。」方言云：「僄，轻也。」刘音匹妙反。猾贼，汉书作「祸贼」也。">【索隐】</span>项羽尝攻襄城，襄城无遗类，<span class="annotation-btn" data-type="集解" data-content="徐广曰：「遗，一作『噍』。噍，食也，音在妙反。」骃案：如淳曰「类无复有活而噍食者也。青州俗言无遗为无噍类」。">【集解】</span>皆坑之，诸所过无不残灭。且楚数进取，<span class="annotation-btn" data-type="集解" data-content="如淳曰：「楚谓陈涉也。数进取，多所攻取。」">【集解】</span>前陈王、<span class="annotation-btn" data-type="集解" data-content="汉书音义曰：「陈涉也。」">【集解】</span>项梁皆败。不如更遣长者扶义而西，<span class="annotation-btn" data-type="正义" data-content="遣长者扶持仁义而西，告谕秦长少，令降下也。告谕秦父兄。秦父兄苦其主久矣，今诚得长者往，毋侵暴，宜可下。今项羽僄悍，今">【正义】</span><span class="annotation-btn" data-type="集解" data-content="徐广曰：「一无此字。」">【集解】</span>不可遣。独沛公素宽大长者，可遣。」卒不许项羽，而遣沛公西略地，收陈王、项梁散卒。乃道<span class="pinyin">砀<span class="pinyin-popup">dàng</span></span><span class="annotation-btn" data-type="集解" data-content="汉书音义曰：「道由砀也。」">【集解】</span>至成阳，与<span class="pinyin">杠<span class="pinyin-popup">gāng</span></span>里<span class="annotation-btn" data-type="集解" data-content="汉书音义曰：「二县名。」">【集解】</span><span class="annotation-btn" data-type="索隐" data-content="成阳在济阴，韦昭云「在颖川」，非也。服虔云：「杠里，县名。」如淳云：「秦军所别屯地名也。」">【索隐】</span>秦军夹壁，破二军。楚军出兵击王离，大破之。<span class="annotation-btn" data-type="集解" data-content="徐广曰：「表云三年十月，攻破东郡尉及王离军于成武南。」">【集解】</span></p>

<p>沛公引兵西，遇彭越昌邑，<span class="annotation-btn" data-type="正义" data-content="地理志云昌邑县属山阳。括地志云：「在曹州成武县东北三十二里，有梁丘故城是也。」">【正义】</span>因与俱攻秦军，战不利。还至栗，<span class="annotation-btn" data-type="索隐" data-content="韦昭云：「县名，属沛。」">【索隐】</span>遇刚武侯，<span class="annotation-btn" data-type="集解" data-content="应劭曰：「楚怀王将也。」汉书音义曰：「功臣表云棘蒲刚侯陈武。武，一姓柴。『刚武侯』宜为『刚侯武』，魏将也。」瓒曰：「功臣表柴武以将军起薛，别救东阿，至霸上，入汉中，非怀王将也，又非魏将也，例未称谥。」">【集解】</span><span class="annotation-btn" data-type="正义" data-content="颜师古云：「史失其名姓，唯识其爵号，不知谁也，不当改为『刚侯武』。应氏以为怀王将，又云魏将，无据矣。」表六年三月封。孟、颜二人说是。">【正义】</span>夺其军，可四千馀人，并之。与魏将皇欣、魏申徒武蒲之军<span class="annotation-btn" data-type="正义" data-content="并魏将也。欣字或作「」，音许斤反。蒲，汉书作「满」，并通也。">【正义】</span>并攻昌邑，昌邑未拔。西过高阳。<span class="annotation-btn" data-type="集解" data-content="文颖曰：「聚邑名也，属陈留圉县。」瓒曰：「陈留传曰在雍丘西南。」">【集解】</span>郦食其<span class="annotation-btn" data-type="集解" data-content="郑德曰：「音历异基。」">【集解】</span>监门，曰：「诸将过此者多，吾视沛公大人长者。」乃求见说沛公。沛公方踞床，使两女子洗足。郦生不拜，长揖，曰：「足下必欲诛无道秦，不宜踞见长者。」于是沛公起，摄衣谢之，延上坐。食其说沛公袭陈留，<span class="annotation-btn" data-type="集解" data-content="汉书音义曰：「春秋传曰轻行无钟鼓曰袭。」">【集解】</span>得秦积粟。乃以郦食其为广野君，<span class="annotation-btn" data-type="索隐" data-content="韦昭云：「在山阳。」">【索隐】</span>郦商为将，将陈留兵，与偕攻开封，<span class="annotation-btn" data-type="索隐" data-content="韦昭云：「河南县。」">【索隐】</span>开封未拔。西与秦将杨熊战白马，<span class="annotation-btn" data-type="索隐" data-content="韦昭云：「东郡县。」">【索隐】</span><span class="annotation-btn" data-type="正义" data-content="括地志云：「白马故城在滑州卫南县西南二十四里。戴延之西征记云白马城，故卫之漕邑。」">【正义】</span>又战曲遇<span class="annotation-btn" data-type="索隐" data-content="徐广云「在中牟」。韦昭云「志不载」。司马彪郡国志中牟有曲遇聚也。">【索隐】</span>东，大破之。杨熊走之荥阳，<span class="annotation-btn" data-type="索隐" data-content="韦昭云：「故卫地，河南县也。」">【索隐】</span>二世使使者斩以徇。<span class="annotation-btn" data-type="集解" data-content="徐广曰：「四月。」">【集解】</span>南攻颍阳，屠之。因张良遂略韩地<span class="pinyin">轘<span class="pinyin-popup">huán</span></span><span class="pinyin">辕<span class="pinyin-popup">yuán</span></span>。<span class="annotation-btn" data-type="集解" data-content="文颖曰：「河南新郑南至颍川南北，皆韩地也。以良累世相韩，故因之。」瓒曰：「轘辕，险道名，在缑氏东南。」">【集解】</span><span class="annotation-btn" data-type="索隐" data-content="按：十三州志云河南缑氏县，以山为名。一云轘辕凡九十二曲，是险道也。">【索隐】</span></p>

<p>当是时，赵别将司马卬方欲渡河入关，沛公乃北攻平阴，<span class="annotation-btn" data-type="集解" data-content="地理志河南有平阴县，今河阴是也。">【集解】</span>绝河津。南，战雒阳东，军不利，还至阳城，<span class="annotation-btn" data-type="正义" data-content="今洛州，夏禹所都。">【正义】</span>收军中马骑，与南阳守<span class="pinyin">齮<span class="pinyin-popup">yǐ</span></span><span class="annotation-btn" data-type="索隐" data-content="音舣。许慎以为侧齧也。">【索隐】</span>战<span class="pinyin">犨<span class="pinyin-popup">chōu</span></span>东，<span class="annotation-btn" data-type="集解" data-content="地理志南阳有犨县。">【集解】</span>破之。略南阳郡，南阳守齮走，保城守宛。<span class="annotation-btn" data-type="正义" data-content="守音狩。宛，于元反。括地志云：「南阳县故城在宛大城之南隅，其西南有二面，皆故宛城。」">【正义】</span>沛公引兵过而西。张良谏曰：「沛公虽欲急入关，秦兵尚众，距险。今不下宛，宛从后击，彊秦在前，此危道也。」于是沛公乃夜引兵从他道还，更旗帜，黎明，<span class="annotation-btn" data-type="索隐" data-content="音犁。黎犹比也，谓比至天明也。汉书作「迟」，音值。值，待也，谓待天明，皆言早意也。">【索隐】</span>围宛城三匝。<span class="annotation-btn" data-type="索隐" data-content="按：楚汉春秋曰「上南攻宛，匿旌旗，人衔枚，马东舌，鸡未鸣，围宛城三匝」也。">【索隐】</span>南阳守欲自刭。其舍人陈恢曰：「死未晚也。」乃逾城见沛公，曰：「臣闻足下约，先入咸阳者王之。今足下留守宛。宛，大郡之都也，连城数十，人民众，积蓄多，吏人自以为降必死，故皆坚守乘城。<span class="annotation-btn" data-type="索隐" data-content="李奇曰：「乘，守也。」韦昭曰：「乘，登也。」">【索隐】</span>今足下尽日止攻，士死伤者必多；引兵去宛，宛必随足下后：足下前则失咸阳之约，后又有彊宛之患。为足下计，莫若约降，封其守，因使止守，引其甲卒与之西。诸城未下者，闻声争开门而待，足下通行无所累。」沛公曰：「善。」<span class="annotation-btn" data-type="集解" data-content="徐广曰：「七月也。」">【集解】</span>乃以宛守为殷侯，<span class="annotation-btn" data-type="索隐" data-content="韦昭曰：「在河内。」">【索隐】</span>封陈恢千户。引兵西，无不下者。至丹水，<span class="annotation-btn" data-type="索隐" data-content="韦昭曰：「在河内。」">【索隐】</span><span class="annotation-btn" data-type="正义" data-content="括地志云：「故丹城在邓州内乡县西南百三十里，南去丹水二百步。汲冢纪年云后稷放帝子丹朱于丹水是也。舆地志云秦为丹水县也。地理志云丹水县属弘农郡。抱朴子云『丹水出丹鱼，先夏至十日，夜伺之，鱼浮水侧，光照如火，网而取之，割其血以涂足，可以步行水上，长居川中不溺』。」">【正义】</span>高武侯鳃、<span class="annotation-btn" data-type="集解" data-content="苏林曰：「鳃音『鱼鳃』之『鳃』。」晋灼曰：「功臣表戚鳃也。」">【集解】</span>襄侯王陵降西陵。<span class="annotation-btn" data-type="集解" data-content="韦昭曰：「汉封王陵为安国侯，初起兵时在南阳，南阳有穰县，疑『襄』当为『穰』，而无『禾』，字省耳。今『邵公』或作『召』字，此类多矣。」瓒曰：「时韩成封穰侯，江夏有襄，是陵所封。」">【集解】</span><span class="annotation-btn" data-type="索隐" data-content="按：王陵封安国侯，是定天下为丞相时封耳。此言襄侯，当如臣瓒解，盖初封江夏之襄也。">【索隐】</span>还攻胡阳，<span class="annotation-btn" data-type="集解" data-content="一云「陵」。">【集解】</span><span class="annotation-btn" data-type="索隐" data-content="韦昭曰：「南阳县。」">【索隐】</span>遇番君别将梅<span class="pinyin">鋗<span class="pinyin-popup">xuān</span></span>，与皆，降析、郦。<span class="annotation-btn" data-type="集解" data-content="如淳曰：「持益反。」">【集解】</span><span class="annotation-btn" data-type="索隐" data-content="邹诞生音锡。郦音历，苏林、如淳音掷。析属弘农，郦属南阳，出地理志。而左传云析一名白羽。颜师古云「析，今内乡县。郦，今菊潭县」。">【索隐】</span>遣魏人宁昌使秦，使者未来。是时章邯已以军降项羽于赵矣。</p>

</div>

<!-- 弹窗 -->
<div id="overlay">
  <div id="popup">
    <span class="close-btn" title="关闭">×</span>
    <h3 id="popup-title"></h3>
    <div id="popup-content"></div>
  </div>
</div>

<script>
  // 获取所有注解按钮
  const buttons = document.querySelectorAll('.annotation-btn');
  const overlay = document.getElementById('overlay');
  const popup = document.getElementById('popup');
  const popupTitle = document.getElementById('popup-title');
  const popupContent = document.getElementById('popup-content');
  const closeBtn = popup.querySelector('.close-btn');

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const type = btn.getAttribute('data-type');
      const content = btn.getAttribute('data-content');
      popupTitle.textContent = '注解【' + type + '】';
      popupContent.textContent = content;
      overlay.style.display = 'flex';
    });
  });

  closeBtn.addEventListener('click', () => {
    overlay.style.display = 'none';
  });

  // 点击遮罩层关闭弹窗
  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) {
      overlay.style.display = 'none';
    }
  });
</script>

</body>
</html>