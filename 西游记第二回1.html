<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>西游记阅读器 - 第二回</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
      font-family: "微软雅黑", sans-serif;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #textContainer {
      text-align: center;
      max-width: 90%;
      padding: 20px;
    }

    .sentence {
      font-size: 60px;
      line-height: 1.5;
      margin: 0 auto;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
    }

    .sentence.active {
      opacity: 1;
    }

    .hanzi {
      display: inline-block;
      min-width: 60px;
      opacity: 0;
      transform: scale(0.5);
      transition: all 0.5s ease-out;
      cursor: pointer;
      position: relative;
    }

    .hanzi.show {
      opacity: 1;
      transform: scale(1);
    }

    .hanzi.highlight {
      color: #00fff7;
      text-shadow: 0 0 10px #00fff7;
    }

    .hanzi .pinyin {
      position: absolute;
      top: -35px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 20px;
      background: rgba(0,0,0,0.7);
      padding: 2px 5px;
      border-radius: 3px;
      display: none;
    }

    .hanzi:hover .pinyin {
      display: block;
    }

    #controls {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
    }

    button {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 1px solid white;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s;
    }

    button:hover {
      background: rgba(255,255,255,0.3);
    }

    #startOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 1000;
    }

    #startButton {
      padding: 15px 30px;
      font-size: 24px;
      background: #00fff7;
      color: #0f2027;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s, background 0.3s;
    }

    #startButton:hover {
      transform: scale(1.05);
      background: #00e6d6;
    }

    #overlayText {
      margin-bottom: 30px;
      font-size: 28px;
      color: #fff;
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="textContainer"></div>
  <div id="controls">
    <button id="prevBtn">上一句</button>
    <button id="pauseBtn">暂停</button>
    <button id="nextBtn">下一句</button>
  </div>

  <div id="startOverlay">
    <div id="overlayText">西游记阅读器 - 第二回<br>悟彻菩提真妙理 断魔归本合元神</div>
    <button id="startButton">开始阅读</button>
  </div>

  <script>
    const sentences = [
      "神话表美猴王得了姓名，怡然踊跃，对菩提前作礼启谢。",
      "那祖师即命大众引孙悟空出二门外，教他洒扫应对，进退周旋之节。",
      "众仙奉行而出。悟空到门外，又拜了大众师兄，就于廊庑之间，安排寝处。",
      "次早，与众师兄学言语礼貌，讲经论道，习字焚香，每日如此。",
      "闲时即扫地锄园，养花修树，寻柴燃火，挑水运浆。凡所用之物，无一不备。",
      "在洞中不觉倏六七年。一日，祖师登坛高坐，唤集诸仙，开讲大道。真个是：",
      "天花乱坠，地涌金莲。妙演三乘教，精微万法全。",
      "慢摇麈尾喷珠玉，响振雷霆动九天。",
      "说一会道，讲一会禅，三家配合本如然。",
      "开明一字皈诚理，指引无生了性玄。",
      "孙悟空在旁闻讲，喜得他抓耳挠腮，眉花眼笑。忍不住手之舞之，足之蹈之。",
      "忽被祖师看见，叫孙悟空道：\"你在班中，怎么颠狂跃舞，不听我讲？\"",
      "悟空道：\"弟子诚心听讲，听到老师父妙音处，喜不自胜，故不觉作此踊跃之状。望师父恕罪！\"",
      "祖师道：\"你既识妙音，我且问你，你到洞中多少时了？\"",
      "悟空道：\"弟子本来懵懂，不知多少时节。只记得灶下无火，常去山后打柴，见一山好桃树，我在那里吃了七次饱桃矣。\"",
      "祖师道：\"那山唤名烂桃山。你既吃七次，想是七年了。你今要从我学些什么道？\"",
      "悟空道：\"但凭尊师教诲，只是有些道气儿，弟子便就学了。\"",
      "祖师道：\"'道'字门中有三百六十傍门，傍门皆有正果。不知你学那一门哩？\"",
      "悟空道：\"凭尊师意思。弟子倾心听从。\"",
      "祖师道：\"我教你个'术'字门中之道，如何？\"",
      "悟空道：\"术门之道怎么说？\"",
      "祖师道：\"术字门中，乃是些请仙扶鸾，问卜揲蓍，能知趋吉避凶之理。\"",
      "悟空道：\"似这般可得长生么？\"",
      "祖师道：\"不能！不能！\"",
      "悟空道：\"不学！不学！\"",
      "祖师道：\"教你'静'字门中之道，如何？\"",
      "悟空道：\"静字门中，是甚正果？\"",
      "祖师道：\"此是休粮守谷，清静无为，参禅打坐，戒语持斋，或睡功，或立功，并入定坐关之类。\"",
      "悟空道：\"这般也能长生么？\"",
      "祖师道：\"也似'窑头土坯'。\"",
      "悟空笑道：\"师父果有些滴。一行说我不会打市语。怎么谓之'窑头土坯'？\"",
      "祖师道：\"就如那窑头上，造成砖瓦之坯，虽已成形，尚未经水火煅炼，一朝大雨滂沱，他必滥矣。\"",
      "悟空道：\"也不长远。不学！不学！\"",
      "祖师道：\"教你'动'字门中之道，如何？\"",
      "悟空道：\"动门之道，却又怎样？\"",
      "祖师道：\"此是有为有作，采阴补阳，攀弓踏弩，摩脐过气，用方炮制，烧茅打鼎，进红铅，炼秋石，并服妇乳之类。\"",
      "悟空道：\"似这等也得长生么？\"",
      "祖师道：\"此欲长生，亦如'水中捞月'。\"",
      "悟空道：\"师父又来了！怎么叫做'水中捞月'？\"",
      "祖师道：\"月在长空，水中有影，虽然看见，只是无捞摸处，到底只成空耳。\"",
      "悟空道：\"也不学！不学！\"",
      "祖师闻言，咄的一声，跳下高台，手持戒尺，指定悟空道：\"你这猢狲，这般不学，那般不学，却待怎么？\"",
      "走上前，将悟空头上打了三下，倒背着手，走入里面，将中门关了，撇下大众而去。",
      "唬得那一班听讲的，人人惊惧，皆怨悟空道：\"你这泼猴，十分无状！师父传你道法，如何不学，却与师父顶嘴？这番冲撞了他，不知几时才出来呵！\"",
      "此时俱甚报怨他，又鄙贱嫌恶他。悟空一些儿也不恼，只是满脸陪笑。",
      "原来那猴王，已打破盘中之谜，暗暗在心，所以不与众人争竞，只是忍耐无言。",
      "祖师打他三下者，教他三更时分存心；倒背着手，走入里面，将中门关上者，教他从后门进步，秘处传他道也。",
      "当日悟空与众等，喜喜欢欢，在三星仙洞之前，盼望天色，急不能到晚。",
      "及黄昏时，却与众就寝，假合眼，定息存神。山中又没支更传箭，不知时分，只自家将鼻孔中出入之气调定。",
      "约到子时前后，轻轻的起来，穿了衣服，偷开前门，躲离大众，走出外，抬头观看。正是那：",
      "月明清露冷，八极迥无尘。深树幽禽宿，源头水溜汾。",
      "飞萤光散影，过雁字排云。正直三更候，应该访道真。",
      "你看他从旧路径至后门外，只见那门儿半开半掩。悟空喜道：\"老师父果然注意与我传道，故此开着门也。\"",
      "即曳步近前，侧身进得门里，只走到祖师寝榻之下。见祖师蜷局身躯，朝里睡着了。",
      "悟空不敢惊动，即跪在榻前。那祖师不多时觉来，舒开两足，口中自吟道：",
      "\"难！难！难！道最玄，莫把金丹作等闲。",
      "不遇至人传妙诀，空言口困舌头干！\"",
      "悟空应声叫道：\"师父，弟子在此跪候多时。\"",
      "祖师闻得声音是悟空，即起披衣，盘坐喝道：\"这猢狲！你不在前边去睡，却来我这后边作甚？\"",
      "悟空道：\"师父昨日坛前对众相允，教弟子三更时候，从后门里传我道理，故此大胆径拜老爷榻下。\"",
      "祖师听说，十分欢喜，暗自寻思道：\"这厮果然是个天地生成的！不然，何就打破我盘中之暗谜也？\"",
      "悟空道：\"此间更无六耳，止只弟子一人，望师父大舍慈悲，传与我长生之道罢，永不忘恩！\"",
      "祖师道：\"你今有缘，我亦喜说。既识得盘中暗谜，你近前来，仔细听之，当传与你长生之妙道也。\"",
      "悟空叩头谢了，洗耳用心，跪于榻下。祖师云：",
      "\"显密圆通真妙诀，惜修生命无他说。",
      "都来总是精气神，谨固牢藏休漏泄。",
      "休漏泄，体中藏，汝受吾传道自昌。",
      "口诀记来多有益，屏除邪欲得清凉。",
      "得清凉，光皎洁，好向丹台赏明月。",
      "月藏玉兔日藏乌，自有龟蛇相盘结。",
      "相盘结，性命坚，却能火里种金莲。",
      "攒簇五行颠倒用，功完随作佛和仙。\"",
      "此时说破根源，悟空心灵福至，切切记了口诀，对祖师拜谢深恩，即出后门观看。",
      "但见东方天色微舒白，西路金光大显明。依旧路，转到前门，轻轻的推开进去，坐在原寝之处，",
      "故将床铺摇响道：\"天光了！天光了！起耶！\"那大众还正睡哩，不知悟空已得了好事。",
      "当日起来打混，暗暗维持，子前午后，自己调息。",
      "却早过了三年，祖师复登宝座，与众说法。谈的是公案比语，论的是外像包皮。",
      "忽问：\"悟空何在？\"悟空近前跪下：\"弟子有。\"",
      "祖师道：\"你这一向修些什么道来？\"悟空道：\"弟子近来法性颇通，根源亦渐坚固矣。\"",
      "祖师道：\"你既通法性，会得根源，已注神体，却只是防备着'三灾利害'。\"",
      "悟空听说，沉吟良久道：\"师父之言谬矣。我尝闻道高德隆，与天同寿；水火既济，百病不生，却怎么有个'三灾利害'？\"",
      "祖师道：\"此乃非常之道：夺天地之造化，侵日月之玄机；丹成之后，鬼神难容。",
      "虽驻颜益寿，但到了五百年后，天降雷灾打你，须要见性明心，预先躲避。",
      "躲得过，寿与天齐；躲不过，就此绝命。",
      "再五百年后，天降火灾烧你。这火不是天火，亦不是凡火，唤做'阴火'。",
      "自本身涌泉穴下烧起，直透泥垣宫，五脏成灰，四肢皆朽，把千年苦行，俱为虚幻。",
      "再五百年，又降风灾吹你。这风不是东南西北风，不是和熏金朔风，亦不是花柳松竹风，唤做'赑风'。",
      "自囟门中吹入六腑，过丹田，穿九窍，骨肉消疏，其身自解。所以都要躲过。\"",
      "悟空闻说，毛骨悚然，叩头礼拜道：\"万望老爷垂悯，传与躲避三灾之法，到底不敢忘恩。\"",
      "祖师道：\"此亦无难，只是你比他人不同，故传不得。\"",
      "悟空道：\"我也头圆顶天，足方履地，一般有九窍四肢，五脏六腑，何以比人不同？\"",
      "祖师道：\"你虽然像人，却比人少腮。\"原来那猴子孤拐面，凹脸尖嘴。",
      "悟空伸手一摸，笑道：\"师父没成算！我虽少腮，却比人多这个嗉袋，亦可准折过也。\"",
      "祖师说：\"也罢，你要学那一般？有一般天罡数，该三十六般变化；有一般地煞数，该七十二般变化。\"",
      "悟空道：\"弟子愿多里捞摸，学一个地煞变化罢。\"",
      "祖师道：\"既如此，上前来，传与你口诀。\"遂附耳低言，不知说了些什么妙法。",
      "这猴王也是他一窍通时百窍通，当时习了口诀，自修自炼，将七十二般变化，都学成了。",
      "忽一日，祖师与众门人在三星洞前戏玩晚景。祖师道：\"悟空，事成了未曾？\"",
      "悟空道：\"多蒙师父海恩，弟子功果完备，已能霞举飞升也。\"",
      "祖师道：\"你试飞举我看。\"",
      "悟空弄本事，将身一耸，打了个连扯跟头，跳离地有五六丈，踏云霞去勾有顿饭功夫，返复不上三里远近，落在面前，叉手道：\"师父，这就是飞举腾云了。\"",
      "祖师笑道：\"这个算不得腾云，只算得爬云而已。自古道：'神仙朝游北海暮苍梧。'",
      "似你这半日，去不上三里，即爬云也还算不得哩！\"",
      "悟空道：\"怎么为'朝游北海暮苍梧'？\"",
      "祖师道：\"凡腾云之辈，早辰起自北海，游过东海、西海、南海、复转苍梧，苍梧者却是北海零陵之语话也。",
      "将四海之外，一日都游遍，方算得腾云。\"",
      "悟空道：\"这个却难！却难！\"",
      "祖师道：\"世上无难事，只怕有心人。\"",
      "悟空闻得此言，叩头礼拜，启道：\"师父，'为人须为彻'，索性舍个大慈悲，将此腾云之法，一发传与我罢，决不敢忘恩。\"",
      "祖师道：\"凡诸仙腾云，皆跌足而起，你却不是这般。我才见你去，连扯方才跳上。",
      "我今只就你这个势，传你个'筋斗云'罢。\"",
      "悟空又礼拜恳求，祖师却又传个口诀道：\"这朵云，捻着诀，念动真言，攒紧了拳，对身一抖，跳将起来，一筋斗就有十万八千里路哩！\"",
      "大众听说，一个个嘻嘻笑道：\"悟空造化！若会这个法儿，与人家当铺兵，送文书，递报单，不管那里都寻了饭吃！\"",
      "师徒们天昏各归洞府。这一夜，悟空即运神炼法，会了筋斗云。",
      "逐日家无拘无束，自在逍遥此一长生之美。"
    ];

    const pinyinMap = {
      "神": "shén", "话": "huà", "表": "biǎo", "美": "měi", "猴": "hóu", 
      "王": "wáng", "得": "dé", "了": "le", "姓": "xìng", "名": "míng", 
      "怡": "yí", "然": "rán", "踊": "yǒng", "跃": "yuè", "对": "duì", 
      "菩": "pú", "提": "tí", "前": "qián", "作": "zuò", "礼": "lǐ", 
      "启": "qǐ", "谢": "xiè", "那": "nà", "祖": "zǔ", "师": "shī", 
      "即": "jí", "命": "mìng", "大": "dà", "众": "zhòng", "引": "yǐn", 
      "孙": "sūn", "悟": "wù", "空": "kōng", "出": "chū", "二": "èr", 
      "门": "mén", "外": "wài", "教": "jiào", "他": "tā", "洒": "sǎ", 
      "扫": "sǎo", "应": "yìng", "对": "duì", "进": "jìn", "退": "tuì", 
      "周": "zhōu", "旋": "xuán", "之": "zhī", "节": "jié", "仙": "xiān", 
      "奉": "fèng", "行": "xíng", "而": "ér", "到": "dào", "又": "yòu", 
      "拜": "bài", "兄": "xiōng", "就": "jiù", "于": "yú", "廊": "láng", 
      "庑": "wǔ", "间": "jiān", "安": "ān", "排": "pái", "寝": "qǐn", 
      "处": "chù", "次": "cì", "早": "zǎo", "学": "xué", "言": "yán", 
      "语": "yǔ", "貌": "mào", "讲": "jiǎng", "经": "jīng", "论": "lùn", 
      "道": "dào", "习": "xí", "字": "zì", "焚": "fén", "香": "xiāng", 
      "每": "měi", "日": "rì", "如": "rú", "此": "cǐ", "闲": "xián", 
      "时": "shí", "地": "dì", "锄": "chú", "园": "yuán", "养": "yǎng", 
      "花": "huā", "修": "xiū", "树": "shù", "寻": "xún", "柴": "chái", 
      "燃": "rán", "火": "huǒ", "挑": "tiāo", "水": "shuǐ", "运": "yùn", 
      "浆": "jiāng", "凡": "fán", "所": "suǒ", "用": "yòng", "物": "wù", 
      "无": "wú", "一": "yī", "不": "bù", "备": "bèi", "在": "zài", 
      "洞": "dòng", "中": "zhōng", "觉": "jué", "倏": "shū", "六": "liù", 
      "七": "qī", "年": "nián", "一": "yī", "登": "dēng", "坛": "tán", 
      "高": "gāo", "坐": "zuò", "唤": "huàn", "集": "jí", "诸": "zhū", 
      "开": "kāi", "真": "zhēn", "个": "gè", "是": "shì", "天": "tiān", 
      "花": "huā", "乱": "luàn", "坠": "zhuì", "涌": "yǒng", "金": "jīn", 
      "莲": "lián", "妙": "miào", "演": "yǎn", "三": "sān", "乘": "shèng", 
      "教": "jiào", "精": "jīng", "微": "wēi", "万": "wàn", "法": "fǎ", 
      "全": "quán", "慢": "màn", "摇": "yáo", "麈": "zhǔ", "尾": "wěi", 
      "喷": "pēn", "珠": "zhū", "玉": "yù", "响": "xiǎng", "振": "zhèn", 
      "雷": "léi", "霆": "tíng", "动": "dòng", "九": "jiǔ", "说": "shuō", 
      "会": "huì", "禅": "chán", "家": "jiā", "配": "pèi", "合": "hé", 
      "本": "běn", "然": "rán", "明": "míng", "字": "zì", "皈": "guī", 
      "诚": "chéng", "理": "lǐ", "指": "zhǐ", "引": "yǐn", "无": "wú", 
      "生": "shēng", "了": "liǎo", "性": "xìng", "玄": "xuán", "旁": "páng", 
      "闻": "wén", "喜": "xǐ", "抓": "zhuā", "耳": "ěr", "挠": "náo", 
      "腮": "sāi", "眉": "méi", "眼": "yǎn", "笑": "xiào", "忍": "rěn", 
      "住": "zhù", "手": "shǒu", "舞": "wǔ", "足": "zú", "蹈": "dǎo", 
      "忽": "hū", "被": "bèi", "看": "kàn", "见": "jiàn", "班": "bān", 
      "怎": "zěn", "么": "me", "颠": "diān", "狂": "kuáng", "跃": "yuè", 
      "听": "tīng", "弟": "dì", "子": "zǐ", "诚": "chéng", "心": "xīn", 
      "音": "yīn", "处": "chù", "胜": "shèng", "故": "gù", "状": "zhuàng", 
      "望": "wàng", "恕": "shù", "罪": "zuì", "既": "jì", "识": "shí", 
      "且": "qiě", "问": "wèn", "到": "dào", "多": "duō", "少": "shǎo", 
      "懵": "měng", "懂": "dǒng", "知": "zhī", "记": "jì", "得": "de", 
      "灶": "zào", "常": "cháng", "去": "qù", "后": "hòu", "打": "dǎ", 
      "见": "jiàn", "好": "hǎo", "桃": "táo", "吃": "chī", "饱": "bǎo", 
      "矣": "yǐ", "唤": "huàn", "想": "xiǎng", "今": "jīn", "要": "yào", 
      "些": "xiē", "气": "qì", "儿": "er", "便": "biàn", "字": "zì", 
      "傍": "bàng", "皆": "jiē", "正": "zhèng", "果": "guǒ", "哩": "li", 
      "凭": "píng", "意": "yì", "思": "sī", "倾": "qīng", "从": "cóng", 
      "术": "shù", "怎": "zěn", "请": "qǐng", "扶": "fú", "鸾": "luán", 
      "卜": "bǔ", "揲": "shé", "蓍": "shī", "能": "néng", "趋": "qū", 
      "吉": "jí", "凶": "xiōng", "似": "sì", "般": "bān", "可": "kě", 
      "长": "cháng", "静": "jìng", "甚": "shèn", "休": "xiū", "粮": "liáng", 
      "守": "shǒu", "谷": "gǔ", "清": "qīng", "为": "wéi", "参": "cān", 
      "打": "dǎ", "坐": "zuò", "戒": "jiè", "持": "chí", "斋": "zhāi", 
      "或": "huò", "睡": "shuì", "功": "gōng", "立": "lì", "入": "rù", 
      "定": "dìng", "关": "guān", "类": "lèi", "也": "yě", "窑": "yáo", 
      "头": "tóu", "土": "tǔ", "坯": "pī", "果": "guǒ", "滴": "dī", 
      "行": "háng", "市": "shì", "谓": "wèi", "造": "zào", "成": "chéng", 
      "砖": "zhuān", "瓦": "wǎ", "虽": "suī", "形": "xíng", "尚": "shàng", 
      "经": "jīng", "锻": "duàn", "炼": "liàn", "朝": "zhāo", "雨": "yǔ", 
      "滂": "pāng", "沱": "tuó", "必": "bì", "滥": "làn", "远": "yuǎn", 
      "动": "dòng", "却": "què", "样": "yàng", "有": "yǒu", "作": "zuò", 
      "采": "cǎi", "阴": "yīn", "补": "bǔ", "阳": "yáng", "攀": "pān", 
      "弓": "gōng", "踏": "tà", "弩": "nǔ", "摩": "mó", "脐": "qí", 
      "过": "guò", "方": "fāng", "炮": "pào", "制": "zhì", "烧": "shāo", 
      "茅": "máo", "鼎": "dǐng", "红": "hóng", "铅": "qiān", "秋": "qiū", 
      "石": "shí", "服": "fú", "妇": "fù", "乳": "rǔ", "等": "děng", 
      "欲": "yù", "亦": "yì", "中": "zhōng", "捞": "lāo", "月": "yuè", 
      "来": "lái", "叫": "jiào", "做": "zuò", "长": "cháng", "影": "yǐng", 
      "看": "kàn", "摸": "mō", "底": "dǐ", "成": "chéng", "闻": "wén", 
      "咄": "duō", "声": "shēng", "跳": "tiào", "下": "xià", "台": "tái", 
      "持": "chí", "戒": "jiè", "尺": "chǐ", "指": "zhǐ", "定": "dìng", 
      "猢": "hú", "狲": "sūn", "待": "dài", "走": "zǒu", "上": "shàng", 
      "将": "jiāng", "打": "dǎ", "三": "sān", "下": "xià", "倒": "dào", 
      "背": "bèi", "着": "zhe", "入": "rù", "里": "lǐ", "面": "miàn", 
      "关": "guān", "撇": "piē", "唬": "hǔ", "班": "bān", "人": "rén", 
      "惧": "jù", "怨": "yuàn", "泼": "pō", "十": "shí", "分": "fēn", 
      "状": "zhuàng", "传": "chuán", "法": "fǎ", "顶": "dǐng", "嘴": "zuǐ", 
      "番": "fān", "冲": "chōng", "撞": "zhuàng", "呵": "a", "俱": "jù", 
      "报": "bào", "鄙": "bǐ", "贱": "jiàn", "嫌": "xián", "恶": "wù", 
      "些": "xiē", "恼": "nǎo", "满": "mǎn", "陪": "péi", "原": "yuán", 
      "破": "pò", "盘": "pán", "谜": "mí", "暗": "àn", "争": "zhēng", 
      "竞": "jìng", "耐": "nài", "言": "yán", "打": "dǎ", "更": "gēng", 
      "分": "fēn", "存": "cún", "后": "hòu", "进": "jìn", "步": "bù", 
      "秘": "mì", "当": "dāng", "欢": "huān", "盼": "pàn", "急": "jí", 
      "晚": "wǎn", "及": "jí", "黄": "huáng", "昏": "hūn", "假": "jiǎ", 
      "合": "hé", "息": "xī", "没": "méi", "支": "zhī", "箭": "jiàn", 
      "鼻": "bí", "孔": "kǒng", "气": "qì", "调": "tiáo", "约": "yuē", 
      "轻": "qīng", "起": "qǐ", "穿": "chuān", "衣": "yī", "服": "fú", 
      "偷": "tōu", "离": "lí", "抬": "tái", "观": "guān", "正": "zhèng", 
      "月": "yuè", "清": "qīng", "露": "lù", "冷": "lěng", "八": "bā", 
      "极": "jí", "迥": "jiǒng", "尘": "chén", "深": "shēn", "幽": "yōu", 
      "禽": "qín", "宿": "sù", "源": "yuán", "溜": "liū", "汾": "fén", 
      "飞": "fēi", "萤": "yíng", "光": "guāng", "散": "sàn", "雁": "yàn", 
      "排": "pái", "云": "yún", "直": "zhí", "候": "hòu", "访": "fǎng", 
      "旧": "jiù", "径": "jìng", "半": "bàn", "掩": "yǎn", "曳": "yè", 
      "步": "bù", "侧": "cè", "身": "shēn", "得": "dé", "走": "zǒu", 
      "榻": "tà", "蜷": "quán", "局": "jú", "躯": "qū", "朝": "cháo", 
      "睡": "shuì", "敢": "gǎn", "惊": "jīng", "跪": "guì", "觉": "jué", 
      "舒": "shū", "两": "liǎng", "足": "zú", "吟": "yín", "难": "nán", 
      "最": "zuì", "玄": "xuán", "莫": "mò", "把": "bǎ", "丹": "dān", 
      "作": "zuò", "等": "děng", "闲": "xián", "遇": "yù", "至": "zhì", 
      "诀": "jué", "空": "kōng", "困": "kùn", "舌": "shé", "干": "gān", 
      "应": "yìng", "候": "hòu", "披": "pī", "盘": "pán", "喝": "hè", 
      "边": "biān", "昨": "zuó", "允": "yǔn", "候": "hòu", "胆": "dǎn", 
      "径": "jìng", "拜": "bài", "老": "lǎo", "爷": "yé", "听": "tīng", 
      "说": "shuō", "厮": "sī", "天": "tiān", "地": "dì", "生": "shēng", 
      "成": "chéng", "否": "fǒu", "何": "hé", "暗": "àn", "此": "cǐ", 
      "更": "gèng", "耳": "ěr", "止": "zhǐ", "舍": "shě", "慈": "cí", 
      "悲": "bēi", "罢": "ba", "永": "yǒng", "忘": "wàng", "恩": "ēn", 
      "缘": "yuán", "亦": "yì", "说": "shuō", "近": "jìn", "仔": "zǐ", 
      "细": "xì", "当": "dāng", "叩": "kòu", "头": "tóu", "洗": "xǐ", 
      "用": "yòng", "显": "xiǎn", "密": "mì", "圆": "yuán", "通": "tōng", 
      "惜": "xī", "修": "xiū", "命": "mìng", "他": "tā", "都": "dōu", 
      "总": "zǒng", "谨": "jǐn", "固": "gù", "牢": "láo", "藏": "cáng", 
      "休": "xiū", "漏": "lòu", "泄": "xiè", "体": "tǐ", "汝": "rǔ", 
      "受": "shòu", "吾": "wú", "昌": "chāng", "口": "kǒu", "记": "jì", 
      "益": "yì", "屏": "bǐng", "除": "chú", "邪": "xié", "欲": "yù", 
      "凉": "liáng", "皎": "jiǎo", "洁": "jié", "向": "xiàng", "丹": "dān", 
      "台": "tái", "赏": "shǎng", "兔": "tù", "日": "rì", "乌": "wū", 
      "龟": "guī", "蛇": "shé", "相": "xiāng", "结": "jié", "性": "xìng", 
      "坚": "jiān", "却": "què", "种": "zhòng", "金": "jīn", "莲": "lián", 
      "攒": "zǎn", "簇": "cù", "五": "wǔ", "行": "xíng", "颠": "diān", 
      "倒": "dǎo", "完": "wán", "随": "suí", "佛": "fó", "和": "hé", 
      "根": "gēn", "源": "yuán", "灵": "líng", "福": "fú", "切": "qiè", 
      "深": "shēn", "即": "jí", "但": "dàn", "东": "dōng", "方": "fāng", 
      "微": "wēi", "舒": "shū", "白": "bái", "西": "xī", "路": "lù", 
      "显": "xiǎn", "依": "yī", "旧": "jiù", "转": "zhuǎn", "推": "tuī", 
      "坐": "zuò", "原": "yuán", "故": "gù", "铺": "pù", "摇": "yáo", 
      "响": "xiǎng", "耶": "yé", "还": "hái", "正": "zhèng", "哩": "li", 
      "混": "hùn", "维": "wéi", "持": "chí", "午": "wǔ", "自": "zì", 
      "己": "jǐ", "早": "zǎo", "复": "fù", "宝": "bǎo", "座": "zuò", 
      "谈": "tán", "公": "gōng", "案": "àn", "比": "bǐ", "语": "yǔ", 
      "外": "wài", "像": "xiàng", "包": "bāo", "皮": "pí", "何": "hé", 
      "向": "xiàng", "近": "jìn", "颇": "pō", "通": "tōng", "渐": "jiàn", 
      "注": "zhù", "防": "fáng", "备": "bèi", "灾": "zāi", "害": "hài", 
      "听": "tīng", "沉": "chén", "吟": "yín", "良": "liáng", "尝": "cháng", 
      "德": "dé", "隆": "lóng", "寿": "shòu", "既": "jì", "济": "jì", 
      "病": "bìng", "个": "gè", "乃": "nǎi", "非": "fēi", "常": "cháng", 
      "夺": "duó", "造": "zào", "化": "huà", "侵": "qīn", "机": "jī", 
      "鬼": "guǐ", "难": "nán", "容": "róng", "虽": "suī", "驻": "zhù", 
      "颜": "yán", "益": "yì", "到": "dào", "降": "jiàng", "雷": "léi", 
      "须": "xū", "性": "xìng", "明": "míng", "预": "yù", "先": "xiān", 
      "躲": "duǒ", "避": "bì", "齐": "qí", "绝": "jué", "再": "zài", 
      "火": "huǒ", "烧": "shāo", "凡": "fán", "唤": "huàn", "阴": "yīn", 
      "自": "zì", "身": "shēn", "涌": "yǒng", "泉": "quán", "穴": "xué", 
      "直": "zhí", "透": "tòu", "泥": "ní", "垣": "yuán", "宫": "gōng", 
      "脏": "zàng", "灰": "huī", "肢": "zhī", "朽": "xiǔ", "把": "bǎ", 
      "千": "qiān", "苦": "kǔ", "行": "xíng", "俱": "jù", "虚": "xū", 
      "幻": "huàn", "风": "fēng", "吹": "chuī", "东": "dōng", "南": "nán", 
      "西": "xī", "北": "běi", "和": "hé", "熏": "xūn", "朔": "shuò", 
      "柳": "liǔ", "松": "sōng", "竹": "zhú", "赑": "bì", "囟": "xìn", 
      "腑": "fǔ", "穿": "chuān", "窍": "qiào", "骨": "gǔ", "肉": "ròu", 
      "消": "xiāo", "疏": "shū", "解": "jiě", "所": "suǒ", "以": "yǐ", 
      "万": "wàn", "垂": "chuí", "悯": "mǐn", "躲": "duǒ", "到": "dào", 
      "底": "dǐ", "比": "bǐ", "他": "tā", "同": "tóng", "故": "gù", 
      "传": "chuán", "头": "tóu", "圆": "yuán", "顶": "dǐng", "履": "lǚ", 
      "般": "bān", "肢": "zhī", "脏": "zàng", "腑": "fǔ", "何": "hé", 
      "虽": "suī", "像": "xiàng", "腮": "sāi", "孤": "gū", "拐": "guǎi", 
      "面": "miàn", "凹": "āo", "脸": "liǎn", "尖": "jiān", "嘴": "zuǐ", 
      "伸": "shēn", "摸": "mō", "没": "méi", "算": "suàn", "嗉": "sù", 
      "袋": "dài", "准": "zhǔn", "折": "zhé", "过": "guò", "罡": "gāng", 
      "数": "shù", "变": "biàn", "化": "huà", "煞": "shà", "愿": "yuàn", 
      "里": "lǐ", "摸": "mō", "前": "qián", "遂": "suì", "附": "fù", 
      "低": "dī", "言": "yán", "窍": "qiào", "习": "xí", "炼": "liàn", 
      "忽": "hū", "戏": "xì", "玩": "wán", "景": "jǐng", "曾": "céng", 
      "蒙": "méng", "海": "hǎi", "功": "gōng", "完": "wán", "备": "bèi", 
      "霞": "xiá", "举": "jǔ", "飞": "fēi", "升": "shēng", "试": "shì", 
      "弄": "nòng", "本": "běn", "事": "shì", "耸": "sǒng", "跟": "gēn", 
      "跳": "tiào", "丈": "zhàng", "踏": "tà", "勾": "gōu", "饭": "fàn", 
      "工": "gōng", "夫": "fū", "返": "fǎn", "复": "fù", "近": "jìn", 
      "落": "luò", "叉": "chā", "算": "suàn", "爬": "pá", "古": "gǔ", 
      "朝": "zhāo", "游": "yóu", "北": "běi", "暮": "mù", "苍": "cāng", 
      "梧": "wú", "似": "sì", "半": "bàn", "凡": "fán", "辈": "bèi", 
      "早": "zǎo", "辰": "chén", "起": "qǐ", "游": "yóu", "转": "zhuǎn", 
      "零": "líng", "陵": "líng", "话": "huà", "将": "jiāng", "遍": "biàn", 
      "方": "fāng", "世": "shì", "上": "shàng", "怕": "pà", "有": "yǒu", 
      "为": "wèi", "彻": "chè", "索": "suǒ", "性": "xìng", "舍": "shě", 
      "发": "fā", "跌": "diē", "足": "zú", "才": "cái", "连": "lián", 
      "扯": "chě", "方": "fāng", "才": "cái", "势": "shì", "筋": "jīn", 
      "斗": "dǒu", "又": "yòu", "恳": "kěn", "求": "qiú", "朵": "duǒ", 
      "捻": "niǎn", "诀": "jué", "念": "niàn", "动": "dòng", "真": "zhēn", 
      "言": "yán", "攒": "zǎn", "紧": "jǐn", "拳": "quán", "抖": "dǒu", 
      "路": "lù", "嘻": "xī", "造": "zào", "若": "ruò", "法": "fǎ", 
      "儿": "ér", "与": "yǔ", "当": "dāng", "铺": "pù", "兵": "bīng", 
      "送": "sòng", "文": "wén", "书": "shū", "递": "dì", "报": "bào", 
      "单": "dān", "管": "guǎn", "那": "nà", "里": "lǐ", "寻": "xún", 
      "饭": "fàn", "吃": "chī", "师": "shī", "徒": "tú", "昏": "hūn", 
      "归": "guī", "府": "fǔ", "夜": "yè", "运": "yùn", "神": "shén", 
      "会": "huì", "逐": "zhú", "家": "jiā", "拘": "jū", "束": "shù", 
      "自": "zì", "在": "zài", "逍": "xiāo", "遥": "yáo", "美": "měi"
    };

    // 全局变量
    let currentSentenceIndex = 0;
    let isPlaying = false;
    let timeoutId = null;
    const textContainer = document.getElementById('textContainer');
    const prevBtn = document.getElementById('prevBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const nextBtn = document.getElementById('nextBtn');
    const startButton = document.getElementById('startButton');
    const startOverlay = document.getElementById('startOverlay');
    const synth = window.speechSynthesis;

    // 初始化函数
    function init() {
      // 设置控制按钮事件
      setupControls();
      
      // 开始按钮事件
      startButton.addEventListener('click', startReading);
    }

    function setupControls() {
      prevBtn.addEventListener('click', () => {
        if (currentSentenceIndex > 0) {
          currentSentenceIndex--;
          showCurrentSentence();
        }
      });

      pauseBtn.addEventListener('click', () => {
        isPlaying = !isPlaying;
        pauseBtn.textContent = isPlaying ? '暂停' : '继续';
        if (isPlaying) {
          showCurrentSentence();
        } else {
          clearTimeout(timeoutId);
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentSentenceIndex < sentences.length - 1) {
          currentSentenceIndex++;
          showCurrentSentence();
        }
      });
    }

    function startReading() {
      startOverlay.style.display = 'none';
      isPlaying = true;
      showCurrentSentence();
      
      // 激活语音合成API（有些浏览器需要用户交互后才能使用）
      const utterance = new SpeechSynthesisUtterance('');
      utterance.volume = 0;
      synth.speak(utterance);
    }

    function speakCharacter(char) {
      if (synth.speaking) {
        synth.cancel();
      }
      
      const utterance = new SpeechSynthesisUtterance(char);
      utterance.lang = 'zh-CN';
      utterance.rate = 0.8;
      synth.speak(utterance);
    }

    function showCurrentSentence() {
      clearTimeout(timeoutId);
      
      const sentence = sentences[currentSentenceIndex];
      textContainer.innerHTML = '';
      
      const sentenceEl = document.createElement('div');
      sentenceEl.className = 'sentence';
      textContainer.appendChild(sentenceEl);
      
      // 逐个添加汉字
      const chars = sentence.split('');
      chars.forEach((char, index) => {
        const hanzi = document.createElement('span');
        hanzi.className = 'hanzi';
        hanzi.textContent = char;
        
        // 添加拼音元素
        const pinyin = document.createElement('span');
        pinyin.className = 'pinyin';
        pinyin.textContent = pinyinMap[char] || '';
        hanzi.appendChild(pinyin);
        
        // 添加点击事件
        hanzi.addEventListener('click', () => {
          speakCharacter(char);
          // 高亮效果
          document.querySelectorAll('.hanzi.highlight').forEach(el => {
            el.classList.remove('highlight');
          });
          hanzi.classList.add('highlight');
        });
        
        sentenceEl.appendChild(hanzi);
        
        // 逐个显示汉字
        setTimeout(() => {
          hanzi.classList.add('show');
        }, index * 300);
      });
      
      // 显示整句
      setTimeout(() => {
        sentenceEl.classList.add('active');
      }, 500);
      
      // 自动播放下一句
      if (isPlaying) {
        const sentenceDuration = chars.length * 300 + 3000;
        timeoutId = setTimeout(() => {
          if (currentSentenceIndex < sentences.length - 1) {
            currentSentenceIndex++;
          } else {
            currentSentenceIndex = 0; // 循环回到第一句
          }
          showCurrentSentence();
        }, sentenceDuration);
      }
    }

    // 页面加载后初始化
    window.addEventListener('load', init);
  </script>
</body>
</html>