<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>西游记第六回</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c 0%, #b21f1f 50%, #fdbb2d 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #3a1c71, #5c2a9d);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            display: flex;
            padding: 20px;
            gap: 20px;
        }
        
        .text-section {
            flex: 3;
            min-width: 300px;
            padding: 20px;
            border-right: 1px solid #eee;
        }
        
        .qa-section {
            flex: 2;
            min-width: 300px;
            padding: 20px;
        }
        
        h2 {
            color: #3a1c71;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3a1c71;
        }
        
        .text-container {
            position: relative;
        }
        
        .original-text {
            height: 500px;
            overflow-y: auto;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            line-height: 1.8;
            margin-bottom: 20px;
            border: 1px solid #eee;
            font-size: 32px;
            text-align: justify;
        }
        
        .original-text .highlight {
            background-color: #ffeb3b;
            padding: 2px 0;
            border-radius: 3px;
            transition: background-color 0.3s ease;
        }
        
        .original-text .reading {
            background-color: #4caf50;
            color: white;
            padding: 2px 0;
            border-radius: 3px;
            animation: pulse-reading 1.5s infinite;
        }
        
        @keyframes pulse-reading {
            0% { background-color: #4caf50; }
            50% { background-color: #2e7d32; }
            100% { background-color: #4caf50; }
        }
        
        .text-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .text-btn {
            padding: 8px 15px;
            background: #3a1c71;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .text-btn:hover {
            background: #5c2a9d;
            transform: translateY(-2px);
        }
        
        .text-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .page-btn {
            padding: 8px 15px;
            background: #3a1c71;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .page-btn:hover {
            background: #5c2a9d;
            transform: translateY(-2px);
        }
        
        .page-btn.active {
            background: #fdbb2d;
            color: #333;
            font-weight: bold;
        }
        
        .question-container {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .question {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
            line-height: 1.5;
        }
        
        .answer-methods {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 15px;
        }
        
        .method-btn {
            padding: 8px 15px;
            background: #e9ecef;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .method-btn.active {
            background: #3a1c71;
            color: white;
        }
        
        .voice-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .text-answer-container {
            margin: 15px 0;
            display: none;
        }
        
        .text-answer-container.active {
            display: block;
        }
        
        .text-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 10px;
            transition: border-color 0.3s;
        }
        
        .text-input:focus {
            border-color: #3a1c71;
            outline: none;
        }
        
        .submit-btn {
            padding: 10px 20px;
            background: #3a1c71;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            background: #5c2a9d;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 50px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #3a1c71;
            color: white;
        }
        
        .btn-primary:hover {
            background: #4d288f;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .recording {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            color: #e74c3c;
            margin-top: 10px;
        }
        
        .pulse {
            width: 15px;
            height: 15px;
            background: #e74c3c;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.9); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(0.9); opacity: 0.7; }
        }
        
        .answer-feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .score-board {
            background: linear-gradient(90deg, #3a1c71, #5c2a9d);
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .score {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            border-radius: 10px;
        }
        
        @media (max-width: 992px) {
            .content {
                flex-direction: column;
            }
            
            .text-section {
                border-right: none;
                border-bottom: 1px solid #eee;
            }
            
            .voice-controls, .answer-methods {
                flex-direction: column;
                align-items: stretch;
            }
            
            .btn {
                justify-content: center;
            }
            
            .text-controls {
                flex-direction: column;
            }
        }
        
        .text-note {
            font-style: italic;
            color: #666;
            margin-top: 10px;
            text-align: center;
        }
        
        .section-title {
            color: #3a1c71;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .reading-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }
        
        .compact-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .text-answer-next {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-dragon"></i> 西游记第六回</h1>
            <p class="subtitle">观音赴会问原因　小圣施威降大圣</p>
        </header>
        
        <div class="content">
            <div class="text-section">
                <h2><i class="fas fa-book"></i> 西游记第六回原文</h2>
                <div class="text-container">
                    <div class="section-title" id="section-title">第一段：观音赴会</div>
                    
                    <div class="text-controls">
                        <button class="text-btn" id="read-selection">
                            <i class="fas fa-volume-up"></i> 朗读选中内容
                        </button>
                        <button class="text-btn" id="read-all">
                            <i class="fas fa-book-reader"></i> 朗读全部
                        </button>
                        <button class="text-btn" id="stop-reading" disabled>
                            <i class="fas fa-stop"></i> 停止朗读
                        </button>
                    </div>
                    
                    <div class="original-text" id="text-content">
                        <!-- 文本内容将通过JavaScript动态加载 -->
                    </div>
                    
                    <div class="reading-controls">
                        <button class="text-btn" id="prev-sentence">
                            <i class="fas fa-arrow-left"></i> 上一句
                        </button>
                        <button class="text-btn" id="next-sentence">
                            下一句 <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    
                    <p class="text-note">选择文本后点击"朗读选中内容"，或使用下方分页按钮浏览完整内容</p>
                </div>
                
                <div class="pagination" id="pagination">
                    <!-- 分页按钮将通过JavaScript动态生成 -->
                </div>
            </div>
            
            <div class="qa-section">
                <h2><i class="fas fa-question-circle"></i> 问答挑战</h2>
                <div class="question-container">
                    <div class="question" id="current-question">问题加载中...</div>
                    
                    <div class="answer-methods">
                        <button class="method-btn active" id="voice-method">
                            <i class="fas fa-microphone"></i> 语音回答
                        </button>
                        <button class="method-btn" id="text-method">
                            <i class="fas fa-keyboard"></i> 文字回答
                        </button>
                    </div>
                    
                    <div class="voice-controls" id="voice-controls">
                        <div class="compact-controls">
                            <button class="btn btn-primary" id="start-record">
                                <i class="fas fa-microphone"></i> 开始录音回答
                            </button>
                            <button class="btn btn-secondary" id="next-question">
                                <i class="fas fa-forward"></i> 下一题
                            </button>
                        </div>
                    </div>
                    
                    <div class="text-answer-container" id="text-answer-container">
                        <input type="text" class="text-input" id="text-answer" placeholder="请输入您的答案...">
                        <div class="text-answer-next">
                            <button class="submit-btn" id="submit-text-answer">
                                <i class="fas fa-paper-plane"></i> 提交答案
                            </button>
                            <button class="btn btn-secondary" id="text-next-question">
                                <i class="fas fa-forward"></i> 下一题
                            </button>
                        </div>
                    </div>
                    
                    <div class="recording" id="recording-indicator" style="display: none;">
                        <div class="pulse"></div>
                        <span>正在录音...请回答问题</span>
                    </div>
                    
                    <div id="answer-feedback"></div>
                </div>
                
                <div class="score-board">
                    <h3><i class="fas fa-trophy"></i> 当前得分</h3>
                    <div class="score" id="score">0</div>
                    <div class="progress-bar">
                        <div class="progress" id="progress-bar"></div>
                    </div>
                    <p>已回答: <span id="answered">0</span>/<span id="total-questions">20</span> 题</p>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>交互式问答系统 | 基于西游记第六回内容</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 西游记第六回的十段原文
            const textPages = [
                {
                    title: "第一段：观音赴会",
                    content: `且不言天神围绕，大圣安歇。话表南海普陀落伽山大慈大悲救苦救难灵感观世音菩萨，自王母娘娘请赴蟠桃大会，与大徒弟惠岸行者，同登宝阁瑶池，见那里荒荒凉凉，席面残乱；虽有几位天仙，俱不就座，都在那里乱纷纷讲论。菩萨与众仙相见毕，众仙备言前事。菩萨道："既无盛会，又不传杯，汝等可跟贫僧去见玉帝。"众仙怡然随往。至通明殿前，早有四大天师、赤脚大仙等众俱在此，迎着菩萨，即道玉帝烦恼，调遣天兵，擒怪未回等因。`
                },
                {
                    title: "第二段：玉帝述说妖猴来历",
                    content: `菩萨道："我要见见玉帝，烦为转奏。"天师邱弘济，即入灵霄宝殿，启知宣入。时有太上老君在上，王母娘娘在后。菩萨引众同入里面，与玉帝礼毕，又与老君、王母相见，各坐下。便问："蟠桃盛会如何？"玉帝道："每年请会，喜喜欢欢，今年被妖猴作乱，甚是虚邀也。"菩萨道："妖猴是何出处？"玉帝道："妖猴乃东胜神洲傲来国花果山石卵化生的。当时生出，即目运金光，射冲斗府。始不介意，继而成精，降龙伏虎，自削死籍。当有龙王、阎王启奏。朕欲擒拿，是长庚星启奏道：'三界之间，凡有九窍者，可以成仙。'朕即施教育贤，宣他上界，封为御马监弼马温官。`
                },
                {
                    title: "第三段：孙悟空反天宫",
                    content: `那厮嫌恶官小，反了天宫。即差李天王与哪吒太子收降，又降诏抚安，宣至上界，就封他做个'齐天大圣'，只是有官无禄。他因没事干管理，东游西荡。朕又恐别生事端，着他代管蟠桃园。他又不遵法律，将老树大桃，尽行偷吃。及至设会，他乃无禄人员，不曾请他，他就设计赚哄赤脚大仙，却自变他相貌入会，将仙肴仙酒尽偷吃了，又偷老君仙丹，又偷御酒若干，去与本山众猴享乐。朕心为此烦恼，故调十万天兵，天罗地网收伏。这一日不见回报，不知胜负如何。`
                },
                {
                    title: "第四段：惠岸行者出战",
                    content: `菩萨闻言，即命惠岸行者道："你可快下天宫，到花果山，打探军情如何。如遇相敌，可就相助一功，务必的实回话。"惠岸行者整整衣裙，执一条铁棍，架云离阙，径至山前。见那天罗地网，密密层层，各营门提铃喝号，将那山围绕的水泄不通。惠岸立住，叫："把营门的天丁，烦你传报。我乃李天王二太子木叉，南海观音大徒弟惠岸，特来打探军情。"那营里五岳神兵，即传入辕门之内。早有虚日鼠、昴日鸡、星日马、房日兔，将言传到中军帐下。李天王发下令旗，教开天罗地网，放他进来。此时东方才亮。惠岸随旗进入，见四大天王与李天王下拜。拜讫，李天王道："孩儿，你自那厢来者？"惠岸道："愚男随菩萨赴蟠桃会，菩萨见胜会荒凉，瑶池寂寞，引众仙并愚男去见玉帝。玉帝备言父王等下界收伏妖猴，一日不见回报，胜负未知，菩萨因命愚男到此打听虚实。"`
                },
                {
                    title: "第五段：孙悟空大战惠岸",
                    content: `李天王道："昨日到此安营下寨，着九曜星挑战；被这厮大弄神通，九曜星俱败走而回。后我等亲自提兵，那厮也排开阵势。我等十万天兵，与他混战至晚，他使个分身法战退。及收兵查勘时，止捉得些狼虫虎豹之类，不曾捉得他半个妖猴。今日还未出战。"说不了，只见辕门外有人来报道："那大圣引一群猴精，在外面叫喊。"四大天王与李天王并太子正议出兵。木叉道："父王，愚男蒙菩萨吩咐，下来打探消息，就说若遇战时，可助一功。今不才愿往，看他怎么个大圣！"天王道："孩儿，你随菩萨修行这几年，想必也有些神通，切须在意。"好太子，双手轮着铁棍，束一束绣衣，跳出辕门，高叫："那个是齐天大圣？"大圣挺如意棒，应声道："老孙便是。你是甚人，辄敢问我？"木叉道："吾乃李天王第二太子叉，今在观音菩萨宝座前为徒弟护教，法名惠岸是也。"大圣道："你不在南海修行，却来此见我做甚？"木叉道："我蒙师父差来打探军情，见你这般猖獗，特来擒你！"大圣道："你敢说那等大话！且休走！吃老孙这一棒！"木叉全然不惧，使铁棒劈手相迎。`
                },
                {
                    title: "第六段：惠岸败阵求援",
                    content: `他两个立那半山中，辕门外，这场好斗：棍虽对棍铁各异，兵纵交兵人不同。一个是太乙散仙呼大圣，一个是观音徒弟正元龙。浑铁棍乃千锤打，六丁六甲运神功；如意棒是天河定，镇海神珍法力洪。两个相逢真对手，往来解数实无穷，这个的阵手棍，万千凶，绕腰贯索疾如风；那个的夹枪棒，不放空，左遮右挡怎相容？那阵上旌旗闪闪，这阵上驼鼎冬冬。万员天将团团绕，一洞妖猴簇簇丛。怪雾愁云漫地府，狼烟煞气射天宫。昨朝混战还犹可，今日争持更又凶。堪羡猴王真本事，木叉复败又逃生。这大圣与惠岸战经五六十合，惠岸臂膊酸麻，不能迎敌，虚幌一幌，败阵而走。大圣也收了猴兵，安扎在洞门之外。只见天王营门外，大小天兵，接住了太子，让开大路，径入辕门，对四天王、李托塔、哪吒，气哈哈的，喘息未定："好大圣！好大圣！着实神通广大！孩儿战不过，又败阵而来也！"李天王见了心惊，即命写表求助，便差大力鬼王与木叉太子上天启奏。`
                },
                {
                    title: "第七段：举荐二郎神",
                    content: `二人当时不敢停留，闯出天罗地网，驾起瑞霭祥云。须臾，径至通明殿下，见了四大天师，引至灵霄宝殿，呈上表章。惠岸又见菩萨施礼。菩萨道："你打探的如何？"惠岸道："始领命到花果山，叫开天罗地网门，见了父亲，道师父差命之意。父王道：'昨日与那猴王战了一场，止捉得他虎豹狮象之类，更未捉他一个猴精。'正讲间，他又索战，是弟子使铁棍与他战经五六十合，不能取胜，败走回营。父亲因此差大力鬼王同弟子上界求助。"菩萨低头思忖。却说玉帝拆开表章，见有求助之言，笑道："叵耐这个猴精，能有多大手段，就敢敌过十万天兵！李天王又来求助，却将那路神兵助之？"言未毕，观音合掌启奏："陛下宽心，贫僧举一神，可擒这猴。"玉帝道："所举者何神？"菩萨道："乃陛下令甥显圣二郎真君，现居灌洲灌江口，享受下方香火。他昔日曾力诛六怪，又有梅山兄弟与帐前一千二百草头神，神通广大。奈他只是听调不听宣，陛下可降一道调兵旨意，着他助力，便可擒也。"`
                },
                {
                    title: "第八段：二郎神领命",
                    content: `玉帝闻言，即传调兵的旨意，就差大力鬼王赍调。那鬼王领了旨，即驾起云，径至灌江口。不消半个时辰，直至真君之庙。早有把门的鬼判，传报至里道："外有天使，捧旨而至。"二郎即与众兄弟，出门迎接旨意，焚香开读旨意。上云："花果山妖猴齐天大圣作乱。因在宫偷桃、偷酒、偷丹，搅乱蟠桃大会，现着十万天兵，一十八架天罗地网，围山收伏，未曾得胜，今特调贤甥同义兄弟即赴花果山助力剿除。成功之后，高升重赏。"真君大喜道："天使请回，吾当就去拔刀相助也。"鬼王回奏不题。这真君即唤梅山六兄弟——乃康、张、姚、李四太尉，郭申、直健二将军，聚集殿前道："适才玉帝调遣我等往花果山收降妖猴，同去去来。"众兄弟俱忻然愿往。即点本部神兵，驾鹰牵犬，搭弩张弓，纵狂风，霎时过了东洋大海，径至花果山。见那天罗地网，密密层级，不能前进。因叫道："把天罗地网的神将听着：吾乃二郎显圣真君，蒙玉帝调来，擒拿妖猴者，快开营门放行。"一时，各神一层层传入。四大天王与李天王俱出辕门迎接，相见毕，问及胜败之事，天王将上项事备陈一遍。真君笑道："小圣来此，必须与他斗个变化，列公将天罗地网，不要幔了顶上，只四围紧密，让我赌斗。若我输与他，不必列公相助，我自有兄弟扶持；若赢了他，也不必列公绑缚，我自有兄弟动手。只请托塔天王与我使个照妖镜，住立空中。恐他一时败阵，逃窜他方，切须与我照耀明白，勿走了他。"天王各居四维，众天兵各挨排列阵去讫。`
                },
                {
                    title: "第九段：二郎神大战孙悟空",
                    content: `这真君领着四太尉、二将军，连本身七兄弟，出营挑战；分付众将，紧守营盘，收全了鹰犬。众草头神得令，真君只到那水帘洞外，见那一群猴，齐齐整整，排作个蟠龙阵势；中军里，立一竿旗，上书"齐天大圣"四字。真君道："那泼猴，怎么称得起齐天之职？"梅山六弟道："且休赞叹，叫战去来。"那营口小猴见了真君，急走去报知。那猴王即掣金箍棒，整黄金甲，登步云履，按一按紫金冠，腾出营门，急睁眼观看，那真君的相貌，果是清奇，打扮得又秀气。真是个：仪容清秀貌堂堂，两耳垂肩目有光。头戴三山飞凤帽，身穿一领淡鹅黄。缕金靴衬盘龙袜，玉带团花八宝妆。腰挎弹弓新月样，手执三尖两刃枪。斧劈桃山曾救母，弹打棕罗双凤凰。力诛八怪声名远，义结梅山七圣行。心高不认天家眷，性傲归神住灌江。赤城昭惠英灵圣，显化无边号二郎。大圣见了，笑嘻嘻的，将金箍棒掣起，高叫道："你是何方小将，辄敢大胆到此挑战？"真君喝道："你这厮有眼无珠，认不得我么！吾乃玉帝外甥，敕封昭惠灵王二郎是也。今蒙上命，到此擒你这造反天宫的弼马温猢狲，你还不知死活！"大圣道："我记得玉帝妹子思凡下界，配合杨君，生一男子，曾使斧劈桃山的，是你么？我行要骂你几声，曾奈无甚冤仇，待要打你一棒，可惜了你的性命。你这郎君小辈，可急急回去，唤你四大天王出来。"真君闻言，心中大怒道："泼猴！休得无礼！吃吾一刀！"大圣侧身躲过，疾举金箍棒，劈手相还。他两个这场好杀：昭惠二郎神，齐天孙大圣，这个心高欺敌美猴王，那个面生压伏真梁栋。两个乍相逢，个人皆睹兴。从来未识浅和深，今日方之轻与重。铁棒赛飞龙，神锋如舞凤，左挡右攻，前迎后映。这阵上梅山六弟助威风，那阵上马流四将传军令。摇旗擂鼓各齐心，呐喊筛锣都助兴。两个钢刀有见机，一来一往无丝缝。金箍棒是海中珍，变化飞腾能取胜；若还身慢命该休，但要差汽为蹭蹬。真君与大圣斗经三百余合，不知胜负。`
                },
                {
                    title: "第十段：孙悟空被擒",
                    content: `那真君抖擞神威，摇身一变，变得身高万丈，两只手，举着三尖两刃神锋，好便似华山顶上之峰，青脸獠牙，朱红头发，恶狠狠，望大圣着头就砍。这大圣也使神通，变得与二郎身躯一样，嘴脸一般，举一条如意金箍棒，却就是昆仑顶上擎天之柱，抵住二郎神，唬得那马、流元帅，战兢兢，摇不得旌旗；崩、巴二将，虚怯怯，使不得刀剑。这阵上，康、张、姚、李、郭申、直健，传号令，撒放草头神，向他那水帘洞外，纵着鹰犬，搭弩张弓，一齐掩杀。可怜冲散妖猴四健将，捉拿灵怪二三千！那些猴，抛戈弃甲，撇剑抛枪；跑的跑，喊的喊；上山的上山，归洞的归洞；好似夜猫惊宿鸟，飞洒满天星。众兄弟得胜不题。却说真君与大圣变做法天象地的规模，正斗时，大圣忽见本营中妖猴惊散，自觉心慌，收了法象，掣棒抽身就起。真君见他败走，大步赶上道："那里走，趁早归降，饶你性命！"大圣不恋战，只情跑起，将近洞口，正撞着康、张、姚、李四太尉，郭申、直健二将军，一齐帅众挡住道："泼猴！那里走！"大圣慌了手脚，就把金箍棒捏做绣花针，藏在耳内，摇身一变，变作个麻雀儿，飞在树稍头钉住。那六兄弟，慌慌张张，前后寻觅不见,一齐吆喝道："走了这猴精也！走了这猴精也！"正嚷间,真君到了,问:"兄弟们,赶到那厢不见了?"众神道:"才在这里围住,就不见了。"二郎圆睁凤眼观看,见大圣变了麻雀儿,钉在树上,就收了法象,撇了神锋,卸下弹弓,摇身一变,变作个雀鹰儿,抖开翅,飞将去扑打。大圣见了,搜的一翅飞起,去变作一只大鹚老,冲天而去。二郎见了,急抖翎毛,摇身一变,变作一只大海鹤,钻上云霄来衔。大圣又将身按下,入涧中,变作一个鱼儿,淬入水内。二郎赶至涧边,不见踪迹。心中暗想道:"这猢狲必然下水去也。定变作鱼虾之类。等我再变变拿他。"果一变变作个鱼鹰儿,飘荡在下溜头波面上。等待片时,那大圣变鱼儿,顺水正游,忽见一只飞禽,似青鹞,毛片不青;似鹭鸶,顶上无缨;似老鹳,腿又不红:"想是二郎变化了等我哩!……"急转头,打个花就走。二郎看见道:"打花的鱼儿,似鲤鱼,尾巴不红;似鳜鱼,花鳞不见;似黑鱼,头上无星;似鲂鱼,腮上无针。他怎么见了我就回去了?必然是那猴变的。"赶上来,刷的啄一嘴。那大圣就撺出水中,一变,变作一条水蛇,游近岸,钻入草中。二郎因衔他不着,他见水响中,见一条蛇撺出去,认得是大圣,急转身,又变了一只朱绣顶的灰鹤,伸着一个长嘴,与一把尖头铁钳子相似,径来吃这水蛇。水蛇跳一跳,又变做一只花鸨,木木樗樗的,立在蓼汀之上。二郎见他变得低贱,——花鸨乃鸟中至贱至淫之物,不拘鸾、凤、鹰、鸦都与交群——故此不去拢傍,即现原身,走将去,取过弹弓拽满,一弹子把他打个〔足龙〕踵。那大圣趁着机会,滚下山崖,伏在那里又变,变座土地庙儿;大张着口,似个庙门;牙齿变做门扇,舌头变做菩萨,眼睛变做窗棂。只有尾巴不好收拾,竖在后面,变做一根旗竿。真君赶到崖下,不见打倒的鸨鸟,只有一间小庙,急睁凤眼,仔细看之,见旗竿立在后面,笑道:"是这猢狲了!他今又在那里哄我。我也曾见庙宇,更不曾见一个旗竿竖在后面的。断是这畜生弄谊!他若哄我进去,他便一口咬住。我怎肯进去?等我掣拳先捣窗棂,后踢门扇!"大圣听得,心惊道:"好狠!好狠!门扇是我牙齿,窗棂是我眼睛;若打了牙,捣了眼,却怎么是好?"扑的一个虎跳,又冒在空中不见。真君前前后后乱赶,只见四太尉、二将军一齐拥至道:"兄长,拿住大圣了么?"真君笑道:"那猴儿才自变座庙宇哄我。我正要捣他窗棂,踢他门扇,他就纵一纵,又渺无踪迹。可怪!可怪!"众皆愕然,四望更无形影。真君道:"兄弟们在此看守巡逻,等我上去寻他。"即纵身驾云,起在半空。见那李天王高擎照妖镜,与哪吒住立云端,真君道:"天王,曾见那猴王么?"天王道:"不曾上来。我这里照着他哩。"真君把那睹变化,弄神通,拿群猴一事说毕,却道:"他变庙宇,正打处,就走了。"李天王闻言,又把照妖镜四方一照,呵呵的笑道:"真君,快去!快去!那猴使了个隐身法,走出营围,往你那灌江口去也。"二郎听说,即取神锋,回灌江口来赶。却说那大圣已至灌江口,摇身一变,变作二郎爷爷的模样,按下云头,径入庙里。鬼判不能相认,一个个磕头迎接。他坐中间,点查香火:见李虎拜还的三牲,张龙许下的保福,赵甲求子的文书,钱丙告病的良愿。正看处,有人报:"又一个爷爷来了。"众鬼判急急观看,无不惊心。真君却道:"有个甚么齐天大圣,才来这里否?"众鬼判道:"不曾见甚么大圣,只有一个爷爷在里面查点哩。"真君撞进门,大圣见了,现出本相道:"郎君不消嚷,庙宇已姓孙了。"这真君即举三尖两刃神锋,劈脸就砍。那猴王使个身法,让过神锋,掣出那绣花针儿,幌一幌,碗来粗细,赶到前,对面相还。两个嚷嚷闹闹,打出庙门,半雾半云,且行且战,复打到花果山,慌得那四大天王等众,提防愈紧。这康、张太尉等迎着真君,合力努力,把那美猴王围绕不题。话表大力鬼王既调了真君与六兄弟提兵擒魔去后,却上界回奏。玉帝与观音菩萨、王母并众仙卿,正在灵霄殿讲话,道:"既是二郎已去赴战,这一日还不见回报。"观音合掌道:"贫僧请陛下同道祖出南天门外,亲去看看虚实如何?"玉帝道:"言之有理。"即摆驾,同道祖、观音、王母与众仙卿至南天门。早有些天丁、力士接着,开门遥观,只见众天丁布罗网,围住四面;李天王与哪吒,擎照妖镜,立在空中;真君把大圣围绕中间,纷纷赌斗呢。菩萨开口对老君说:"贫僧所举二郎神如何?——果有神通,已把那大圣围困,只是未得擒拿。我如今助他一功,决拿住他也。"老君道:"菩萨将甚兵器?怎能助他?"菩萨道:"我将那净瓶杨柳抛下去,打那猴头;即不能打死,也打一跌,教二郎小圣,好去拿他。"老君道:"你这瓶是个磁器,准打着他便好;如打不着他的头,或撞着的铁棒,却不打碎了?你且莫动手,等我老君助他一功。"菩萨道:"你有甚么兵器?"老君道:"有,有,有。"捋起衣袖,左膊上,取下一个圈子,说道:"这件兵器,乃锟钢抟炼的,被我将还丹点成,养就一身灵气,善能变化,水火不侵,又能套诸物;一名'金钢琢',又名'金钢套'。当年过函关,化胡为佛,甚是亏他。早晚最可防身。等我丢下去打他一下。"话毕,自天门上往下一掼,滴流流,径落花果山营盘里,可可的着猴王头上一下。猴王只顾苦战七圣,却不知天上坠下这兵器,打中了天灵,立不稳脚,跌了一跤,爬将起来就跑;被二郎爷爷的细犬赶上,照腿肚子上一口,又扯了一跌。他睡倒在地,骂道:"这个亡人!你不去妨家长,却来咬老孙!"急翻身爬不起来,被七圣一拥按住,即将绳索捆绑,使勾刀穿了琵琶骨,再不能变化。那老君收了金钢琢,请玉帝同观音、王母、众仙等,俱回灵霄殿。这下面四大天王与李天王诸神,俱收兵拔寨,近前向小圣贺喜,道:"此小圣之功也!"小圣道:"此乃天尊洪福,众神威权,我何功之有?"康、张、姚、李道:"兄长不必多叙,且押这厮去上界见玉帝,请旨发落去也。"真君道:"贤弟,汝等未受天录,不得面见玉帝。教天甲神兵押着,我同天王等上届回旨。你们帅众在此搜山,搜净之后,仍回灌口。待我请了赏,讨了功,回来同乐。"四太尉、二将军,依言领诺。这真君与众即驾云头,唱凯歌,得胜朝天。不多时,到通明殿外。天师启奏道:"四大天王等众已捉了妖猴齐天大圣了。来此听宣。"玉帝传旨,即命大力鬼王与天丁等众,押至斩妖台,将这厮碎剁其尸。咦!正是:欺诳今遭刑宪苦,英雄气概等时休。毕竟不知那猴王性命如何,且听下回分解。`
                }
            ];
            
            // 问题和答案数据 - 每段2个问题，共20题
            const questions = [
                // 第一段问题
                {
                    question: "观音菩萨赴蟠桃大会时看到什么景象？",
                    answer: "荒荒凉凉，席面残乱"
                },
                {
                    question: "观音菩萨建议众仙跟她去哪里？",
                    answer: "去见玉帝"
                },
                
                // 第二段问题
                {
                    question: "玉帝告诉观音菩萨，妖猴是什么出处？",
                    answer: "东胜神洲傲来国花果山石卵化生的"
                },
                {
                    question: "妖猴最初被宣上界封为什么官？",
                    answer: "御马监弼马温"
                },
                
                // 第三段问题
                {
                    question: "妖猴因为什么原因反了天宫？",
                    answer: "嫌恶官小"
                },
                {
                    question: "玉帝第二次招安后封妖猴为什么称号？",
                    answer: "齐天大圣"
                },
                
                // 第四段问题
                {
                    question: "观音菩萨派谁去打探军情？",
                    answer: "惠岸行者"
                },
                {
                    question: "惠岸行者是谁的徒弟？",
                    answer: "观音菩萨"
                },
                
                // 第五段问题
                {
                    question: "惠岸行者使用的武器是什么？",
                    answer: "铁棍"
                },
                {
                    question: "惠岸行者与孙悟空战了多少回合？",
                    answer: "五六十合"
                },
                
                // 第六段问题
                {
                    question: "惠岸行者战败后，李天王派谁上天启奏求助？",
                    answer: "大力鬼王与木叉太子"
                },
                {
                    question: "李天王说他们捉到了什么？",
                    answer: "狼虫虎豹之类"
                },
                
                // 第七段问题
                {
                    question: "观音菩萨向玉帝举荐谁去擒拿孙悟空？",
                    answer: "二郎显圣真君"
                },
                {
                    question: "二郎神有什么特点？",
                    answer: "听调不听宣"
                },
                
                // 第八段问题
                {
                    question: "二郎神现居何处？",
                    answer: "灌洲灌江口"
                },
                {
                    question: "二郎神要求托塔天王用什么来协助他？",
                    answer: "照妖镜"
                },
                
                // 第九段问题
                {
                    question: "孙悟空与二郎神斗了多少回合？",
                    answer: "三百余合"
                },
                {
                    question: "二郎神变得身高万丈，孙悟空如何应对？",
                    answer: "也变得与二郎身躯一样"
                },
                
                // 第十段问题
                {
                    question: "孙悟空最后被什么兵器打中？",
                    answer: "金钢琢"
                },
                {
                    question: "孙悟空被擒后，玉帝命人押他去什么地方？",
                    answer: "斩妖台"
                }
            ];
            
            let currentQuestionIndex = 0;
            let currentPageIndex = 0;
            let score = 0;
            let answeredQuestions = 0;
            const totalQuestions = questions.length;
            
            const textContentElement = document.getElementById('text-content');
            const sectionTitleElement = document.getElementById('section-title');
            const paginationElement = document.getElementById('pagination');
            const questionElement = document.getElementById('current-question');
            const scoreElement = document.getElementById('score');
            const answeredElement = document.getElementById('answered');
            const totalQuestionsElement = document.getElementById('total-questions');
            const progressBar = document.getElementById('progress-bar');
            const feedbackElement = document.getElementById('answer-feedback');
            const recordingIndicator = document.getElementById('recording-indicator');
            const startRecordButton = document.getElementById('start-record');
            const nextQuestionButton = document.getElementById('next-question');
            const textNextQuestionButton = document.getElementById('text-next-question');
            
            // 文字回答相关元素
            const voiceMethodBtn = document.getElementById('voice-method');
            const textMethodBtn = document.getElementById('text-method');
            const voiceControls = document.getElementById('voice-controls');
            const textAnswerContainer = document.getElementById('text-answer-container');
            const textAnswerInput = document.getElementById('text-answer');
            const submitTextAnswerBtn = document.getElementById('submit-text-answer');
            
            // 朗读功能相关元素
            const readSelectionBtn = document.getElementById('read-selection');
            const readAllBtn = document.getElementById('read-all');
            const stopReadingBtn = document.getElementById('stop-reading');
            const prevSentenceBtn = document.getElementById('prev-sentence');
            const nextSentenceBtn = document.getElementById('next-sentence');
            
            // 初始化显示
            totalQuestionsElement.textContent = totalQuestions;
            displayQuestion();
            renderTextPages();
            updatePagination();
            
            // 渲染文本内容
            function renderTextPages() {
                sectionTitleElement.textContent = textPages[currentPageIndex].title;
                textContentElement.innerHTML = textPages[currentPageIndex].content.replace(/\n/g, '<br>');
            }
            
            // 创建分页按钮
            function updatePagination() {
                paginationElement.innerHTML = '';
                for (let i = 0; i < textPages.length; i++) {
                    const button = document.createElement('button');
                    button.className = `page-btn ${i === currentPageIndex ? 'active' : ''}`;
                    button.textContent = `第${i+1}段`;
                    button.addEventListener('click', () => {
                        currentPageIndex = i;
                        renderTextPages();
                        updatePagination();
                        // 切换到对应段落的问题
                        currentQuestionIndex = i * 2;
                        displayQuestion();
                        feedbackElement.innerHTML = '';
                    });
                    paginationElement.appendChild(button);
                }
            }
            
            // 显示当前问题
            function displayQuestion() {
                if (currentQuestionIndex < totalQuestions) {
                    questionElement.textContent = questions[currentQuestionIndex].question;
                } else {
                    questionElement.textContent = "已完成所有问题！";
                    startRecordButton.disabled = true;
                    nextQuestionButton.disabled = true;
                    submitTextAnswerBtn.disabled = true;
                    textNextQuestionButton.disabled = true;
                }
            }
            
            // 检查答案
            function checkAnswer(userAnswer) {
                const correctAnswer = questions[currentQuestionIndex].answer.toLowerCase();
                const userAnswerLower = userAnswer.toLowerCase();
                
                // 简单匹配逻辑
                if (userAnswerLower.includes(correctAnswer) || 
                    correctAnswer.includes(userAnswerLower)) {
                    return true;
                }
                
                return false;
            }
            
            // 更新分数和进度
            function updateScore(isCorrect) {
                if (isCorrect) {
                    score += 5;
                    feedbackElement.innerHTML = `<div class="answer-feedback correct"><i class="fas fa-check-circle"></i> 回答正确！+5分</div>`;
                } else {
                    feedbackElement.innerHTML = `<div class="answer-feedback incorrect"><i class="fas fa-times-circle"></i> 回答错误！正确答案: ${questions[currentQuestionIndex].answer}</div>`;
                }
                
                scoreElement.textContent = score;
                answeredQuestions++;
                answeredElement.textContent = answeredQuestions;
                
                // 更新进度条
                const progressPercentage = (answeredQuestions / totalQuestions) * 100;
                progressBar.style.width = progressPercentage + '%';
            }
            
            // 切换回答方式
            voiceMethodBtn.addEventListener('click', function() {
                voiceMethodBtn.classList.add('active');
                textMethodBtn.classList.remove('active');
                voiceControls.style.display = 'flex';
                textAnswerContainer.style.display = 'none';
            });
            
            textMethodBtn.addEventListener('click', function() {
                textMethodBtn.classList.add('active');
                voiceMethodBtn.classList.remove('active');
                voiceControls.style.display = 'none';
                textAnswerContainer.style.display = 'block';
            });
            
            // 提交文字答案
            submitTextAnswerBtn.addEventListener('click', function() {
                const answer = textAnswerInput.value.trim();
                if (answer === '') {
                    alert('请输入答案');
                    return;
                }
                
                const isCorrect = checkAnswer(answer);
                updateScore(isCorrect);
                
                // 清空输入框
                textAnswerInput.value = '';
            });
            
            // 按回车键提交答案
            textAnswerInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    submitTextAnswerBtn.click();
                }
            });
            
            // 语音合成功能
            let speechSynthesis = window.speechSynthesis;
            let speechUtterance = null;
            let isReading = false;
            let currentSentenceIndex = 0;
            let sentences = [];
            
            // 初始化语音合成
            function initSpeechSynthesis() {
                if (!speechSynthesis) {
                    console.error("您的浏览器不支持语音合成功能");
                    readSelectionBtn.disabled = true;
                    readAllBtn.disabled = true;
                    stopReadingBtn.disabled = true;
                    return;
                }
                
                // 设置中文语音
                speechSynthesis.getVoices();
                
                // 事件监听
                readSelectionBtn.addEventListener('click', readSelectedText);
                readAllBtn.addEventListener('click', readAllText);
                stopReadingBtn.addEventListener('click', stopReading);
                prevSentenceBtn.addEventListener('click', readPreviousSentence);
                nextSentenceBtn.addEventListener('click', readNextSentence);
                
                // 语音合成结束事件
                if (speechUtterance) {
                    speechUtterance.onend = function() {
                        isReading = false;
                        stopReadingBtn.disabled = true;
                    };
                }
            }
            
            // 朗读选中的文本
            function readSelectedText() {
                const selection = window.getSelection();
                if (selection.toString().trim() === '') {
                    alert('请先选择要朗读的文本');
                    return;
                }
                
                stopReading();
                
                const selectedText = selection.toString();
                speakText(selectedText);
                
                // 高亮选中的文本
                const range = selection.getRangeAt(0);
                const highlightedText = document.createElement('span');
                highlightedText.className = 'highlight';
                range.surroundContents(highlightedText);
            }
            
            // 朗读全部文本
            function readAllText() {
                stopReading();
                const fullText = textContentElement.textContent;
                sentences = splitIntoSentences(fullText);
                currentSentenceIndex = 0;
                readCurrentSentence();
            }
            
            // 停止朗读
            function stopReading() {
                if (speechSynthesis && isReading) {
                    speechSynthesis.cancel();
                    isReading = false;
                    stopReadingBtn.disabled = true;
                    
                    // 移除所有高亮
                    const highlights = textContentElement.querySelectorAll('.reading');
                    highlights.forEach(el => {
                        el.classList.remove('reading');
                    });
                }
            }
            
            // 将文本分割成句子
            function splitIntoSentences(text) {
                // 简单的中文句子分割
                return text.split(/(?<=[。！？；])/).filter(s => s.trim() !== '');
            }
            
            // 朗读当前句子
            function readCurrentSentence() {
                if (currentSentenceIndex >= sentences.length) {
                    return;
                }
                
                stopReading();
                
                const sentence = sentences[currentSentenceIndex];
                speakText(sentence);
                
                // 高亮当前句子
                highlightCurrentSentence(sentence);
                
                isReading = true;
                stopReadingBtn.disabled = false;
            }
            
            // 朗读上一句
            function readPreviousSentence() {
                if (currentSentenceIndex > 0) {
                    currentSentenceIndex--;
                    readCurrentSentence();
                }
            }
            
            // 朗读下一句
            function readNextSentence() {
                if (currentSentenceIndex < sentences.length - 1) {
                    currentSentenceIndex++;
                    readCurrentSentence();
                }
            }
            
            // 高亮当前句子
            function highlightCurrentSentence(sentence) {
                // 移除之前的高亮
                const existingHighlights = textContentElement.querySelectorAll('.reading');
                existingHighlights.forEach(el => {
                    el.classList.remove('reading');
                });
                
                // 查找并高亮当前句子
                const text = textContentElement.textContent;
                const startIndex = text.indexOf(sentence);
                if (startIndex !== -1) {
                    const endIndex = startIndex + sentence.length;
                    
                    let charCount = 0;
                    let startNode = null, endNode = null;
                    let startOffset = 0, endOffset = 0;
                    
                    // 查找文本节点
                    function findTextNodes(node) {
                        if (node.nodeType === Node.TEXT_NODE) {
                            const nextCount = charCount + node.textContent.length;
                            if (!startNode && nextCount > startIndex) {
                                startNode = node;
                                startOffset = startIndex - charCount;
                            }
                            if (!endNode && nextCount >= endIndex) {
                                endNode = node;
                                endOffset = endIndex - charCount;
                            }
                            charCount = nextCount;
                        } else {
                            for (let i = 0; i < node.childNodes.length; i++) {
                                if (startNode && endNode) break;
                                findTextNodes(node.childNodes[i]);
                            }
                        }
                    }
                    
                    findTextNodes(textContentElement);
                    
                    if (startNode && endNode) {
                        const range = document.createRange();
                        range.setStart(startNode, startOffset);
                        range.setEnd(endNode, endOffset);
                        
                        const highlight = document.createElement('span');
                        highlight.className = 'reading';
                        range.surroundContents(highlight);
                        
                        // 滚动到高亮位置
                        highlight.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            }
            
            // 使用语音合成朗读文本
            function speakText(text) {
                if (speechSynthesis) {
                    speechUtterance = new SpeechSynthesisUtterance(text);
                    speechUtterance.lang = 'zh-CN';
                    speechUtterance.rate = 0.9;
                    speechUtterance.pitch = 1;
                    
                    speechUtterance.onend = function() {
                        isReading = false;
                        stopReadingBtn.disabled = true;
                    };
                    
                    speechSynthesis.speak(speechUtterance);
                    isReading = true;
                    stopReadingBtn.disabled = false;
                }
            }
            
            // 语音识别功能
            let recognition = null;
            
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'zh-CN';
                
                recognition.onstart = function() {
                    recordingIndicator.style.display = 'flex';
                    startRecordButton.innerHTML = '<i class="fas fa-microphone-slash"></i> 停止录音';
                    startRecordButton.disabled = false;
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    const isCorrect = checkAnswer(transcript);
                    updateScore(isCorrect);
                };
                
                recognition.onerror = function(event) {
                    console.error('语音识别错误:', event.error);
                    feedbackElement.innerHTML = `<div class="answer-feedback incorrect"><i class="fas fa-exclamation-triangle"></i> 语音识别错误，请重试</div>`;
                };
                
                recognition.onend = function() {
                    recordingIndicator.style.display = 'none';
                    startRecordButton.innerHTML = '<i class="fas fa-microphone"></i> 开始录音回答';
                    startRecordButton.disabled = false;
                };
                
                startRecordButton.addEventListener('click', function() {
                    try {
                        if (startRecordButton.innerHTML.includes('开始录音')) {
                            recognition.start();
                        } else {
                            recognition.stop();
                        }
                    } catch (error) {
                        feedbackElement.innerHTML = `<div class="answer-feedback incorrect"><i class="fas fa-exclamation-triangle"></i> 无法启动语音识别: ${error.message}</div>`;
                    }
                });
            } else {
                startRecordButton.disabled = true;
                feedbackElement.innerHTML = '<div class="answer-feedback incorrect"><i class="fas fa-exclamation-triangle"></i> 您的浏览器不支持语音识别功能</div>';
            }
            
            // 下一题按钮（语音模式）
            nextQuestionButton.addEventListener('click', function() {
                goToNextQuestion();
            });
            
            // 下一题按钮（文字模式）
            textNextQuestionButton.addEventListener('click', function() {
                goToNextQuestion();
            });
            
            // 转到下一题
            function goToNextQuestion() {
                currentQuestionIndex++;
                // 如果当前段落的2个问题已回答完，自动切换到下一段
                if (currentQuestionIndex % 2 === 0 && currentQuestionIndex < totalQuestions) {
                    currentPageIndex = Math.floor(currentQuestionIndex / 2);
                    renderTextPages();
                    updatePagination();
                }
                feedbackElement.innerHTML = '';
                displayQuestion();
            }
            
            // 初始化语音合成功能
            initSpeechSynthesis();
        });
    </script>
</body>
</html>
