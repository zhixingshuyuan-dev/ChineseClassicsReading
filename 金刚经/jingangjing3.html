<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金刚经 第三品</title>
    <style>
        body {
            background-color: #8B7500;
            color: #FFF8DC;
            font-family: "宋体", SimSun, serif;
            padding: 20px;
            line-height: 1.8;
        }

        .text-container {
            max-width: 900px;
            margin: 0 auto;
            background-color: rgba(139, 117, 0, 0.7);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        h2 {
            color: #FFD700;
            border-bottom: 1px solid #FFD700;
            padding-bottom: 10px;
            text-align: center;
        }

        .original-text {
            font-size: 28.6px; /* 放大30% */
            margin-bottom: 30px;
        }

        .sentence {
            position: relative;
            margin-bottom: 15px;
            padding-right: 30px;
            line-height: 2.2;
        }

        .translation-buttons {
            text-align: center;
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
        }

        button {
            cursor: pointer;
            background-color: #5D4B00;
            color: #FFD700;
            border: 1px solid #FFD700;
            border-radius: 4px;
            padding: 6px 12px;
            transition: all 0.3s;
            font-size: 14px;
            min-width: 90px;
        }

        button:hover {
            background-color: #FFD700;
            color: #5D4B00;
        }

        .read-btn {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #FFD700;
            font-size: 18px;
            padding: 0;
            width: 24px;
            height: 24px;
        }

        .footnote-btn {
            font-size: 14px;
            padding: 0 3px;
            min-width: 20px;
            height: 20px;
            vertical-align: super;
            line-height: 1;
            margin-left: 2px;
        }

        .char {
            position: relative;
            display: inline-block;
            cursor: pointer;
            margin: 0 1px;
            transition: all 0.2s;
        }

        .char:hover {
            color: #FFD700;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.7);
        }

        .char-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #5D4B00;
            color: #FFD700;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 14px;
            white-space: nowrap;
            z-index: 100;
            border: 1px solid #FFD700;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            display: none;
        }

        .char:hover .char-tooltip {
            display: block;
        }

        .footnote-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #5D4B00;
            padding: 25px;
            border: 2px solid #FFD700;
            border-radius: 12px;
            max-width: 600px;
            z-index: 1000;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.9);
        }

        .footnote-close {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            color: #FFD700;
            font-size: 24px;
            font-weight: bold;
        }

        .translation-text {
            font-size: 17px;
            display: none;
            line-height: 1.8;
            text-align: justify;
        }

        #translation-zh {
            display: block;
        }

        .footnote-content {
            max-height: 70vh;
            overflow-y: auto;
            padding-right: 15px;
            font-size: 16px;
            line-height: 1.7;
        }

        @media (max-width: 768px) {
            .original-text {
                font-size: 24.7px; /* 放大30% */
            }
            .translation-buttons {
                gap: 6px;
            }
            button {
                padding: 5px 8px;
                min-width: auto;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="text-container">
        <h2>金刚经第三品</h2>
        <div class="original-text">
            <div class="sentence">
                <span class="char">佛<span class="char-tooltip">fó / Buddha</span></span>
                <span class="char">告<span class="char-tooltip">gào / tell</span></span>
                <span class="char">须<span class="char-tooltip">xū / Subhuti</span></span>
                <span class="char">菩<span class="char-tooltip">pú / bodhi</span></span>
                <span class="char">提<span class="char-tooltip">tí / carry</span></span>：
                <button class="read-btn" data-text="佛告须菩提">🔊</button>
            </div>
            
            <div class="sentence">
                "<span class="char">诸<span class="char-tooltip">zhū / all</span></span>
                <span class="char">菩<span class="char-tooltip">pú / bodhi</span></span>
                <span class="char">萨<span class="char-tooltip">sà / sattva</span></span>
                <span class="char">摩<span class="char-tooltip">mó / mahā</span></span>
                <span class="char">诃<span class="char-tooltip">hē / great</span></span>
                <span class="char">萨<span class="char-tooltip">sà / sattva</span></span>
                <button class="footnote-btn" data-id="1">①</button>，
                <button class="read-btn" data-text="诸菩萨摩诃萨">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">应<span class="char-tooltip">yīng / should</span></span>
                <span class="char">如<span class="char-tooltip">rú / thus</span></span>
                <span class="char">是<span class="char-tooltip">shì / this</span></span>
                <span class="char">降<span class="char-tooltip">xiáng / subdue</span></span>
                <span class="char">伏<span class="char-tooltip">fú / conquer</span></span>
                <span class="char">其<span class="char-tooltip">qí / their</span></span>
                <span class="char">心<span class="char-tooltip">xīn / mind</span></span>：
                <button class="read-btn" data-text="应如是降伏其心">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">所<span class="char-tooltip">suǒ / all</span></span>
                <span class="char">有<span class="char-tooltip">yǒu / exist</span></span>
                <span class="char">一<span class="char-tooltip">yī / one</span></span>
                <span class="char">切<span class="char-tooltip">qiè / all</span></span>
                <span class="char">众<span class="char-tooltip">zhòng / beings</span></span>
                <span class="char">生<span class="char-tooltip">shēng / living</span></span>
                <span class="char">之<span class="char-tooltip">zhī / of</span></span>
                <span class="char">类<span class="char-tooltip">lèi / kind</span></span>，
                <button class="read-btn" data-text="所有一切众生之类">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">若<span class="char-tooltip">ruò / whether</span></span>
                <span class="char">卵<span class="char-tooltip">luǎn / egg-born</span></span>
                <span class="char">生<span class="char-tooltip">shēng / born</span></span>，
                <span class="char">若<span class="char-tooltip">ruò / or</span></span>
                <span class="char">胎<span class="char-tooltip">tāi / womb-born</span></span>
                <span class="char">生<span class="char-tooltip">shēng / born</span></span>，
                <button class="read-btn" data-text="若卵生，若胎生">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">若<span class="char-tooltip">ruò / or</span></span>
                <span class="char">湿<span class="char-tooltip">shī / moisture-born</span></span>
                <span class="char">生<span class="char-tooltip">shēng / born</span></span>，
                <span class="char">若<span class="char-tooltip">ruò / or</span></span>
                <span class="char">化<span class="char-tooltip">huà / transformation-born</span></span>
                <span class="char">生<span class="char-tooltip">shēng / born</span></span>，
                <button class="read-btn" data-text="若湿生，若化生">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">若<span class="char-tooltip">ruò / whether</span></span>
                <span class="char">有<span class="char-tooltip">yǒu / have</span></span>
                <span class="char">色<span class="char-tooltip">sè / form</span></span>，
                <span class="char">若<span class="char-tooltip">ruò / or</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">色<span class="char-tooltip">sè / form</span></span>，
                <button class="read-btn" data-text="若有色，若无色">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">若<span class="char-tooltip">ruò / whether</span></span>
                <span class="char">有<span class="char-tooltip">yǒu / have</span></span>
                <span class="char">想<span class="char-tooltip">xiǎng / perception</span></span>，
                <span class="char">若<span class="char-tooltip">ruò / or</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">想<span class="char-tooltip">xiǎng / perception</span></span>，
                <button class="read-btn" data-text="若有想，若无想">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">若<span class="char-tooltip">ruò / whether</span></span>
                <span class="char">非<span class="char-tooltip">fēi / not</span></span>
                <span class="char">有<span class="char-tooltip">yǒu / have</span></span>
                <span class="char">想<span class="char-tooltip">xiǎng / perception</span></span>，
                <span class="char">非<span class="char-tooltip">fēi / not</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">想<span class="char-tooltip">xiǎng / perception</span></span>
                <button class="footnote-btn" data-id="2">②</button>，
                <button class="read-btn" data-text="若非有想，非无想">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">我<span class="char-tooltip">wǒ / I</span></span>
                <span class="char">皆<span class="char-tooltip">jiē / all</span></span>
                <span class="char">令<span class="char-tooltip">lìng / cause</span></span>
                <span class="char">入<span class="char-tooltip">rù / enter</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">余<span class="char-tooltip">yú / remainder</span></span>
                <span class="char">涅<span class="char-tooltip">niè / nirvana</span></span>
                <span class="char">槃<span class="char-tooltip">pán / nirvana</span></span>
                <button class="footnote-btn" data-id="3">③</button>
                <span class="char">而<span class="char-tooltip">ér / and</span></span>
                <span class="char">灭<span class="char-tooltip">miè / extinguish</span></span>
                <span class="char">度<span class="char-tooltip">dù / liberate</span></span>
                <span class="char">之<span class="char-tooltip">zhī / them</span></span>。
                <button class="read-btn" data-text="我皆令入无余涅槃而灭度之">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">如<span class="char-tooltip">rú / thus</span></span>
                <span class="char">是<span class="char-tooltip">shì / this</span></span>
                <span class="char">灭<span class="char-tooltip">miè / extinguish</span></span>
                <span class="char">度<span class="char-tooltip">dù / liberate</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">量<span class="char-tooltip">liàng / measure</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">数<span class="char-tooltip">shù / number</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">边<span class="char-tooltip">biān / boundary</span></span>
                <span class="char">众<span class="char-tooltip">zhòng / beings</span></span>
                <span class="char">生<span class="char-tooltip">shēng / living</span></span>，
                <button class="read-btn" data-text="如是灭度无量无数无边众生">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">实<span class="char-tooltip">shí / truly</span></span>
                <span class="char">无<span class="char-tooltip">wú / without</span></span>
                <span class="char">众<span class="char-tooltip">zhòng / beings</span></span>
                <span class="char">生<span class="char-tooltip">shēng / living</span></span>
                <span class="char">得<span class="char-tooltip">dé / attain</span></span>
                <span class="char">灭<span class="char-tooltip">miè / extinguish</span></span>
                <span class="char">度<span class="char-tooltip">dù / liberate</span></span>
                <span class="char">者<span class="char-tooltip">zhě / one who</span></span>。"
                <button class="read-btn" data-text="实无众生得灭度者">🔊</button>
            </div>
            
            <div class="sentence">
                "<span class="char">何<span class="char-tooltip">hé / what</span></span>
                <span class="char">以<span class="char-tooltip">yǐ / reason</span></span>
                <span class="char">故<span class="char-tooltip">gù / cause</span></span>？"
                <button class="read-btn" data-text="何以故">🔊</button>
            </div>
            
            <div class="sentence">
                "<span class="char">须<span class="char-tooltip">xū / Subhuti</span></span>
                <span class="char">菩<span class="char-tooltip">pú / bodhi</span></span>
                <span class="char">提<span class="char-tooltip">tí / carry</span></span>，
                <span class="char">若<span class="char-tooltip">ruò / if</span></span>
                <span class="char">菩<span class="char-tooltip">pú / bodhi</span></span>
                <span class="char">萨<span class="char-tooltip">sà / sattva</span></span>
                <span class="char">有<span class="char-tooltip">yǒu / have</span></span>
                <span class="char">我<span class="char-tooltip">wǒ / self</span></span>
                <span class="char">相<span class="char-tooltip">xiàng / mark</span></span>、
                <span class="char">人<span class="char-tooltip">rén / person</span></span>
                <span class="char">相<span class="char-tooltip">xiàng / mark</span></span>、
                <span class="char">众<span class="char-tooltip">zhòng / beings</span></span>
                <span class="char">生<span class="char-tooltip">shēng / living</span></span>
                <span class="char">相<span class="char-tooltip">xiàng / mark</span></span>、
                <span class="char">寿<span class="char-tooltip">shòu / life</span></span>
                <span class="char">者<span class="char-tooltip">zhě / one who</span></span>
                <span class="char">相<span class="char-tooltip">xiàng / mark</span></span>
                <button class="footnote-btn" data-id="4">④</button>，
                <button class="read-btn" data-text="须菩提，若菩萨有我相、人相、众生相、寿者相">🔊</button>
            </div>
            
            <div class="sentence">
                <span class="char">即<span class="char-tooltip">jí / then</span></span>
                <span class="char">非<span class="char-tooltip">fēi / not</span></span>
                <span class="char">菩<span class="char-tooltip">pú / bodhi</span></span>
                <span class="char">萨<span class="char-tooltip">sà / sattva</span></span>。"
                <button class="read-btn" data-text="即非菩萨">🔊</button>
            </div>
        </div>

        <div class="translation-buttons">
            <button data-lang="zh">白话</button>
            <button data-lang="en">English</button>
            <button data-lang="sa">संस्कृतम्</button>
            <button data-lang="pi">Pāli</button>
            <button data-lang="de">Deutsch</button>
            <button data-lang="fr">Français</button>
            <button data-lang="ru">Русский</button>
            <button data-lang="es">Español</button>
            <button data-lang="it">Italiano</button>
            <button data-lang="pt">Português</button>
            <button data-lang="la">Latina</button>
            <button data-lang="el">Ελληνικά</button>
        </div>

        <div id="translation-zh" class="translation-text">
            <p>佛告诉须菩提："诸位大菩萨应该这样降伏妄念之心：所有一切众生，不论是卵生的、胎生的、湿生的、化生的，有形的、无形的，有思想的、无思想的，非有思想的、非无思想的，我都要使他们进入无余涅槃的境界而得到解脱。像这样解脱无量无数无边的众生，但实际上并没有众生得到解脱。""为什么呢？""须菩提，如果菩萨有自我相状、他人相状、众生相状、寿命相状，就不是真正的菩萨。"</p>
        </div>

        <div id="translation-en" class="translation-text">
            <p>The Buddha told Subhuti: "All great bodhisattvas should subdue their thoughts thus: All classes of beings—whether born from eggs, from wombs, from moisture, or by transformation; whether having form or no form; whether having perception or no perception; or neither having perception nor not having perception—I cause them all to enter nirvana without remainder and be liberated. Though I thus liberate innumerable beings, in truth no being is liberated. Why is this? Subhuti, if a bodhisattva has the notion of a self, a person, a being, or a life, he is not a true bodhisattva."</p>
        </div>

        <div id="translation-sa" class="translation-text">
            <p>भगवानाह - "सर्वे बोधिसत्त्वा महासत्त्वा एवं चित्तं प्रशमयेयुः - सर्वाणि सत्त्वजातान्यण्डजानि जरायुजानि संस्वेदजान्युपपादुकानि, रूपिणोऽरूपिणः, संज्ञिनोऽसंज्ञिनः, नैवसंज्ञिनासंज्ञिनः, सर्वाण्यहमनुपादाय निर्वाणधातौ परिनिर्वापयामि। एवं बहूनि सत्त्वकोटिनियुतशतसहस्राणि परिनिर्वाप्यापि न कश्चित् सत्त्वः परिनिर्वापितो भवति। तत् कस्मात्? सुभूते, यदि बोधिसत्त्वो महासत्त्वः सत्त्व इति संज्ञां करोति, सत्त्व इति संज्ञां कृत्वा चरति, न स बोधिसत्त्वो महासत्त्वः।"</p>
        </div>

        <div id="translation-pi" class="translation-text">
            <p>Bhagavā etadavoca - "subhūti, yāvakīvañca me bodhisattvena mahāsattvena evaṃ cittaṃ utpādayitabbaṃ - 'sabbe sattā aṇḍajā vā jalābujā vā saṃsedajā vā opapātikā vā, rūpino vā arūpino vā, saññino vā asaññino vā, nevasaññīnāsaññino vā, sabbe te mayā anupādāya parinibbāpayitabbā'. Evaṃ bahūni sattakoṭisatasahassāni parinibbāpetvāpi na koci satto parinibbātoti samanupassati. Taṃ kissa hetu? Subhūti, bodhisattvena mahāsattvena na kvacit sattasaññā patiṭṭhitā hoti, na jīvasaññā, na pudgalasaññā. Evaṃ hi subhūti, bodhisattvena mahāsattvena vihātabbaṃ."</p>
        </div>

        <div id="translation-de" class="translation-text">
            <p>Der Buddha sprach zu Subhuti: "Alle großen Bodhisattvas sollten ihre Gedanken so bezwingen: Alle Arten von Wesen - ob aus Eiern geboren, aus Leibern, aus Feuchtigkeit oder durch Verwandlung; ob mit Form oder ohne Form; ob mit Wahrnehmung oder ohne Wahrnehmung; oder weder mit noch ohne Wahrnehmung - ich lasse sie alle ins Nirvana ohne Rest eingehen und befreie sie. Obwohl ich so unzählige Wesen befreie, wird in Wahrheit kein Wesen befreit. Warum ist das so? Subhuti, wenn ein Bodhisattva die Vorstellung eines Selbst, einer Person, eines Wesens oder eines Lebens hat, ist er kein wahrer Bodhisattva."</p>
        </div>

        <div id="translation-fr" class="translation-text">
            <p>Le Bouddha dit à Subhuti : "Tous les grands bodhisattvas devraient soumettre leurs pensées ainsi : Toutes les classes d'êtres - qu'ils soient nés d'œufs, de matrices, d'humidité ou par transformation ; qu'ils aient une forme ou pas de forme ; qu'ils aient une perception ou pas de perception ; ou ni avec perception ni sans perception - je les fais tous entrer dans le nirvana sans reste et les libère. Bien que je libère ainsi d'innombrables êtres, en vérité aucun être n'est libéré. Pourquoi cela ? Subhuti, si un bodhisattva a la notion d'un soi, d'une personne, d'un être ou d'une vie, il n'est pas un vrai bodhisattva."</p>
        </div>

        <div id="translation-ru" class="translation-text">
            <p>Будда сказал Субхути: "Все великие бодхисаттвы должны укрощать свои мысли так: Все классы существ - рожденные из яиц, из утробы, из влаги или путем превращения; имеющие форму или не имеющие формы; имеющие восприятие или не имеющие восприятия; или ни имеющие восприятие, ни не имеющие восприятие - я заставлю их всех войти в нирвану без остатка и освобожу. Хотя я освобождаю таким образом бесчисленные существа, на самом деле ни одно существо не освобождено. Почему так? Субхути, если бодхисаттва имеет представление о себе, о личности, о существе или о жизни, он не истинный бодхисаттва."</p>
        </div>

        <div id="translation-es" class="translation-text">
            <p>El Buda dijo a Subhuti: "Todos los grandes bodhisattvas deberían someter sus pensamientos así: Todas las clases de seres - ya sea nacidos de huevos, de matrices, de humedad o por transformación; ya sea con forma o sin forma; ya sea con percepción o sin percepción; o ni con percepción ni sin percepción - los hago a todos entrar en el nirvana sin resto y los libero. Aunque libero así innumerables seres, en verdad ningún ser es liberado. ¿Por qué es esto? Subhuti, si un bodhisattva tiene la noción de un yo, una persona, un ser o una vida, no es un verdadero bodhisattva."</p>
        </div>

        <div id="translation-it" class="translation-text">
            <p>Il Buddha disse a Subhuti: "Tutti i grandi bodhisattva dovrebbero sottomettere i loro pensieri così: Tutte le classi di esseri - sia nati da uova, da matrici, da umidità o per trasformazione; sia con forma o senza forma; sia con percezione o senza percezione; o né con percezione né senza percezione - li faccio tutti entrare nel nirvana senza resto e li libero. Sebbene liberi così innumerevoli esseri, in verità nessun essere è liberato. Perché è così? Subhuti, se un bodhisattva ha la nozione di un sé, una persona, un essere o una vita, non è un vero bodhisattva."</p>
        </div>

        <div id="translation-pt" class="translation-text">
            <p>O Buda disse a Subhuti: "Todos os grandes bodhisattvas deveriam submeter seus pensamentos assim: Todas as classes de seres - sejam nascidos de ovos, de matrizes, de umidade ou por transformação; sejam com forma ou sem forma; sejam com percepção ou sem percepção; ou nem com percepção nem sem percepção - eu os faço todos entrar no nirvana sem resto e os liberto. Embora eu liberte assim inúmeros seres, na verdade nenhum ser é liberto. Por que isto? Subhuti, se um bodhisattva tem a noção de um eu, uma pessoa, um ser ou uma vida, ele não é um verdadeiro bodhisattva."</p>
        </div>

        <div id="translation-la" class="translation-text">
            <p>Buddha Subhuti dixit: "Omnes magni bodhisattvas cogitationes sic domare debent: Omnes generis entia - sive ex ovis, sive ex utero, sive ex humore, sive ex transformatione nata; sive formam habentia sive non habentia; sive perceptionem habentia sive non habentia; vel nec perceptionem nec non perceptionem habentia - omnia in nirvanam sine residuo intrare facio et libero. Quamvis innumera entia sic liberem, re vera nullum ens liberatur. Cur ita? Subhuti, si bodhisattva notionem sui, personae, entis vel vitae habet, non est verus bodhisattva."</p>
        </div>

        <div id="translation-el" class="translation-text">
            <p>Ο Βούδας είπε στον Σουμπούτι: "Όλοι οι μεγάλοι βοδισάττβες θα πρέπει να υποτάσσουν τις σκέψεις τους έτσι: Όλες οι κατηγορίες όντων - είτε γεννημένα από αυγά, είτε από μήτρες, είτε από υγρασία, είτε με μεταμόρφωση· είτε με μορφή είτε χωρίς μορφή· είτε με αντίληψη είτε χωρίς αντίληψη· ή ούτε με αντίληψη ούτε χωρίς αντίληψη - τα κάνω όλα να εισέλθουν στο νιρβάνα χωρίς υπόλοιπο και τα ελευθερώνω. Αν και ελευθερώνω έτσι αμέτρητα όντα, στην πραγματικότητα κανένα ον δεν ελευθερώνεται. Γιατί έτσι; Σουμπούτι, αν ένας βοδισάττβας έχει την έννοια του εαυτού, του ατόμου, του όντος ή της ζωής, δεν είναι αληθινός βοδισάττβας."</p>
        </div>

        <div id="footnote-modal" class="footnote-modal">
            <span class="footnote-close">&times;</span>
            <div class="footnote-content" id="footnote-content"></div>
        </div>
    </div>
    <a href="https://zhixingshuyuan-dev.github.io/ChineseClassicsReading/">主页 Homepage</a>
    
    <script>
        // 完整脚注数据
        const footnotes = {
            1: "摩诃（hē）萨：即摩诃萨堙，摩诃，就是大，前人曰：“心量广大，不可测量，乃是大悟人也。”旧译大心、大众生，新译大有情，就是菩萨的另一种尊称。",
            2: "卵生、胎生、湿生、化生、有色、无色、有想、无想、非有想、非无想：佛教认为众生的各种形态和境界。",
            3: "涅槃（niè pán）：梵语，也译作泥洹、泥畔等，意为灭度、寂灭、不生、安乐、清净、解脱、圆寂等，总之是指达到了佛的无念想、无烦恼境界。",
            4: "我相、人相、众生相、寿者相：这在佛教中叫“我人四相”，指还没有悟道成佛的各种执著。"
        };

        // Web Speech API 朗读功能
        function speakText(text, lang = 'zh-CN') {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = lang;
                utterance.rate = 0.8;
                window.speechSynthesis.speak(utterance);
            } else {
                alert('您的浏览器不支持语音合成功能，请使用Chrome或Edge浏览器');
            }
        }

        // 翻译切换功能
        function showTranslation(lang) {
            document.querySelectorAll('.translation-text').forEach(el => {
                el.style.display = 'none';
            });
            document.getElementById(`translation-${lang}`).style.display = 'block';
        }

        // 脚注显示功能
        function showFootnote(id) {
            const modal = document.getElementById('footnote-modal');
            const content = document.getElementById('footnote-content');
            content.innerHTML = footnotes[id];
            modal.style.display = 'block';
        }

        // 事件监听
        document.addEventListener('DOMContentLoaded', function() {
            // 朗读按钮
            document.querySelectorAll('.read-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const text = this.getAttribute('data-text');
                    speakText(text);
                });
            });

            // 翻译按钮
            document.querySelectorAll('.translation-buttons button').forEach(btn => {
                btn.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    showTranslation(lang);
                });
            });

            // 脚注按钮
            document.querySelectorAll('.footnote-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    showFootnote(id);
                });
            });

            // 关闭脚注
            document.querySelector('.footnote-close').addEventListener('click', function() {
                document.getElementById('footnote-modal').style.display = 'none';
            });

            // 点击模态框外部关闭
            window.addEventListener('click', function(event) {
                if (event.target === document.getElementById('footnote-modal')) {
                    document.getElementById('footnote-modal').style.display = 'none';
                }
            });

            // 字符工具提示
            document.querySelectorAll('.char').forEach(char => {
                char.addEventListener('mouseenter', function() {
                    const tooltip = this.querySelector('.char-tooltip');
                    if (tooltip) {
                        // 防止工具提示超出视口
                        const rect = this.getBoundingClientRect();
                        const tooltipWidth = tooltip.offsetWidth;
                        
                        if (rect.left + tooltipWidth / 2 > window.innerWidth) {
                            tooltip.style.left = 'auto';
                            tooltip.style.right = '0';
                            tooltip.style.transform = 'translateX(0)';
                        } else if (rect.left - tooltipWidth / 2 < 0) {
                            tooltip.style.left = '0';
                            tooltip.style.right = 'auto';
                            tooltip.style.transform = 'translateX(0)';
                        }
                    }
                });
            });
        });

        // 移动端适配：调整字体大小
        function adjustFontSize() {
            const isMobile = window.innerWidth <= 768;
            const originalText = document.querySelector('.original-text');
            if (isMobile) {
                originalText.style.fontSize = '24.7px';
            } else {
                originalText.style.fontSize = '28.6px';
            }
        }

        window.addEventListener('resize', adjustFontSize);
        adjustFontSize();
    </script>
</body>

</html>

