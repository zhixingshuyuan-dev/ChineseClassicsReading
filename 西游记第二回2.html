<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>西游记阅读器</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
      font-family: "微软雅黑", sans-serif;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #textContainer {
      text-align: center;
      max-width: 90%;
      padding: 20px;
    }

    .sentence {
      font-size: 90px; /* 放大50% (原60px) */
      line-height: 1.5;
      margin: 0 auto;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
    }

    .sentence.active {
      opacity: 1;
    }

    .hanzi {
      display: inline-block;
      min-width: 90px; /* 放大50% (原60px) */
      opacity: 0;
      transform: scale(0.5);
      transition: all 0.5s ease-out;
      cursor: pointer;
      position: relative;
    }

    .hanzi.show {
      opacity: 1;
      transform: scale(1);
    }

    .hanzi.highlight {
      color: #00fff7;
      text-shadow: 0 0 10px #00fff7;
    }

    .hanzi .pinyin {
      position: absolute;
      top: -50px; /* 调整以适应更大的字体 */
      left: 50%;
      transform: translateX(-50%);
      font-size: 30px; /* 放大50% (原20px) */
      background: rgba(0,0,0,0.7);
      padding: 3px 7px;
      border-radius: 5px;
      display: none;
    }

    .hanzi:hover .pinyin {
      display: block;
    }

    #controls {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
    }

    button {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 1px solid white;
      padding: 12px 22px; /* 放大按钮 */
      border-radius: 5px;
      cursor: pointer;
      font-size: 24px; /* 放大按钮文字 */
      transition: background 0.3s;
    }

    button:hover {
      background: rgba(255,255,255,0.3);
    }

    #startOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 1000;
    }

    #startButton {
      padding: 22px 45px; /* 放大按钮 */
      font-size: 36px; /* 放大50% (原24px) */
      background: #00fff7;
      color: #0f2027;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: transform 0.3s, background 0.3s;
    }

    #startButton:hover {
      transform: scale(1.05);
      background: #00e6d6;
    }

    #overlayText {
      margin-bottom: 30px;
      font-size: 42px; /* 放大50% (原28px) */
      color: #fff;
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="textContainer"></div>
  <div id="controls">
    <button id="prevBtn">上一句</button>
    <button id="pauseBtn">暂停</button>
    <button id="nextBtn">下一句</button>
  </div>

  <div id="startOverlay">
    <div id="overlayText">西游记阅读器</div>
    <button id="startButton">开始阅读</button>
  </div>

  <script>
    const sentences = [
      "一日，春归夏至，大众都在松树下会讲多时。",
      "大众曰：“悟空，你是那世修来的缘法？前日师父拊耳低言，传与你的躲三灾变化之法，可都会么？”",
      "悟空笑道：“不瞒诸兄长说，一则是师父传授，二来也是我昼夜殷勤，那几般儿都会了。”",
      "大众道：“趁此良时，你试演演，让我等看看。”",
      "悟空闻说，抖搜精神，卖弄手段道：“众师兄请出个题目。要我变化甚么？”",
      "大众道：“就变棵松树罢。”",
      "悟空捻着诀，念动咒语，摇身一变，就变做一棵松树。真个是：",
      "郁郁含烟贯四时，凌云直上秀贞姿。",
      "全无一点妖猴像，尽是经霜耐雪枝。",
      "大众见了，鼓掌呀呀大笑。都道：“好猴儿！好猴儿！”不觉的嚷闹，惊动了祖师。",
      "祖师急拽杖出门来问道：“是何人在此喧哗？”",
      "大众闻呼，慌忙检束，整衣向前。",
      "悟空也现了本相，杂在丛中道：“启上尊师，我等在此会讲，更无外姓喧哗。”",
      "祖师怒喝道：“你等大呼小叫，全不像个修行的体段！",
      "修行的人，口开神气散，舌动是非生。如何在此嚷笑？”",
      "大众道：“不敢瞒师父，适才孙悟空演变化耍子。",
      "教他变棵松树，果然是棵松树，弟子们俱称扬喝采，故高声惊冒尊师，望乞恕罪。”",
      "祖师道：“你等起去。”",
      "叫：“悟空，过来！我问你弄甚么精神，变甚么松树？",
      "这个工夫，可好在人前卖弄？",
      "假如你见别人有，不要求他？别人见你有，必然求你。",
      "你若畏祸，却要传他；若不传他，必然加害：你之性命又不可保。”",
      "悟空叩道：“只望师父恕罪！”",
      "祖师道：“我也不罪你，但只是你去吧。”",
      "悟空闻此言，满眼堕泪道：“师父教我往那里去？”",
      "祖师道：“你从那里来，便从那里去就是了。”",
      "悟空顿然醒悟道：“我自东胜神洲傲来国花果山水帘洞来的。”",
      "祖师道：“你快回去，全你性命，若在此间，断然不可！”",
      "悟空领罪，“上告尊师，我也离家有二十年矣，虽是回顾旧日儿孙，但念师父厚恩未报，不敢去。”",
      "祖师道：“那里甚么恩义？你只是不惹祸不牵带我就罢了！”",
      "悟空见没奈何，只得拜辞，与众相别。",
      "祖师道：“你这去，定生不良。",
      "凭你怎么惹祸行凶，却不许说是我的徒弟。",
      "你说出半个字来，我就知之，把你这猢狲剥皮锉骨，将神魂贬在九幽之处，教你万劫不得翻身！”",
      "悟空道：“决不敢提起师父一字，只说是我自家会的便罢。”",
      "悟空谢了。即抽身，捻着诀，丢个连扯，纵起筋斗云，径回东海。",
      "那里消一个时辰，早看见花果山水帘洞。",
      "美猴王自知快乐，暗暗的自称道：",
      "“去时凡骨凡胎重，得道身轻体亦轻。",
      "举世无人肯立志，立志修玄玄自明。",
      "当时过海波难进，今日来回甚易行。",
      "别语叮咛还在耳，何期顷刻见东溟。”",
      "悟空按下云头，直至花果山。",
      "找路而走，忽听得鹤唳猿啼，鹤唳声冲霄汉外，猿啼悲切甚伤情。",
      "即开口叫道：“孩儿们，我来了也！”",
      "那崖下石坎边，花草中，树木里，若大若小之猴，跳出千千万万，把个美猴王围在当中，叩头叫道：",
      "“大王，你好宽心！怎么一去许久？把我们俱闪在这里，望你诚如饥渴！",
      "近来被一妖魔在此欺虐，强要占我们水帘洞府，是我等舍死忘生，与他争斗。",
      "这些时，被那厮抢了我们家火，捉了许多子侄，教我们昼夜无眠，看守家业。",
      "幸得大王来了！大王若再年载不来，我等连山洞尽属他人矣！”",
      "悟空闻说，心中大怒道：“是什么妖魔，辄敢无状！",
      "你且细细说来，待我寻他报仇。”",
      "众猴叩头：“告上大王，那厮自称混世魔王，住居在直北下。”",
      "悟空道：“此间到他那里，有多少路程？”",
      "众猴道：“他来时云，去时雾，或风或雨，或电或雷，我等不知有多少路。”",
      "悟空道：“既如此，你们休怕，且自顽耍，等我寻他去来！”",
      "好猴王，将身一纵，跳起去，一路筋斗，直至北下观看，见一座高山，真是十分险峻。好山：",
      "笔峰挺立，曲涧深沉。笔峰挺立透空霄，曲涧深沉通地户。",
      "两崖花木争奇，几处松篁斗翠。左边龙，熟熟驯驯；右边虎，平平伏伏。",
      "每见铁牛耕，常有金钱种。幽禽睍睆声，丹凤朝阳立。",
      "石磷磷，波净净，古怪跷蹊真恶狞。世上名山无数多，花开花谢蘩还众。",
      "争如此景永长存，八节四时浑不动。诚为三界坎源山，滋养五行水脏洞！",
      "美猴王正默看景致，只听得有人言语。",
      "径自下山寻觅，原来那陡崖之前，乃是那水脏洞。",
      "洞门外有几个小妖跳舞，见了悟空就走。",
      "悟空道：“休走！借你口中言，传我心内事。",
      "我乃正南方花果山水帘洞洞主。",
      "你家甚么混世鸟魔，屡次欺我儿孙，我特寻来，要与他见个上下！”",
      "那小妖听说，疾忙跑入洞里，报道：“大王！祸事了！”",
      "魔王道：“有甚祸事？”",
      "小妖道：“洞外有猴头称为花果山水帘洞洞主。",
      "他说你屡次欺他儿孙，特来寻你，见个上下哩。”",
      "魔王笑道：“我常闻得那些猴精说他有个大王，出家修行去，想是今番来了。",
      "你们见他怎生打扮，有甚器械？”",
      "小妖道：“他也没甚么器械，光着个头，穿一领红色衣，勒一条黄绦，足下踏一对乌靴，不僧不俗，又不像道士神仙，赤手空拳，在门外叫哩。”",
      "魔王闻说：“取我批挂兵器来！”",
      "那小妖即时取出。",
      "那魔王穿了甲胄，绰刀在手，与众妖出得门来，即高声叫道：“那个是水帘洞洞主？”",
      "悟空急睁睛观看，只见那魔王：",
      "头戴乌金盔，映日光明；身挂皂罗袍，迎风飘荡。",
      "下穿着黑铁甲，紧勒皮条；足踏着花褶靴，雄如上将。",
      "腰广十围，身高三丈，手执一口刀，锋刃多明亮。称为混世魔，磊落凶模样。",
      "猴王喝道：“这泼魔这般眼大，看不见老孙！”",
      "魔王见了，笑道：“你身不满四尺，年不过三旬，手内又无兵器，怎么大胆猖狂，要寻我见甚么上下？”",
      "悟空骂道：“你这泼魔，原来没眼！",
      "你量我小，要大却也不难。你量我无兵器，我两只手勾着天边月哩！",
      "你不要怕，只吃老孙一拳！”",
      "纵一纵，跳上去，劈脸就打。",
      "那魔王伸手架住道：“你这般矬矮，我这般高长，你要使拳，我要使刀，使刀就杀了你，也吃人笑，待我放下刀，与你使路拳看。”",
      "悟空道：“说得是。好汉子！走来！”",
      "那魔王丢开架子便打，这悟空钻进去相撞相迎。",
      "他两个拳捶脚踢，一冲一撞。原来长拳空大，短簇坚牢。",
      "那魔王被悟空掏短肋，撞了裆，几下筋节，把他打重了。",
      "他闪过，拿起那板大的钢刀，望悟空劈头就砍。",
      "悟空急撤身，他砍了一个空。",
      "悟空见他凶猛，即使身外身法，拔一把毫毛，丢在口中嚼碎，望空中喷去，叫一声“变！”，即变做三二百个小猴，周围攒簇。",
      "原来人得仙体，出神变化，无方不知。",
      "这猴王自从了道之后，身上有八万四千毛羽，根根能变，应物随心。",
      "那些小猴，眼乖会跳，刀来砍不着，枪去不能伤。",
      "你看他前踊后跃，钻上去，把魔王围绕，抱的抱，扯的扯，钻裆的钻裆，扳脚的扳脚，踢打挦毛，抠眼睛，捻鼻子，抬鼓弄，直打做一个攒盘。",
      "这悟空才去夺得他的刀来，分开小猴，照顶门一下，砍为两段。",
      "领众杀进洞中，将那大小妖精，尽皆剿灭。",
      "却把毫毛一抖，收上身来。",
      "又见那收不上身者，却是那魔王在水帘洞中擒去的小猴，",
      "悟空道：“汝等何为到此？”",
      "约有三五十个，都含泪道：“我等因大王修仙去后，这两年被他争吵，把我们都摄将来，那不是我们洞中的家火？石盆、石碗都被这厮拿来也。”",
      "悟空道：“既是我们的家火，你们都搬出外去。”",
      "随即洞里放起火来，把那水脏洞烧得枯干，尽归了一体。",
      "对众道：“汝等跟我回去。”",
      "众猴道：“大王，我们来时，只听得耳边风声，虚飘飘到于此地，更不识路径，今怎得回乡？”",
      "悟空道：“这是他弄的个术法儿，有何难也！我如今一窍通，百窍通，我也会弄。你们都合了眼，休怕！”",
      "好猴王，念声咒语，驾阵狂风，云头落下。",
      "叫：“孩儿们，睁眼。”",
      "众猴脚屣实地，认得是家乡，个个欢喜，都奔洞门旧路。",
      "那在洞众猴，都一齐簇拥同入，分班齿序，礼拜猴王。",
      "安排酒果，接风贺喜，启问降魔救子之事。",
      "悟空备细言了一遍，众猴称扬不尽道：“大王去到那方，不意学得这般手段！”",
      "悟空又道：“我当年别汝等，随波逐流，飘过东洋大海，径至南赡部洲，学成人像，着此衣，穿此履，摆摆摇摇，云游八九年馀，更不曾有道；",
      "又渡西洋大海，到西牛贺洲地界，访问多时，幸遇一老祖，传了我与天同寿的真功果，不死长生的大法门。”",
      "众猴称贺。都道：“万劫难逢也！”",
      "悟空又笑道：“小的们，又喜我这一门皆有姓氏。”",
      "众猴道：“大王何姓？”",
      "悟空道：“我今姓孙，法名悟空。”",
      "众猴闻说，鼓掌忻然道：“大王是老孙，我们都是二孙、三孙、细孙、小孙、——一家孙、一国孙、一窝孙矣！”",
      "都来奉承老孙，大盆小碗的，椰子酒、葡萄酒、仙花、仙果，真个是合家欢乐！咦！",
      "贯通一姓身归本，只待荣迁仙录箓名。",
      "毕竟不知怎生结果，居此界终始如何，且听下回分解。"
    ];

    const pinyinMap = {
      "一": "yī", "日": "rì", "春": "chūn", "归": "guī", "夏": "xià", 
      "至": "zhì", "大": "dà", "众": "zhòng", "都": "dōu", "在": "zài",
      "松": "sōng", "树": "shù", "下": "xià", "会": "huì", "讲": "jiǎng",
      "多": "duō", "时": "shí", "曰": "yuē", "悟": "wù", "空": "kōng",
      "你": "nǐ", "是": "shì", "那": "nà", "世": "shì", "修": "xiū",
      "来": "lái", "的": "de", "缘": "yuán", "法": "fǎ", "前": "qián",
      "师": "shī", "父": "fù", "拊": "fǔ", "耳": "ěr", "低": "dī",
      "言": "yán", "传": "chuán", "与": "yǔ", "躲": "duǒ", "三": "sān",
      "灾": "zāi", "变": "biàn", "化": "huà", "可": "kě", "会": "huì",
      "么": "me", "笑": "xiào", "道": "dào", "不": "bù", "瞒": "mán",
      "诸": "zhū", "兄": "xiōng", "长": "zhǎng", "说": "shuō", "则": "zé",
      "授": "shòu", "二": "èr", "也": "yě", "我": "wǒ", "昼": "zhòu",
      "夜": "yè", "殷": "yīn", "勤": "qín", "几": "jǐ", "般": "bān",
      "儿": "ér", "了": "le", "趁": "chèn", "此": "cǐ", "良": "liáng",
      "试": "shì", "演": "yǎn", "让": "ràng", "等": "děng", "看": "kàn",
      "闻": "wén", "抖": "dǒu", "搜": "sōu", "精": "jīng", "神": "shén",
      "卖": "mài", "弄": "nòng", "手": "shǒu", "段": "duàn", "请": "qǐng",
      "出": "chū", "个": "gè", "题": "tí", "目": "mù", "要": "yào",
      "甚": "shén", "么": "me", "就": "jiù", "棵": "kē", "罢": "ba",
      "捻": "niǎn", "着": "zhe", "诀": "jué", "念": "niàn", "动": "dòng",
      "咒": "zhòu", "语": "yǔ", "摇": "yáo", "身": "shēn", "做": "zuò",
      "真": "zhēn", "郁": "yù", "含": "hán", "烟": "yān", "贯": "guàn",
      "四": "sì", "凌": "líng", "云": "yún", "直": "zhí", "上": "shàng",
      "秀": "xiù", "贞": "zhēn", "姿": "zī", "全": "quán", "无": "wú",
      "点": "diǎn", "妖": "yāo", "猴": "hóu", "像": "xiàng", "尽": "jìn",
      "经": "jīng", "霜": "shuāng", "耐": "nài", "雪": "xuě", "枝": "zhī",
      "见": "jiàn", "鼓": "gǔ", "掌": "zhǎng", "呀": "yā", "大": "dà",
      "好": "hǎo", "儿": "ér", "不": "bù", "觉": "jué", "嚷": "rǎng",
      "闹": "nào", "惊": "jīng", "动": "dòng", "祖": "zǔ", "急": "jí",
      "拽": "zhuài", "杖": "zhàng", "门": "mén", "问": "wèn", "何": "hé",
      "人": "rén", "喧": "xuān", "哗": "huá", "慌": "huāng", "忙": "máng",
      "检": "jiǎn", "束": "shù", "整": "zhěng", "衣": "yī", "向": "xiàng",
      "现": "xiàn", "本": "běn", "相": "xiàng", "杂": "zá", "丛": "cóng",
      "中": "zhōng", "启": "qǐ", "尊": "zūn", "更": "gèng", "外": "wài",
      "姓": "xìng", "怒": "nù", "喝": "hè", "呼": "hū", "叫": "jiào",
      "像": "xiàng", "体": "tǐ", "段": "duàn", "口": "kǒu", "开": "kāi",
      "散": "sàn", "舌": "shé", "生": "shēng", "如": "rú", "何": "hé",
      "敢": "gǎn", "适": "shì", "才": "cái", "孙": "sūn", "果": "guǒ",
      "然": "rán", "弟": "dì", "子": "zǐ", "们": "men", "俱": "jù",
      "称": "chēng", "扬": "yáng", "喝": "hè", "采": "cǎi", "故": "gù",
      "高": "gāo", "声": "shēng", "冒": "mào", "望": "wàng", "乞": "qǐ",
      "恕": "shù", "罪": "zuì", "起": "qǐ", "去": "qù", "过": "guò",
      "来": "lái", "问": "wèn", "弄": "nòng", "精": "jīng", "变": "biàn",
      "工": "gōng", "夫": "fū", "可": "kě", "好": "hǎo", "人": "rén",
      "前": "qián", "卖": "mài", "假": "jiǎ", "如": "rú", "别": "bié",
      "求": "qiú", "必": "bì", "然": "rán", "若": "ruò", "畏": "wèi",
      "祸": "huò", "却": "què", "传": "chuán", "加": "jiā", "害": "hài",
      "性": "xìng", "命": "mìng", "又": "yòu", "保": "bǎo", "叩": "kòu",
      "只": "zhǐ", "但": "dàn", "满": "mǎn", "眼": "yǎn", "堕": "duò",
      "泪": "lèi", "教": "jiào", "往": "wǎng", "那": "nà", "里": "lǐ",
      "便": "biàn", "顿": "dùn", "醒": "xǐng", "悟": "wù", "自": "zì",
      "东": "dōng", "胜": "shèng", "神": "shén", "洲": "zhōu", "傲": "ào",
      "国": "guó", "花": "huā", "果": "guǒ", "水": "shuǐ", "帘": "lián",
      "洞": "dòng", "快": "kuài", "回": "huí", "全": "quán", "断": "duàn",
      "领": "lǐng", "上": "shàng", "告": "gào", "离": "lí", "家": "jiā",
      "有": "yǒu", "二": "èr", "十": "shí", "年": "nián", "矣": "yǐ",
      "虽": "suī", "顾": "gù", "旧": "jiù", "厚": "hòu", "恩": "ēn",
      "未": "wèi", "报": "bào", "敢": "gǎn", "那": "nà", "义": "yì",
      "惹": "rě", "牵": "qiān", "带": "dài", "没": "méi", "奈": "nài",
      "何": "hé", "得": "dé", "拜": "bài", "辞": "cí", "与": "yǔ",
      "相": "xiāng", "别": "bié", "定": "dìng", "生": "shēng", "不": "bù",
      "良": "liáng", "凭": "píng", "怎": "zěn", "么": "me", "行": "xíng",
      "凶": "xiōng", "许": "xǔ", "说": "shuō", "徒": "tú", "弟": "dì",
      "半": "bàn", "字": "zì", "知": "zhī", "把": "bǎ", "猢": "hú",
      "狲": "sūn", "剥": "bō", "皮": "pí", "锉": "cuò", "骨": "gǔ",
      "将": "jiāng", "魂": "hún", "贬": "biǎn", "九": "jiǔ", "幽": "yōu",
      "处": "chù", "教": "jiào", "万": "wàn", "劫": "jié", "翻": "fān",
      "身": "shēn", "决": "jué", "提": "tí", "家": "jiā", "谢": "xiè",
      "即": "jí", "抽": "chōu", "丢": "diū", "个": "gè", "连": "lián",
      "扯": "chě", "纵": "zòng", "筋": "jīn", "斗": "dǒu", "径": "jìng",
      "消": "xiāo", "早": "zǎo", "知": "zhī", "快": "kuài", "乐": "lè",
      "暗": "àn", "称": "chēng", "去": "qù", "凡": "fán", "骨": "gǔ",
      "胎": "tāi", "重": "zhòng", "得": "dé", "轻": "qīng", "举": "jǔ",
      "举": "jǔ", "世": "shì", "无": "wú", "肯": "kěn", "立": "lì",
      "志": "zhì", "玄": "xuán", "明": "míng", "当": "dāng", "海": "hǎi",
      "波": "bō", "难": "nán", "进": "jìn", "今": "jīn", "日": "rì",
      "易": "yì", "别": "bié", "语": "yǔ", "叮": "dīng", "咛": "níng",
      "还": "hái", "耳": "ěr", "期": "qī", "顷": "qǐng", "刻": "kè",
      "东": "dōng", "溟": "míng", "按": "àn", "下": "xià", "头": "tóu",
      "直": "zhí", "找": "zhǎo", "路": "lù", "走": "zǒu", "忽": "hū",
      "听": "tīng", "鹤": "hè", "唳": "lì", "猿": "yuán", "啼": "tí",
      "冲": "chōng", "霄": "xiāo", "汉": "hàn", "悲": "bēi", "切": "qiè",
      "甚": "shèn", "伤": "shāng", "情": "qíng", "即": "jí", "开": "kāi",
      "叫": "jiào", "孩": "hái", "们": "men", "来": "lái", "崖": "yá",
      "石": "shí", "坎": "kǎn", "边": "biān", "草": "cǎo", "木": "mù",
      "若": "ruò", "小": "xiǎo", "跳": "tiào", "千": "qiān", "万": "wàn",
      "把": "bǎ", "围": "wéi", "当": "dāng", "叩": "kòu", "宽": "kuān",
      "心": "xīn", "怎": "zěn", "久": "jiǔ", "闪": "shǎn", "诚": "chéng",
      "饥": "jī", "渴": "kě", "近": "jìn", "被": "bèi", "欺": "qī",
      "虐": "nüè", "强": "qiáng", "占": "zhàn", "府": "fǔ", "舍": "shě",
      "死": "sǐ", "忘": "wàng", "争": "zhēng", "斗": "dòu", "厮": "sī",
      "抢": "qiǎng", "火": "huǒ", "捉": "zhuō", "许": "xǔ", "侄": "zhí",
      "眠": "mián", "守": "shǒu", "业": "yè", "幸": "xìng", "再": "zài",
      "载": "zǎi", "连": "lián", "属": "shǔ", "他": "tā", "闻": "wén",
      "中": "zhōng", "怒": "nù", "什": "shén", "辄": "zhé", "状": "zhuàng",
      "且": "qiě", "细": "xì", "待": "dài", "寻": "xún", "仇": "chóu",
      "告": "gào", "称": "chēng", "混": "hùn", "魔": "mó", "王": "wáng",
      "住": "zhù", "居": "jū", "直": "zhí", "北": "běi", "此": "cǐ",
      "间": "jiān", "到": "dào", "多": "duō", "少": "shǎo", "程": "chéng",
      "雾": "wù", "或": "huò", "风": "fēng", "雨": "yǔ", "电": "diàn",
      "雷": "léi", "知": "zhī", "休": "xiū", "怕": "pà", "且": "qiě",
      "顽": "wán", "耍": "shuǎ", "等": "děng", "纵": "zòng", "路": "lù",
      "观": "guān", "座": "zuò", "高": "gāo", "十": "shí", "分": "fēn",
      "险": "xiǎn", "峻": "jùn", "笔": "bǐ", "峰": "fēng", "挺": "tǐng",
      "立": "lì", "曲": "qū", "涧": "jiàn", "深": "shēn", "沉": "chén",
      "透": "tòu", "通": "tōng", "地": "dì", "户": "hù", "两": "liǎng",
      "争": "zhēng", "奇": "qí", "几": "jǐ", "翠": "cuì", "左": "zuǒ",
      "龙": "lóng", "熟": "shú", "驯": "xùn", "右": "yòu", "虎": "hǔ",
      "平": "píng", "伏": "fú", "每": "měi", "见": "jiàn", "铁": "tiě",
      "牛": "niú", "耕": "gēng", "常": "cháng", "金": "jīn", "钱": "qián",
      "种": "zhòng", "幽": "yōu", "禽": "qín", "睍": "xiàn", "睆": "huǎn",
      "丹": "dān", "凤": "fèng", "朝": "cháo", "阳": "yáng", "磷": "lín",
      "波": "bō", "净": "jìng", "古": "gǔ", "怪": "guài", "跷": "qiāo",
      "蹊": "qī", "真": "zhēn", "恶": "è", "狞": "níng", "世": "shì",
      "名": "míng", "数": "shù", "开": "kāi", "谢": "xiè", "蘩": "fán",
      "还": "hái", "争": "zhēng", "如": "rú", "景": "jǐng", "永": "yǒng",
      "长": "cháng", "存": "cún", "八": "bā", "节": "jié", "浑": "hún",
      "诚": "chéng", "为": "wéi", "三": "sān", "界": "jiè", "坎": "kǎn",
      "源": "yuán", "滋": "zī", "养": "yǎng", "五": "wǔ", "行": "xíng",
      "脏": "zàng", "正": "zhèng", "默": "mò", "景": "jǐng", "致": "zhì",
      "听": "tīng", "人": "rén", "径": "jìng", "下": "xià", "觅": "mì",
      "原": "yuán", "陡": "dǒu", "乃": "nǎi", "门": "mén", "外": "wài",
      "跳": "tiào", "舞": "wǔ", "休": "xiū", "借": "jiè", "口": "kǒu",
      "内": "nèi", "事": "shì", "乃": "nǎi", "正": "zhèng", "南": "nán",
      "方": "fāng", "主": "zhǔ", "家": "jiā", "鸟": "niǎo", "屡": "lǚ",
      "次": "cì", "特": "tè", "见": "jiàn", "上": "shàng", "下": "xià",
      "疾": "jí", "跑": "pǎo", "入": "rù", "报": "bào", "祸": "huò",
      "有": "yǒu", "洞": "dòng", "头": "tóu", "为": "wéi", "精": "jīng",
      "想": "xiǎng", "番": "fān", "打": "dǎ", "扮": "bàn", "器": "qì",
      "械": "xiè", "光": "guāng", "领": "lǐng", "红": "hóng", "色": "sè",
      "勒": "lēi", "条": "tiáo", "黄": "huáng", "绦": "tāo", "足": "zú",
      "踏": "tà", "对": "duì", "乌": "wū", "靴": "xuē", "僧": "sēng",
      "俗": "sú", "像": "xiàng", "道": "dào", "士": "shì", "仙": "xiān",
      "赤": "chì", "空": "kōng", "拳": "quán", "叫": "jiào", "哩": "li",
      "取": "qǔ", "批": "pī", "挂": "guà", "兵": "bīng", "器": "qì",
      "穿": "chuān", "甲": "jiǎ", "胄": "zhòu", "绰": "chāo", "出": "chū",
      "得": "dé", "哪": "nǎ", "急": "jí", "睁": "zhēng", "睛": "jīng",
      "戴": "dài", "乌": "wū", "金": "jīn", "盔": "kuī", "映": "yìng",
      "日": "rì", "明": "míng", "挂": "guà", "皂": "zào", "罗": "luó",
      "袍": "páo", "迎": "yíng", "飘": "piāo", "荡": "dàng", "穿": "chuān",
      "黑": "hēi", "铁": "tiě", "紧": "jǐn", "皮": "pí", "条": "tiáo",
      "踏": "tà", "褶": "zhě", "雄": "xióng", "如": "rú", "将": "jiàng",
      "腰": "yāo", "广": "guǎng", "围": "wéi", "执": "zhí", "口": "kǒu",
      "刀": "dāo", "锋": "fēng", "刃": "rèn", "亮": "liàng", "称": "chēng",
      "磊": "lěi", "落": "luò", "凶": "xiōng", "模": "mú", "样": "yàng",
      "泼": "pō", "般": "bān", "眼": "yǎn", "看": "kàn", "老": "lǎo",
      "孙": "sūn", "见": "jiàn", "满": "mǎn", "四": "sì", "尺": "chǐ",
      "过": "guò", "三": "sān", "旬": "xún", "内": "nèi", "胆": "dǎn",
      "猖": "chāng", "狂": "kuáng", "量": "liàng", "勾": "gōu", "天": "tiān",
      "边": "biān", "月": "yuè", "吃": "chī", "拳": "quán", "纵": "zòng",
      "劈": "pī", "脸": "liǎn", "伸": "shēn", "架": "jià", "住": "zhù",
      "矬": "cuó", "矮": "ǎi", "使": "shǐ", "杀": "shā", "笑": "xiào",
      "放": "fàng", "汉": "hàn", "子": "zǐ", "丢": "diū", "架": "jià",
      "钻": "zuān", "进": "jìn", "撞": "zhuàng", "迎": "yíng", "两": "liǎng",
      "捶": "chuí", "踢": "tī", "冲": "chōng", "原": "yuán", "长": "cháng",
      "短": "duǎn", "簇": "cù", "坚": "jiān", "牢": "láo", "掏": "tāo",
      "肋": "lèi", "裆": "dāng", "筋": "jīn", "节": "jié", "打": "dǎ",
      "闪": "shǎn", "拿": "ná", "板": "bǎn", "钢": "gāng", "劈": "pī",
      "砍": "kǎn", "撤": "chè", "猛": "měng", "即": "jí", "拔": "bá",
      "把": "bǎ", "毫": "háo", "毛": "máo", "丢": "diū", "嚼": "jiáo",
      "碎": "suì", "喷": "pēn", "变": "biàn", "三": "sān", "百": "bǎi",
      "周": "zhōu", "围": "wéi", "攒": "cuán", "簇": "cù", "得": "dé",
      "体": "tǐ", "羽": "yǔ", "根": "gēn", "应": "yìng", "物": "wù",
      "随": "suí", "心": "xīn", "乖": "guāi", "枪": "qiāng", "伤": "shāng",
      "踊": "yǒng", "跃": "yuè", "抱": "bào", "扳": "bān", "脚": "jiǎo",
      "挦": "xián", "抠": "kōu", "鼻": "bí", "抬": "tái", "鼓": "gǔ",
      "弄": "nòng", "盘": "pán", "夺": "duó", "分": "fēn", "顶": "dǐng",
      "砍": "kǎn", "两": "liǎng", "段": "duàn", "杀": "shā", "尽": "jìn",
      "剿": "jiǎo", "灭": "miè", "抖": "dǒu", "收": "shōu", "汝": "rǔ",
      "何": "hé", "为": "wèi", "约": "yuē", "含": "hán", "泪": "lèi",
      "吵": "chǎo", "摄": "shè", "将": "jiāng", "盆": "pén", "碗": "wǎn",
      "搬": "bān", "随": "suí", "放": "fàng", "烧": "shāo", "枯": "kū",
      "干": "gān", "归": "guī", "跟": "gēn", "乡": "xiāng", "识": "shí",
      "径": "jìng", "术": "shù", "窍": "qiào", "合": "hé", "驾": "jià",
      "阵": "zhèn", "狂": "kuáng", "落": "luò", "睁": "zhēng", "屣": "xǐ",
      "实": "shí", "认": "rèn", "欢": "huān", "喜": "xǐ", "奔": "bēn",
      "旧": "jiù", "齐": "qí", "拥": "yōng", "班": "bān", "齿": "chǐ",
      "序": "xù", "礼": "lǐ", "排": "pái", "酒": "jiǔ", "果": "guǒ",
      "接": "jiē", "风": "fēng", "贺": "hè", "启": "qǐ", "降": "jiàng",
      "救": "jiù", "备": "bèi", "细": "xì", "遍": "biàn", "意": "yì",
      "手": "shǒu", "段": "duàn", "别": "bié", "随": "suí", "波": "bō",
      "流": "liú", "飘": "piāo", "洋": "yáng", "赡": "shàn", "部": "bù",
      "学": "xué", "成": "chéng", "像": "xiàng", "着": "zhe", "履": "lǚ",
      "摆": "bǎi", "摇": "yáo", "游": "yóu", "馀": "yú", "曾": "céng",
      "渡": "dù", "西": "xī", "贺": "hè", "访": "fǎng", "问": "wèn",
      "幸": "xìng", "遇": "yù", "老": "lǎo", "祖": "zǔ", "同": "tóng",
      "寿": "shòu", "真": "zhēn", "功": "gōng", "果": "guǒ", "死": "sǐ",
      "生": "shēng", "大": "dà", "法": "fǎ", "门": "mén", "贺": "hè",
      "逢": "féng", "又": "yòu", "皆": "jiē", "姓": "xìng", "氏": "shì",
      "今": "jīn", "今": "jīn", "法": "fǎ", "忻": "xīn", "然": "rán",
      "老": "lǎo", "二": "èr", "细": "xì", "窝": "wō", "奉": "fèng",
      "承": "chéng", "盆": "pén", "椰": "yē", "葡": "pú", "萄": "táo",
      "仙": "xiān", "合": "hé", "欢": "huān", "乐": "lè", "咦": "yí",
      "贯": "guàn", "身": "shēn", "归": "guī", "本": "běn", "待": "dài",
      "荣": "róng", "迁": "qiān", "录": "lù", "箓": "lù", "名": "míng",
      "毕": "bì", "竟": "jìng", "知": "zhī", "怎": "zěn", "居": "jū",
      "终": "zhōng", "始": "shǐ", "且": "qiě", "听": "tīng", "回": "huí",
      "分": "fēn", "解": "jiě"
    };

    // 全局变量
    let currentSentenceIndex = 0;
    let isPlaying = false;
    let timeoutId = null;
    const textContainer = document.getElementById('textContainer');
    const prevBtn = document.getElementById('prevBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const nextBtn = document.getElementById('nextBtn');
    const startButton = document.getElementById('startButton');
    const startOverlay = document.getElementById('startOverlay');
    const synth = window.speechSynthesis;

    // 初始化函数
    function init() {
      // 设置控制按钮事件
      setupControls();
      
      // 开始按钮事件
      startButton.addEventListener('click', startReading);
    }

    function setupControls() {
      prevBtn.addEventListener('click', () => {
        if (currentSentenceIndex > 0) {
          currentSentenceIndex--;
          showCurrentSentence();
        }
      });

      pauseBtn.addEventListener('click', () => {
        isPlaying = !isPlaying;
        pauseBtn.textContent = isPlaying ? '暂停' : '继续';
        if (isPlaying) {
          showCurrentSentence();
        } else {
          clearTimeout(timeoutId);
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentSentenceIndex < sentences.length - 1) {
          currentSentenceIndex++;
          showCurrentSentence();
        }
      });
    }

    function startReading() {
      startOverlay.style.display = 'none';
      isPlaying = true;
      showCurrentSentence();
      
      // 激活语音合成API（有些浏览器需要用户交互后才能使用）
      const utterance = new SpeechSynthesisUtterance('');
      utterance.volume = 0;
      synth.speak(utterance);
    }

    function speakCharacter(char) {
      if (synth.speaking) {
        synth.cancel();
      }
      
      const utterance = new SpeechSynthesisUtterance(char);
      utterance.lang = 'zh-CN';
      utterance.rate = 0.8;
      synth.speak(utterance);
    }

    function showCurrentSentence() {
      clearTimeout(timeoutId);
      
      const sentence = sentences[currentSentenceIndex];
      textContainer.innerHTML = '';
      
      const sentenceEl = document.createElement('div');
      sentenceEl.className = 'sentence';
      textContainer.appendChild(sentenceEl);
      
      // 逐个添加汉字
      const chars = sentence.split('');
      chars.forEach((char, index) => {
        const hanzi = document.createElement('span');
        hanzi.className = 'hanzi';
        hanzi.textContent = char;
        
        // 添加拼音元素
        const pinyin = document.createElement('span');
        pinyin.className = 'pinyin';
        pinyin.textContent = pinyinMap[char] || '';
        hanzi.appendChild(pinyin);
        
        // 添加点击事件
        hanzi.addEventListener('click', () => {
          speakCharacter(char);
          // 高亮效果
          document.querySelectorAll('.hanzi.highlight').forEach(el => {
            el.classList.remove('highlight');
          });
          hanzi.classList.add('highlight');
        });
        
        sentenceEl.appendChild(hanzi);
        
        // 逐个显示汉字
        setTimeout(() => {
          hanzi.classList.add('show');
        }, index * 300);
      });
      
      // 显示整句
      setTimeout(() => {
        sentenceEl.classList.add('active');
      }, 500);
      
      // 自动播放下一句
      if (isPlaying) {
        const sentenceDuration = chars.length * 300 + 3000;
        timeoutId = setTimeout(() => {
          if (currentSentenceIndex < sentences.length - 1) {
            currentSentenceIndex++;
          } else {
            currentSentenceIndex = 0; // 循环回到第一句
          }
          showCurrentSentence();
        }, sentenceDuration);
      }
    }

    // 页面加载后初始化
    window.addEventListener('load', init);
  </script>
</body>
</html>