<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>庄子·逍遥游（第三段）</title>
    <style>
        body {
            font-family: 'SimSun', 'STKaiti', serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px;
            color: #333;
            background-color: #f9f9f7;
        }
        
        h1 {
            font-size: 32px;
            color: #8b4513;
            border-bottom: 2px solid #d2b48c;
            padding-bottom: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        h2 {
            font-size: 26px;
            color: #8b4513;
            border-bottom: 1px solid #d2b48c;
            padding-bottom: 8px;
            margin-top: 40px;
        }
        
        .original-text {
            font-size: 22px;
            background-color: #fffaf0;
            padding: 25px;
            border-left: 5px solid #d2b48c;
            margin-bottom: 30px;
            line-height: 2.0;
        }
        
        .char-container {
            display: inline-block;
            position: relative;
            cursor: pointer;
            margin: 0 1px;
        }
        
        .char-popup {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #8b4513;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 16px;
            white-space: nowrap;
            display: none;
            z-index: 100;
            margin-bottom: 5px;
        }
        
        .char-container:hover .char-popup {
            display: block;
        }
        
        .translation-container, .annotation-container {
            margin-bottom: 40px;
        }
        
        .button-group {
            display: flex;
            gap: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        button {
            font-size: 18px;
            background-color: #d2b48c;
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            cursor: pointer;
            color: white;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #b8860b;
        }
        
        button.active {
            background-color: #8b4513;
            font-weight: bold;
        }
        
        .translation, .annotation {
            display: none;
            background-color: #fff;
            padding: 25px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 25px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .translation {
            font-size: 18px;
        }
        
        .annotation {
            font-size: 20px;
            line-height: 2.0;
        }
        
        .translation:first-child, .annotation:first-child {
            display: block;
        }
        
        .translation-title {
            font-weight: bold;
            color: #8b4513;
            margin-bottom: 15px;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <h1>庄子·逍遥游（第三段）</h1>
    
    <div class="original-text" id="originalText">
        <p>且夫水之積也不厚，則其負大舟也無力。覆杯水於坳堂之上，則芥為之舟；置杯焉則膠，水淺而舟大也。風之積也不厚，則其負大翼也無力。故九萬里，則風斯在下矣，而後乃今培風；背負青天而莫之夭閼者，而後乃今將圖南。</p>
    </div>
    
    <div class="translation-container">
        <h2>英文译本</h2>
        
        <div class="button-group">
            <button onclick="showTranslation('legge')" class="active">James Legge</button>
            <button onclick="showTranslation('lin')">Lin Yutang</button>
            <button onclick="showTranslation('feng')">Feng Youlan</button>
            <button onclick="showTranslation('watson')">Burton Watson</button>
        </div>
        
        <div id="legge" class="translation" style="display: block;">
            <div class="translation-title">James Legge (1891):</div>
            <p>And moreover, (to speak of) the accumulation of water; if it be not great, it will not have strength to support a large boat. Upset a cup of water in a cavity, and a straw will float on it as if it were a boat. Place a cup in it, and it will stick fast; the water is shallow and the boat is large. (So it is with) the accumulation of wind; if it be not great, it will not have strength to support great wings. Therefore (the peng ascended to) the height of 90,000 li, and there was such a mass of wind beneath it; thenceforth the accumulation of wind was sufficient. As it seemed to bear the blue sky on its back, and there was nothing to obstruct or arrest its course, it could pursue its way to the South.</p>
        </div>
        
        <div id="lin" class="translation" style="display: none;">
            <div class="translation-title">Lin Yutang (1942):</div>
            <p>If there is not sufficient depth, water will not float large ships. Upset a cupful into a hole in the yard, and a mustard-seed will be your boat. Try to float the cup, and it will be grounded, due to the disproportion between water and vessel. So with air. If there is not sufficient a depth, it cannot support large wings. And for this bird, a depth of ninety thousand li is necessary to bear it up. Then, gliding upon the wind, with nothing save the clear sky above, and no obstacles in the way, it starts upon its journey to the south.</p>
        </div>
        
        <div id="feng" class="translation" style="display: none;">
            <div class="translation-title">Feng Youlan (1964):</div>
            <p>Without sufﬁcient depth, the water would not be able to ﬂoat a large boat. Upset a cup of water into a small hole, and a mustard seed will be the boat. Try to ﬂoat the cup, and it will stick, because the water is shallow and the vessel is large. Without sufﬁcient density, the wind would not be able to support the large wings. Therefore, when the peng ascends to the height of ninety thousand li , the wind is all beneath it. Then, with the blue sky above, and no obstacle on the way, it mounts upon the wind and starts for the south.</p>
        </div>
        
        <div id="watson" class="translation" style="display: none;">
            <div class="translation-title">Burton Watson (1968):</div>
            <p>If water is not piled up deep enough, it won't have the strength to bear up a big boat. Pour a cup of water into a hollow in the floor, and bits of trash will sail on it like boats. But set the cup there, and it will stick fast, for the water is too shallow and the boat too large. If wind is not piled up deep enough, it won't have the strength to bear up great wings. Therefore when the Peng rises ninety thousand li, he must have the wind under him like that. Only then can he mount on the back of the wind, shoulder the blue sky, and nothing can hinder or block him. Only then can he set his eyes to the south.</p>
        </div>
    </div>
    
    <div class="annotation-container">
        <h2>注释</h2>
        
        <div class="button-group">
            <button onclick="showAnnotation('guoxiang')" class="active">郭象注</button>
            <button onclick="showAnnotation('cheng')">成玄英疏</button>
        </div>
        
        <div id="guoxiang" class="annotation" style="display: block;">
            <p><strong>郭象注：</strong></p>
            <p>此皆明鵬之所以高飛者，翼大故耳。</p>
            <p>夫質小者所資不待大，則質大者所用不得小矣。</p>
            <p>故理有至分，物有定極，各足稱事，其濟一也。</p>
            <p>若乃失乎忘生之生而營生於至當之外，事不任力，動不稱情，則雖垂天之翼不能無窮，決起之飛不能無困矣。夫所以乃今將圖南者，非其好高而慕遠也，風不積則夭閼不通故耳。此大鵬之逍遙也。</p>
        </div>
        
        <div id="cheng" class="annotation" style="display: none;">
            <p><strong>成玄英疏：</strong></p>
            <p>且者假借，是聊略之辭。夫者開發，在語之端緒。</p>
            <p>夫翻覆一杯之水於坳污堂地之間，將草葉為舟，則浮汎靡滯；若還用杯為舟，理必不可。何者？水淺舟大，則黏地不行故也。是以大舟必須深水，小芥不待洪流，苟其大小得宜，則物皆逍遙。</p>
            <p>夫水不深厚，則大舟不可載浮；風不崇高，大翼無由淩霄漢。〔是〕以小鳥半朝，決起（搶）榆〔枋〕之上；大鵬九萬，飄風鼓扇其下也。</p>
            <p>初賴扶搖，故能昇翥；重積風吹，然後飛行。既而上負青天，下乘風脊，一淩霄漢，六月方止。網羅不逮，畢弋無侵，折塞之禍，於何而至！良由資待合宜，自致得所，逍遙南海，不亦宜乎！</p>
        </div>
    </div>
    
    <script>
        // Character data
        const charData = {
            '且': { pinyin: 'qiě', english: 'moreover' },
            '夫': { pinyin: 'fú', english: '(particle)' },
            '水': { pinyin: 'shuǐ', english: 'water' },
            '之': { pinyin: 'zhī', english: '(possessive)' },
            '積': { pinyin: 'jī', english: 'accumulate' },
            '也': { pinyin: 'yě', english: '(particle)' },
            '不': { pinyin: 'bù', english: 'not' },
            '厚': { pinyin: 'hòu', english: 'thick' },
            '則': { pinyin: 'zé', english: 'then' },
            '其': { pinyin: 'qí', english: 'its' },
            '負': { pinyin: 'fù', english: 'bear' },
            '大': { pinyin: 'dà', english: 'large' },
            '舟': { pinyin: 'zhōu', english: 'boat' },
            '無': { pinyin: 'wú', english: 'not have' },
            '力': { pinyin: 'lì', english: 'strength' },
            '覆': { pinyin: 'fù', english: 'overturn' },
            '杯': { pinyin: 'bēi', english: 'cup' },
            '於': { pinyin: 'yú', english: 'at' },
            '坳': { pinyin: 'ào', english: 'hollow' },
            '堂': { pinyin: 'táng', english: 'hall' },
            '上': { pinyin: 'shàng', english: 'above' },
            '芥': { pinyin: 'jiè', english: 'mustard seed' },
            '為': { pinyin: 'wéi', english: 'as' },
            '置': { pinyin: 'zhì', english: 'place' },
            '焉': { pinyin: 'yān', english: 'there' },
            '膠': { pinyin: 'jiāo', english: 'stick' },
            '淺': { pinyin: 'qiǎn', english: 'shallow' },
            '而': { pinyin: 'ér', english: 'and' },
            '風': { pinyin: 'fēng', english: 'wind' },
            '翼': { pinyin: 'yì', english: 'wings' },
            '故': { pinyin: 'gù', english: 'therefore' },
            '九': { pinyin: 'jiǔ', english: 'nine' },
            '萬': { pinyin: 'wàn', english: 'ten thousand' },
            '里': { pinyin: 'lǐ', english: 'li (distance)' },
            '斯': { pinyin: 'sī', english: 'this' },
            '在': { pinyin: 'zài', english: 'at' },
            '下': { pinyin: 'xià', english: 'below' },
            '矣': { pinyin: 'yǐ', english: '(particle)' },
            '後': { pinyin: 'hòu', english: 'after' },
            '乃': { pinyin: 'nǎi', english: 'then' },
            '今': { pinyin: 'jīn', english: 'now' },
            '培': { pinyin: 'péi', english: 'pile up' },
            '背': { pinyin: 'bèi', english: 'back' },
            '青': { pinyin: 'qīng', english: 'blue' },
            '天': { pinyin: 'tiān', english: 'sky' },
            '莫': { pinyin: 'mò', english: 'none' },
            '夭': { pinyin: 'yāo', english: 'cut off' },
            '閼': { pinyin: 'è', english: 'block' },
            '者': { pinyin: 'zhě', english: '(particle)' },
            '將': { pinyin: 'jiāng', english: 'will' },
            '圖': { pinyin: 'tú', english: 'plan' },
            '南': { pinyin: 'nán', english: 'south' }
        };

        // Process original text
        function processOriginalText() {
            const originalText = document.getElementById('originalText');
            const text = originalText.innerHTML;
            
            let processedText = '';
            let inTag = false;
            let tempTag = '';
            
            for (let i = 0; i < text.length; i++) {
                const char = text[i];
                
                if (char === '<') {
                    inTag = true;
                    tempTag += char;
                    continue;
                }
                
                if (char === '>') {
                    inTag = false;
                    tempTag += char;
                    processedText += tempTag;
                    tempTag = '';
                    continue;
                }
                
                if (inTag) {
                    tempTag += char;
                    continue;
                }
                
                if (charData[char]) {
                    processedText += `<span class="char-container" onclick="showCharInfo(this)" data-char="${char}">${char}<span class="char-popup">${charData[char].pinyin}</span></span>`;
                } else {
                    processedText += char;
                }
            }
            
            originalText.innerHTML = processedText;
        }

        // Show character info
        function showCharInfo(element) {
            const char = element.getAttribute('data-char');
            const popup = element.querySelector('.char-popup');
            
            if (popup.textContent === charData[char].pinyin) {
                popup.textContent = charData[char].english;
            } else {
                popup.textContent = charData[char].pinyin;
            }
        }

        // Translation switching
        function showTranslation(translator) {
            document.querySelectorAll('.translation').forEach(el => {
                el.style.display = 'none';
            });
            document.getElementById(translator).style.display = 'block';
            
            document.querySelectorAll('.translation-container .button-group button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Annotation switching
        function showAnnotation(commentator) {
            document.querySelectorAll('.annotation').forEach(el => {
                el.style.display = 'none';
            });
            document.getElementById(commentator).style.display = 'block';
            
            document.querySelectorAll('.annotation-container .button-group button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Initialize
        window.onload = function() {
            processOriginalText();
        };
    </script>
</body>
</html>